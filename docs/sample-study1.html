<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Thomas E. Love">
<meta name="dcterms.date" content="2024-11-14">

<title>431 Project B Sample Study 1 Report – 431 Project B</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">431 Project B</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-the-data" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">The Data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-the-data">    
        <li>
    <a class="dropdown-item" href="./data1.html">
 <span class="dropdown-text">Data Development</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data2.html">
 <span class="dropdown-text">Using NHANES data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data3.html">
 <span class="dropdown-text">Using Something Else</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./register.html"> 
<span class="menu-text">Registration</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-study-1" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Study 1</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-study-1">    
        <li>
    <a class="dropdown-item" href="./study1a.html">
 <span class="dropdown-text">Required Study 1 Analyses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./study1b.html">
 <span class="dropdown-text">Study 1 Report Specifications</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./study1c.html">
 <span class="dropdown-text">Study 1 Sample Report</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-study-2" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Study 2</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-study-2">    
        <li>
    <a class="dropdown-item" href="./study2a.html">
 <span class="dropdown-text">Required Study 2 Analyses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./study2b.html">
 <span class="dropdown-text">Study 2 Report Specifications</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./study2c.html">
 <span class="dropdown-text">Study 2 Sample Report</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./self_eval.html"> 
<span class="menu-text">Self-Evaluation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./checklist.html"> 
<span class="menu-text">Checklist</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tipsheet.html"> 
<span class="menu-text">Tip Sheet</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://thomaselove.github.io/431-2024/contact.html"> 
<span class="menu-text">Contact Us</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://thomaselove.github.io/431-2024"> 
<span class="menu-text">431 Homepage</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setup-and-data-ingest" id="toc-setup-and-data-ingest" class="nav-link active" data-scroll-target="#setup-and-data-ingest"><span class="header-section-number">1</span> Setup and Data Ingest</a>
  <ul class="collapse">
  <li><a href="#initial-setup-and-package-loads" id="toc-initial-setup-and-package-loads" class="nav-link" data-scroll-target="#initial-setup-and-package-loads"><span class="header-section-number">1.1</span> Initial Setup and Package Loads</a></li>
  <li><a href="#loading-the-raw-data-into-r" id="toc-loading-the-raw-data-into-r" class="nav-link" data-scroll-target="#loading-the-raw-data-into-r"><span class="header-section-number">1.2</span> Loading the Raw Data into R</a></li>
  <li><a href="#contents-of-the-raw-tibbles" id="toc-contents-of-the-raw-tibbles" class="nav-link" data-scroll-target="#contents-of-the-raw-tibbles"><span class="header-section-number">1.3</span> Contents of the Raw Tibbles</a></li>
  <li><a href="#two-merging-steps" id="toc-two-merging-steps" class="nav-link" data-scroll-target="#two-merging-steps"><span class="header-section-number">1.4</span> Two Merging Steps</a></li>
  <li><a href="#checking-the-merge" id="toc-checking-the-merge" class="nav-link" data-scroll-target="#checking-the-merge"><span class="header-section-number">1.5</span> Checking the Merge</a></li>
  <li><a href="#selecting-only-the-variables-well-use" id="toc-selecting-only-the-variables-well-use" class="nav-link" data-scroll-target="#selecting-only-the-variables-well-use"><span class="header-section-number">1.6</span> Selecting only the variables we’ll use</a></li>
  </ul></li>
  <li><a href="#cleaning-the-data" id="toc-cleaning-the-data" class="nav-link" data-scroll-target="#cleaning-the-data"><span class="header-section-number">2</span> Cleaning the Data</a>
  <ul class="collapse">
  <li><a href="#our-survey-items" id="toc-our-survey-items" class="nav-link" data-scroll-target="#our-survey-items"><span class="header-section-number">2.1</span> Our Survey Items</a>
  <ul class="collapse">
  <li><a href="#rating-variables" id="toc-rating-variables" class="nav-link" data-scroll-target="#rating-variables"><span class="header-section-number">2.1.1</span> Rating Variables</a></li>
  <li><a href="#other-quantitative-variables" id="toc-other-quantitative-variables" class="nav-link" data-scroll-target="#other-quantitative-variables"><span class="header-section-number">2.1.2</span> Other Quantitative Variables</a></li>
  <li><a href="#binary-variables" id="toc-binary-variables" class="nav-link" data-scroll-target="#binary-variables"><span class="header-section-number">2.1.3</span> Binary Variables</a></li>
  <li><a href="#multi-categorical-variables" id="toc-multi-categorical-variables" class="nav-link" data-scroll-target="#multi-categorical-variables"><span class="header-section-number">2.1.4</span> Multi-Categorical Variables</a></li>
  </ul></li>
  <li><a href="#checking-our-quantitative-variables" id="toc-checking-our-quantitative-variables" class="nav-link" data-scroll-target="#checking-our-quantitative-variables"><span class="header-section-number">2.2</span> Checking our Quantitative Variables</a>
  <ul class="collapse">
  <li><a href="#combining-height-and-weight-into-bmi-and-specifying-na-for-implausible-values" id="toc-combining-height-and-weight-into-bmi-and-specifying-na-for-implausible-values" class="nav-link" data-scroll-target="#combining-height-and-weight-into-bmi-and-specifying-na-for-implausible-values"><span class="header-section-number">2.2.1</span> Combining <code>height</code> and <code>weight</code> into <code>bmi</code> and Specifying <code>NA</code> for Implausible Values</a></li>
  </ul></li>
  <li><a href="#checking-our-binary-variables" id="toc-checking-our-binary-variables" class="nav-link" data-scroll-target="#checking-our-binary-variables"><span class="header-section-number">2.3</span> Checking our Binary Variables</a></li>
  <li><a href="#checking-our-multi-category-variables" id="toc-checking-our-multi-category-variables" class="nav-link" data-scroll-target="#checking-our-multi-category-variables"><span class="header-section-number">2.4</span> Checking our Multi-Category Variables</a>
  <ul class="collapse">
  <li><a href="#the-grades-variable" id="toc-the-grades-variable" class="nav-link" data-scroll-target="#the-grades-variable"><span class="header-section-number">2.4.1</span> The <code>grades</code> variable</a></li>
  <li><a href="#the-medium-variable" id="toc-the-medium-variable" class="nav-link" data-scroll-target="#the-medium-variable"><span class="header-section-number">2.4.2</span> The <code>medium</code> variable</a></li>
  <li><a href="#the-fiction-variable" id="toc-the-fiction-variable" class="nav-link" data-scroll-target="#the-fiction-variable"><span class="header-section-number">2.4.3</span> The <code>fiction</code> variable</a></li>
  <li><a href="#collapsing-and-recoding-levels-of-fiction" id="toc-collapsing-and-recoding-levels-of-fiction" class="nav-link" data-scroll-target="#collapsing-and-recoding-levels-of-fiction"><span class="header-section-number">2.4.4</span> Collapsing and recoding levels of <code>fiction</code></a></li>
  </ul></li>
  <li><a href="#creating-our-analytic-tibble" id="toc-creating-our-analytic-tibble" class="nav-link" data-scroll-target="#creating-our-analytic-tibble"><span class="header-section-number">2.5</span> Creating our Analytic Tibble</a></li>
  <li><a href="#list-of-missing-values" id="toc-list-of-missing-values" class="nav-link" data-scroll-target="#list-of-missing-values"><span class="header-section-number">2.6</span> List of Missing Values</a></li>
  <li><a href="#filtering-to-complete-cases" id="toc-filtering-to-complete-cases" class="nav-link" data-scroll-target="#filtering-to-complete-cases"><span class="header-section-number">2.7</span> Filtering to Complete Cases</a></li>
  </ul></li>
  <li><a href="#codebook-and-data-description" id="toc-codebook-and-data-description" class="nav-link" data-scroll-target="#codebook-and-data-description"><span class="header-section-number">3</span> Codebook and Data Description</a>
  <ul class="collapse">
  <li><a href="#variable-descriptions" id="toc-variable-descriptions" class="nav-link" data-scroll-target="#variable-descriptions"><span class="header-section-number">3.1</span> Variable Descriptions</a></li>
  <li><a href="#analytic-tibble" id="toc-analytic-tibble" class="nav-link" data-scroll-target="#analytic-tibble"><span class="header-section-number">3.2</span> Analytic Tibble</a></li>
  <li><a href="#data-summary" id="toc-data-summary" class="nav-link" data-scroll-target="#data-summary"><span class="header-section-number">3.3</span> Data Summary</a>
  <ul class="collapse">
  <li><a href="#data_description" id="toc-data_description" class="nav-link" data-scroll-target="#data_description"><span class="header-section-number">3.3.1</span> <code>data_description()</code></a></li>
  <li><a href="#data_codebook" id="toc-data_codebook" class="nav-link" data-scroll-target="#data_codebook"><span class="header-section-number">3.3.2</span> <code>data_codebook()</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#analysis-a-compare-2-population-means-using-paired-samples" id="toc-analysis-a-compare-2-population-means-using-paired-samples" class="nav-link" data-scroll-target="#analysis-a-compare-2-population-means-using-paired-samples"><span class="header-section-number">4</span> Analysis A: Compare 2 Population Means using Paired Samples</a>
  <ul class="collapse">
  <li><a href="#the-question" id="toc-the-question" class="nav-link" data-scroll-target="#the-question"><span class="header-section-number">4.1</span> The Question</a></li>
  <li><a href="#describing-the-data" id="toc-describing-the-data" class="nav-link" data-scroll-target="#describing-the-data"><span class="header-section-number">4.2</span> Describing the Data</a>
  <ul class="collapse">
  <li><a href="#compute-and-summarize-the-paired-differences" id="toc-compute-and-summarize-the-paired-differences" class="nav-link" data-scroll-target="#compute-and-summarize-the-paired-differences"><span class="header-section-number">4.2.1</span> Compute and summarize the paired differences</a></li>
  <li><a href="#graphical-summaries-to-assess-normality" id="toc-graphical-summaries-to-assess-normality" class="nav-link" data-scroll-target="#graphical-summaries-to-assess-normality"><span class="header-section-number">4.2.2</span> Graphical Summaries to Assess Normality</a></li>
  <li><a href="#did-pairing-help-reduce-nuisance-variation" id="toc-did-pairing-help-reduce-nuisance-variation" class="nav-link" data-scroll-target="#did-pairing-help-reduce-nuisance-variation"><span class="header-section-number">4.2.3</span> Did Pairing Help Reduce Nuisance Variation?</a></li>
  </ul></li>
  <li><a href="#main-analysis" id="toc-main-analysis" class="nav-link" data-scroll-target="#main-analysis"><span class="header-section-number">4.3</span> Main Analysis</a>
  <ul class="collapse">
  <li><a href="#the-paired-t-test-approach" id="toc-the-paired-t-test-approach" class="nav-link" data-scroll-target="#the-paired-t-test-approach"><span class="header-section-number">4.3.1</span> The Paired t test approach</a></li>
  <li><a href="#the-bootstrap-approach-for-the-mean-from-paired-samples" id="toc-the-bootstrap-approach-for-the-mean-from-paired-samples" class="nav-link" data-scroll-target="#the-bootstrap-approach-for-the-mean-from-paired-samples"><span class="header-section-number">4.3.2</span> The Bootstrap approach for the mean from paired samples</a></li>
  </ul></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions"><span class="header-section-number">4.4</span> Conclusions</a></li>
  </ul></li>
  <li><a href="#analysis-b-compare-2-population-means-using-independent-samples" id="toc-analysis-b-compare-2-population-means-using-independent-samples" class="nav-link" data-scroll-target="#analysis-b-compare-2-population-means-using-independent-samples"><span class="header-section-number">5</span> Analysis B: Compare 2 Population Means using Independent Samples</a>
  <ul class="collapse">
  <li><a href="#the-question-1" id="toc-the-question-1" class="nav-link" data-scroll-target="#the-question-1"><span class="header-section-number">5.1</span> The Question</a></li>
  <li><a href="#describing-the-data-1" id="toc-describing-the-data-1" class="nav-link" data-scroll-target="#describing-the-data-1"><span class="header-section-number">5.2</span> Describing the Data</a>
  <ul class="collapse">
  <li><a href="#graphical-summaries" id="toc-graphical-summaries" class="nav-link" data-scroll-target="#graphical-summaries"><span class="header-section-number">5.2.1</span> Graphical Summaries</a></li>
  <li><a href="#numerical-summaries" id="toc-numerical-summaries" class="nav-link" data-scroll-target="#numerical-summaries"><span class="header-section-number">5.2.2</span> Numerical Summaries</a></li>
  </ul></li>
  <li><a href="#main-analysis-1" id="toc-main-analysis-1" class="nav-link" data-scroll-target="#main-analysis-1"><span class="header-section-number">5.3</span> Main Analysis</a>
  <ul class="collapse">
  <li><a href="#the-welchs-t-test-approach" id="toc-the-welchs-t-test-approach" class="nav-link" data-scroll-target="#the-welchs-t-test-approach"><span class="header-section-number">5.3.1</span> The Welch’s t test approach</a></li>
  <li><a href="#the-pooled-t-test-t-test-with-equal-variances" id="toc-the-pooled-t-test-t-test-with-equal-variances" class="nav-link" data-scroll-target="#the-pooled-t-test-t-test-with-equal-variances"><span class="header-section-number">5.3.2</span> The Pooled t test (t test with equal variances)</a></li>
  <li><a href="#the-bootstrap-for-comparing-means-from-two-independent-samples" id="toc-the-bootstrap-for-comparing-means-from-two-independent-samples" class="nav-link" data-scroll-target="#the-bootstrap-for-comparing-means-from-two-independent-samples"><span class="header-section-number">5.3.3</span> The Bootstrap for comparing means from two independent samples</a></li>
  </ul></li>
  <li><a href="#conclusions-1" id="toc-conclusions-1" class="nav-link" data-scroll-target="#conclusions-1"><span class="header-section-number">5.4</span> Conclusions</a></li>
  </ul></li>
  <li><a href="#analysis-c-comparing-3-population-means-via-anova" id="toc-analysis-c-comparing-3-population-means-via-anova" class="nav-link" data-scroll-target="#analysis-c-comparing-3-population-means-via-anova"><span class="header-section-number">6</span> Analysis C: Comparing 3 Population Means via ANOVA</a>
  <ul class="collapse">
  <li><a href="#the-question-2" id="toc-the-question-2" class="nav-link" data-scroll-target="#the-question-2"><span class="header-section-number">6.1</span> The Question</a></li>
  <li><a href="#describing-the-data-2" id="toc-describing-the-data-2" class="nav-link" data-scroll-target="#describing-the-data-2"><span class="header-section-number">6.2</span> Describing the Data</a>
  <ul class="collapse">
  <li><a href="#graphical-summaries-1" id="toc-graphical-summaries-1" class="nav-link" data-scroll-target="#graphical-summaries-1"><span class="header-section-number">6.2.1</span> Graphical Summaries</a></li>
  <li><a href="#numerical-summaries-1" id="toc-numerical-summaries-1" class="nav-link" data-scroll-target="#numerical-summaries-1"><span class="header-section-number">6.2.2</span> Numerical Summaries</a></li>
  </ul></li>
  <li><a href="#analysis-of-variance" id="toc-analysis-of-variance" class="nav-link" data-scroll-target="#analysis-of-variance"><span class="header-section-number">6.3</span> Analysis of Variance</a>
  <ul class="collapse">
  <li><a href="#holm-approach-to-pairwise-comparisons-of-means" id="toc-holm-approach-to-pairwise-comparisons-of-means" class="nav-link" data-scroll-target="#holm-approach-to-pairwise-comparisons-of-means"><span class="header-section-number">6.3.1</span> Holm approach to Pairwise Comparisons of Means</a></li>
  </ul></li>
  <li><a href="#conclusions-2" id="toc-conclusions-2" class="nav-link" data-scroll-target="#conclusions-2"><span class="header-section-number">6.4</span> Conclusions</a></li>
  </ul></li>
  <li><a href="#analysis-d-two-way-2-x-2-contingency-table" id="toc-analysis-d-two-way-2-x-2-contingency-table" class="nav-link" data-scroll-target="#analysis-d-two-way-2-x-2-contingency-table"><span class="header-section-number">7</span> Analysis D: Two-Way (2 x 2) Contingency Table</a>
  <ul class="collapse">
  <li><a href="#the-question-3" id="toc-the-question-3" class="nav-link" data-scroll-target="#the-question-3"><span class="header-section-number">7.1</span> The Question</a></li>
  <li><a href="#describing-the-data-3" id="toc-describing-the-data-3" class="nav-link" data-scroll-target="#describing-the-data-3"><span class="header-section-number">7.2</span> Describing the Data</a></li>
  <li><a href="#main-analysis-2" id="toc-main-analysis-2" class="nav-link" data-scroll-target="#main-analysis-2"><span class="header-section-number">7.3</span> Main Analysis</a>
  <ul class="collapse">
  <li><a href="#checking-assumptions" id="toc-checking-assumptions" class="nav-link" data-scroll-target="#checking-assumptions"><span class="header-section-number">7.3.1</span> Checking Assumptions</a></li>
  <li><a href="#what-if-we-wanted-to-type-in-the-table-ourselves" id="toc-what-if-we-wanted-to-type-in-the-table-ourselves" class="nav-link" data-scroll-target="#what-if-we-wanted-to-type-in-the-table-ourselves"><span class="header-section-number">7.3.2</span> What If We Wanted to Type in the Table Ourselves?</a></li>
  </ul></li>
  <li><a href="#conclusions-3" id="toc-conclusions-3" class="nav-link" data-scroll-target="#conclusions-3"><span class="header-section-number">7.4</span> Conclusions</a></li>
  </ul></li>
  <li><a href="#analysis-e-two-way-3-x-4-contingency-table" id="toc-analysis-e-two-way-3-x-4-contingency-table" class="nav-link" data-scroll-target="#analysis-e-two-way-3-x-4-contingency-table"><span class="header-section-number">8</span> Analysis E: Two-Way (3 x 4) Contingency Table</a>
  <ul class="collapse">
  <li><a href="#the-question-4" id="toc-the-question-4" class="nav-link" data-scroll-target="#the-question-4"><span class="header-section-number">8.1</span> The Question</a></li>
  <li><a href="#describing-the-data-4" id="toc-describing-the-data-4" class="nav-link" data-scroll-target="#describing-the-data-4"><span class="header-section-number">8.2</span> Describing the Data</a></li>
  <li><a href="#main-analysis-3" id="toc-main-analysis-3" class="nav-link" data-scroll-target="#main-analysis-3"><span class="header-section-number">8.3</span> Main Analysis</a>
  <ul class="collapse">
  <li><a href="#running-the-pearson-chi2-test" id="toc-running-the-pearson-chi2-test" class="nav-link" data-scroll-target="#running-the-pearson-chi2-test"><span class="header-section-number">8.3.1</span> Running the Pearson <span class="math inline">\(\chi^2\)</span> Test</a></li>
  <li><a href="#running-fishers-exact-test" id="toc-running-fishers-exact-test" class="nav-link" data-scroll-target="#running-fishers-exact-test"><span class="header-section-number">8.3.2</span> Running Fisher’s Exact Test</a></li>
  <li><a href="#checking-assumptions---the-cochran-conditions" id="toc-checking-assumptions---the-cochran-conditions" class="nav-link" data-scroll-target="#checking-assumptions---the-cochran-conditions"><span class="header-section-number">8.3.3</span> Checking Assumptions - The Cochran Conditions</a></li>
  <li><a href="#an-association-plot-for-the-3x4-table" id="toc-an-association-plot-for-the-3x4-table" class="nav-link" data-scroll-target="#an-association-plot-for-the-3x4-table"><span class="header-section-number">8.3.4</span> An Association Plot for the 3x4 Table</a></li>
  <li><a href="#a-2x3-table-after-collapsing-lumping-some-small-rows-and-columns" id="toc-a-2x3-table-after-collapsing-lumping-some-small-rows-and-columns" class="nav-link" data-scroll-target="#a-2x3-table-after-collapsing-lumping-some-small-rows-and-columns"><span class="header-section-number">8.3.5</span> A 2x3 Table, After Collapsing (Lumping) Some Small Rows and Columns</a></li>
  <li><a href="#chi-square-testing-for-the-2x3-table" id="toc-chi-square-testing-for-the-2x3-table" class="nav-link" data-scroll-target="#chi-square-testing-for-the-2x3-table"><span class="header-section-number">8.3.6</span> Chi-Square Testing for the 2x3 Table</a></li>
  </ul></li>
  <li><a href="#conclusions-4" id="toc-conclusions-4" class="nav-link" data-scroll-target="#conclusions-4"><span class="header-section-number">8.4</span> Conclusions</a></li>
  </ul></li>
  <li><a href="#session-information" id="toc-session-information" class="nav-link" data-scroll-target="#session-information"><span class="header-section-number">9</span> Session Information</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">431 Project B Sample Study 1 Report</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Thomas E. Love </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2024-11-14</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Reminders from Dr.&nbsp;Love
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Remember that each subsection should include at least one complete sentence explaining what you are doing, specifying the variables you are using and how you are using them, and then conclude with at least one complete sentence of discussion of the key conclusions you draw from the current step, and a discussion of any limitations you can describe that apply to the results.</p></li>
<li><p>If you want to download the Quarto code I used to create this document <strong>to use as a template for your own work</strong>, click on the Code button near the title of this Sample Study.</p></li>
<li><p>In general, DO NOT use my exact words (other than the section and subsection headings) included in this sample report in your project. Rewrite everything to make it relevant to your situation. Do not repeat my instructions back to me.</p></li>
</ol>
<ul>
<li>One partial exception is that I have demonstrated the interpretation of point estimates (and in some cases, like the paired tests in Analysis A, and the independent sample tests in Analysis B, the confidence intervals, too) using language that I would be happy to see you use.</li>
</ul>
</div>
</div>
<section id="setup-and-data-ingest" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Setup and Data Ingest</h1>
<section id="initial-setup-and-package-loads" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="initial-setup-and-package-loads"><span class="header-section-number">1.1</span> Initial Setup and Package Loads</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Epi)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xfun)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Load Love-431 script </span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"data/Love-431.R"</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Global options</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">comment=</span><span class="cn">NA</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-the-raw-data-into-r" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="loading-the-raw-data-into-r"><span class="header-section-number">1.2</span> Loading the Raw Data into R</h2>
<p>This document demonstrates a variety of things required in your Project B Study 1. We will demonstrate ideas using data from a 2015 class survey, gathered in three data files available on the <a href="https://github.com/THOMASELOVE/431-data/tree/main/data-and-code">431-data website</a>. The files are called:</p>
<ul>
<li><code>projectB-study1-demo-survey-2015a.xlsx</code></li>
<li><code>projectB-study1-demo-survey-2015b.csv</code></li>
<li><code>projectB-study1-demo-survey-2015c.csv</code></li>
</ul>
<p>After merging, the complete data set should include data on 21 variables for 53 subjects.</p>
<ul>
<li>I’m going to use <code>clean_names()</code> from the <code>janitor</code> package before I do the merging. It would also be OK to do this after the merge is complete.</li>
<li>I’m also going to tell R to interpret both a blank “” and an “NA” in a cell of the Excel sheet as indicating a missing value, since that’s what I need, and since that’s what <code>read_csv</code> already does, by default.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>sur15_raw_a <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/projectB-study1-demo-survey-2015a.xlsx"</span>, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>sur15_raw_b <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/projectB-study1-demo-survey-2015b.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>sur15_raw_c <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/projectB-study1-demo-survey-2015c.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="contents-of-the-raw-tibbles" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="contents-of-the-raw-tibbles"><span class="header-section-number">1.3</span> Contents of the Raw Tibbles</h2>
<p>We have three tibbles now, which (once we have merged them together) will contain complete data on all 53 subjects for all 21 variables.</p>
<ul>
<li><code>sur15_raw_a</code> contains data on all 21 variables for the first 20 subjects.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_a)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20 21</code></pre>
</div>
</div>
<ul>
<li><code>sur15_raw_b</code> contains data on 9 of the variables (including the subject ID code: <code>s.id</code>) for the other 33 subjects.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33  9</code></pre>
</div>
</div>
<ul>
<li><code>sur15_raw_c</code> contains data on 13 of the variables (also including the subject ID code: <code>s.id</code>) for the same 33 subjects that are in <code>sur15_raw_b</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33 13</code></pre>
</div>
</div>
</section>
<section id="two-merging-steps" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="two-merging-steps"><span class="header-section-number">1.4</span> Two Merging Steps</h2>
<ol type="1">
<li>Join the columns in <code>sur15_raw_b</code> and in <code>sur15_raw_c</code> to obtain a new tibble, which I’ll call <code>sur15_last33</code>, holding information on all 21 variables for the last 33 subjects.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sur15_last33 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(sur15_raw_b, sur15_raw_c, <span class="at">by =</span> <span class="st">"s_id"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_last33)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 33 21</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Combine the rows together from <code>sur15_raw_a</code> (which has the first 20 subjects) and <code>sur15_last33</code> (which has the other 33 subjects) to create a tibble called <code>sur15_merged</code> which has all 21 variables for all 53 subjects.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sur15_merge <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sur15_raw_a, sur15_last33)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_merge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53 21</code></pre>
</div>
</div>
<p>OK. We have 53 subjects and 21 variables, as expected.</p>
</section>
<section id="checking-the-merge" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="checking-the-merge"><span class="header-section-number">1.5</span> Checking the Merge</h2>
<p>We need to perform two checks here.</p>
<ol type="1">
<li>First, we should check to ensure that the number of distinct (unique) subject identification codes (shown below) matches the number of rows. Those two values should be identical. Are they?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">n_distinct</span>(sur15_merge<span class="sc">$</span>s_id), </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>          sur15_merge <span class="sc">|&gt;</span> <span class="fu">nrow</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Excellent.</p>
<ol start="2" type="1">
<li>Second, we should also check that we haven’t added any new variables. The <code>sur15_raw_a</code> tibble included all of the variable names we should have in the final result. Do the names in <code>sur15_raw_a</code> match the names in our merged tibble exactly?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">names</span>(sur15_merge), </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">names</span>(sur15_raw_a))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>All right. Our merge was successful.</p>
</section>
<section id="selecting-only-the-variables-well-use" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="selecting-only-the-variables-well-use"><span class="header-section-number">1.6</span> Selecting only the variables we’ll use</h2>
<p>The <code>sur15_merge</code> data includes some variables we don’t need, so we’ll prune down to the 11 variables we’ll actually use in the analyses we’ll do. This should certainly include the subject identification code, so we’ll include that, and also switch it to a character representation instead of numeric.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_merge <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">s_id =</span> <span class="fu">as.character</span>(s_id)) <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(s_id, r_pre, r_now, height, weight, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>         comfort_431, grades, r_before, english, </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>         medium, fiction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="cleaning-the-data" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Cleaning the Data</h1>
<section id="our-survey-items" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="our-survey-items"><span class="header-section-number">2.1</span> Our Survey Items</h2>
<p>The 10 survey items that we will actually use in this demonstration are listed below.</p>
<section id="rating-variables" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="rating-variables"><span class="header-section-number">2.1.1</span> Rating Variables</h3>
<p>For each of these, subjects gave a response between 0 and 100 indicating their agreement with the statement as presented. The scale was 0 = Strongly disagree, 100 = Strongly agree.</p>
<ol type="1">
<li><code>r_pre</code>: Prior to taking 431, I was totally confident and comfortable with using R. (0 = Strongly Disagree, 100 = Strongly Agree)</li>
<li><code>r_now</code>: Right now, I am totally confident and comfortable with using R. (0 = Strongly Disagree, 100 = Strongly Agree)</li>
<li><code>comfort_431</code>: I am very comfortable with my understanding of the material discussed so far in 431.</li>
</ol>
</section>
<section id="other-quantitative-variables" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="other-quantitative-variables"><span class="header-section-number">2.1.2</span> Other Quantitative Variables</h3>
<ol start="4" type="1">
<li><code>height</code>: What is your height, in inches?</li>
<li><code>weight</code>: What is your weight, in pounds?</li>
</ol>
</section>
<section id="binary-variables" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="binary-variables"><span class="header-section-number">2.1.3</span> Binary Variables</h3>
<ol start="6" type="1">
<li><code>r_before</code>: Before taking 431, had you ever used R before? (Yes, No)</li>
<li><code>english</code>: Is English the language you speak better than any other? (Yes, No)</li>
</ol>
</section>
<section id="multi-categorical-variables" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="multi-categorical-variables"><span class="header-section-number">2.1.4</span> Multi-Categorical Variables</h3>
<ol start="8" type="1">
<li><code>grades</code>: In your graduate and undergraduate educational experience, which of the following types of assignments have you received the HIGHEST grades for?
<ul>
<li>Available responses were “A. Individual Assignments”, “B. Partner Assignments (you and 1 other student)”, and “C. Group Assignments (you and 2 or more others)”.</li>
</ul></li>
<li><code>medium</code>: Which medium do you use most to get your fictional stories (containing plot)?
<ul>
<li>Available Responses: “A. Movies”, “B. Television”, “C. Print (including books, comics, etc.)”, and “D. Other”.</li>
</ul></li>
<li><code>fiction</code>: Which type of fictional stories do you consume most?
<ul>
<li>Available Responses: “A. Comedy”, “B. Drama”, “C. Action”, “D. Horror / Thriller”, and “E. Fantasy / Science Fiction”.</li>
</ul></li>
</ol>
<p>Our analytic tibble will be called <code>sur15</code> for this demonstration.</p>
<ul>
<li>This tibble will need to contain information developed from the variables listed above, plus the subject identifying code <code>s_id</code>.</li>
<li>As we add variables to the analytic tibble, we’ll also check to see that all of the values fall in a reasonable range (with no results that fall outside of the parameters of how we are measuring the results) and we’ll identify whether there are any missing values.</li>
</ul>
<p>Note that we’ve already checked our subject identification codes to ensure that we have no missing values there and that we have a unique identifier for each row in the data back when we did the merge.</p>
</section>
</section>
<section id="checking-our-quantitative-variables" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="checking-our-quantitative-variables"><span class="header-section-number">2.2</span> Checking our Quantitative Variables</h2>
<p>We have five quantitative variables. We want to check the range (minimum and maximum) plus for each, to ensure that we have no impossible or missing values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(r_pre, r_now, comfort_431, height, weight) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_codebook</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>select(sur15_m, r_pre, r_now, comfort_431, height, weight) (53 rows and 5 variables, 5 shown)

ID | Name        | Type    | Missings |       Values |  N
---+-------------+---------+----------+--------------+---
1  | r_pre       | numeric | 0 (0.0%) |      [0, 90] | 53
---+-------------+---------+----------+--------------+---
2  | r_now       | numeric | 0 (0.0%) |      [0, 95] | 53
---+-------------+---------+----------+--------------+---
3  | comfort_431 | numeric | 0 (0.0%) |    [15, 100] | 53
---+-------------+---------+----------+--------------+---
4  | height      | numeric | 0 (0.0%) | [22.83, 217] | 53
---+-------------+---------+----------+--------------+---
5  | weight      | numeric | 0 (0.0%) |     [1, 320] | 53
---------------------------------------------------------</code></pre>
</div>
</div>
<ul>
<li>For the three rating variables, all values are in the range [0, 100], as they must be.</li>
<li>However, the <code>height</code> range doesn’t seem reasonable. With <code>height</code> measured in inches, do we really think there should be a height as small as 22.83 inches?</li>
<li>The <code>weight</code> minimum is also a problem. Is 1 pound a reasonable value?</li>
<li>We also want to create a body mass index from the <code>height</code> and <code>weight</code> data</li>
</ul>
<section id="combining-height-and-weight-into-bmi-and-specifying-na-for-implausible-values" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="combining-height-and-weight-into-bmi-and-specifying-na-for-implausible-values"><span class="header-section-number">2.2.1</span> Combining <code>height</code> and <code>weight</code> into <code>bmi</code> and Specifying <code>NA</code> for Implausible Values</h3>
<p>We will calculate <code>bmi</code> (body-mass index) from the available <code>height</code> (inches) and <code>weight</code> (pounds) data. The BMI formula for inches and pounds is available at http://www.bmi-calculator.net/bmi-formula.php. A reasonable range for BMI values is probably about 15 to 50.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">bmi =</span> <span class="dv">703</span> <span class="sc">*</span> weight <span class="sc">/</span> height<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(bmi))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
      n  miss  mean    sd   med   mad   min   q25   q75   max
  &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1    53     0  26.2  23.5  23.2  3.25 0.159  21.2  25.5  189.</code></pre>
</div>
</div>
<p>The minimum calculated <code>bmi</code> value seems impossibly low, and the highest <code>bmi</code> seems impossibly high. Let’s look at the heights and weights involved.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(height) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  s_id  height weight
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 504     22.8    140
2 530     61      140
3 513     61.4    112
4 519     62      126
5 528     62      155
6 540     62      140</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(height) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  s_id  height weight
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 532       72    160
2 549       72    220
3 506       73    145
4 507       74    320
5 535       74    172
6 529      217    165</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(weight) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  s_id  height weight
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 550     66.5      1
2 521     63      107
3 512     65      112
4 513     61.4    112
5 552     65      120
6 526     64      121</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(weight) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  s_id  height weight
  &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 505       70    178
2 516       71    200
3 511       65    202
4 546       69    210
5 549       72    220
6 507       74    320</code></pre>
</div>
</div>
<p>The subjects with heights of 22.83 inches and 217 inches are implausible, and the subject with weight 1 pound is also not reasonable. We want to focus on actually plausible results.</p>
<ul>
<li>A reasonable guess is that no one in the class was less than about 122 centimeters, or 4 feet tall (48 inches) nor were they greater than about 213 centimeters, or 7 feet tall (84 inches) so we’re going to change any values outside that range to <code>NA</code>.</li>
<li>Similarly, it seems reasonable to assume that no one in the class was below 80 pounds (36.3 kg) or above 400 pounds (181.4 kg) so again, we’ll regard any values we see outside that range is implausible and change them to <code>NA</code>.</li>
</ul>
<p>I’ll do this by creating new variables <code>height_r</code> and <code>weight_r</code> where the <code>_r</code> (meaning “revised”) indicates to me that I’ve revised the original variable in some way without adding a lot of characters to its name.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">height_r =</span> <span class="fu">replace</span>(height, height <span class="sc">&lt;</span> <span class="dv">48</span> <span class="sc">|</span> height <span class="sc">&gt;</span> <span class="dv">84</span>, <span class="cn">NA</span>),</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">weight_r =</span> <span class="fu">replace</span>(weight, weight <span class="sc">&lt;</span> <span class="dv">80</span> <span class="sc">|</span> weight <span class="sc">&gt;</span> <span class="dv">400</span>, <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">bmi =</span> <span class="dv">703</span> <span class="sc">*</span> weight_r <span class="sc">/</span> height_r <span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(height_r, weight_r, bmi) <span class="sc">|&gt;</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_codebook</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>select(sur15_m, height_r, weight_r, bmi) (53 rows and 3 variables, 3 shown)

ID | Name     | Type    | Missings |         Values |  N
---+----------+---------+----------+----------------+---
1  | height_r | numeric | 2 (3.8%) |       [61, 74] | 51
---+----------+---------+----------+----------------+---
2  | weight_r | numeric | 1 (1.9%) |     [107, 320] | 52
---+----------+---------+----------+----------------+---
3  | bmi      | numeric | 3 (5.7%) | [18.64, 41.08] | 50
--------------------------------------------------------</code></pre>
</div>
</div>
<p>So now, we have 2 missing values of <code>height_r</code>, 1 missing value of <code>weight_r</code> and we have calculated BMI results, with 3 missing values, and our ranges (minimum and maximum) for each of these variables now look OK.</p>
</section>
</section>
<section id="checking-our-binary-variables" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="checking-our-binary-variables"><span class="header-section-number">2.3</span> Checking our Binary Variables</h2>
<p>We have two binary variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(english, r_before) <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 53
Columns: 2
$ english  &lt;chr&gt; "No", "Yes", "Yes", "No", "Yes", "Yes", "Yes", "No", "Yes", "…
$ r_before &lt;chr&gt; "Yes", "No", "No", "Yes", "Yes", "No", "Yes", "Yes", "No", "N…</code></pre>
</div>
</div>
<p>I’d like those to be factors in R, rather than characters.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">r_before =</span> <span class="fu">factor</span>(r_before),</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">english =</span> <span class="fu">factor</span>(english))</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">count</span>(r_before, english)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  r_before english     n
  &lt;fct&gt;    &lt;fct&gt;   &lt;int&gt;
1 No       No         10
2 No       Yes        18
3 Yes      No          8
4 Yes      Yes        17</code></pre>
</div>
</div>
<p>OK. No missingness, and no values out of the range of our expectations. Good.</p>
</section>
<section id="checking-our-multi-category-variables" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="checking-our-multi-category-variables"><span class="header-section-number">2.4</span> Checking our Multi-Category Variables</h2>
<p>For each of our multi-categorical variables, I’ll run a quick <code>tabyl</code> to see if we have any surprising results or missing values. Then I’ll revise each of them (as needed) to have more suitable (mostly, shorter) level names. In addition to checking for missingness and inappropriate values, we want to collapse some categories, or adjust names or labeling to mirror what we need in our analyses.</p>
<section id="the-grades-variable" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="the-grades-variable"><span class="header-section-number">2.4.1</span> The <code>grades</code> variable</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(grades)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                           grades  n    percent valid_percent
                        A. Individual Assignments 40 0.75471698     0.7692308
 B. Partner Assignments (you and 1 other student)  6 0.11320755     0.1153846
  C. Group Assignments (you and 2 or more others)  6 0.11320755     0.1153846
                                             &lt;NA&gt;  1 0.01886792            NA</code></pre>
</div>
</div>
<p>For <code>grades</code>, we want to create a new factor called <code>grades_r</code> which is a factor and which has shorter level names, specifically: Individual, Partner and Group, in that order. We’ll use the <code>fct_recode</code> function from <code>forcats</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">grades_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(grades), </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Individual"</span> <span class="ot">=</span> <span class="st">"A. Individual Assignments"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Partner"</span> <span class="ot">=</span> <span class="st">"B. Partner Assignments (you and 1 other student)"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Group"</span> <span class="ot">=</span> <span class="st">"C. Group Assignments (you and 2 or more others)"</span>))</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sanity check to ensure we coded correctly</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">count</span>(grades, grades_r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  grades                                           grades_r       n
  &lt;chr&gt;                                            &lt;fct&gt;      &lt;int&gt;
1 A. Individual Assignments                        Individual    40
2 B. Partner Assignments (you and 1 other student) Partner        6
3 C. Group Assignments (you and 2 or more others)  Group          6
4 &lt;NA&gt;                                             &lt;NA&gt;           1</code></pre>
</div>
</div>
<ul>
<li>That looks like we’ve correctly renamed the values.</li>
<li>For this demonstration, we’ll allow counts as low as 5 for individual levels of a categorical variable, because of the small sample size, so I won’t collapse the levels at all.</li>
<li>We have a missing value here, so we’ll need to deal with that later.</li>
</ul>
</section>
<section id="the-medium-variable" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="the-medium-variable"><span class="header-section-number">2.4.2</span> The <code>medium</code> variable</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(medium)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                   medium  n    percent
                                A. Movies 17 0.32075472
                            B. Television 22 0.41509434
 C. Print (including books, comics, etc.)  9 0.16981132
                                 D. Other  5 0.09433962</code></pre>
</div>
</div>
<ul>
<li>We have no missing values, so that’s good.</li>
<li>In this demonstration, we will require that each category have at least 5 responses, so while this just barely meets that standard, I think I will go ahead and collapse the variable down to just three categories.</li>
</ul>
<p>For the <code>medium</code> variable, we want to collapse the Print and Other levels to form a three category variable (with levels Movies, TV and Other) called <code>medium_r</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">medium_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(medium), </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Movies"</span> <span class="ot">=</span> <span class="st">"A. Movies"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"TV"</span> <span class="ot">=</span> <span class="st">"B. Television"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"C. Print (including books, comics, etc.)"</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"D. Other"</span>))</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">count</span>(medium, medium_r) <span class="co"># sanity check</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  medium                                   medium_r     n
  &lt;chr&gt;                                    &lt;fct&gt;    &lt;int&gt;
1 A. Movies                                Movies      17
2 B. Television                            TV          22
3 C. Print (including books, comics, etc.) Other        9
4 D. Other                                 Other        5</code></pre>
</div>
</div>
<p>OK. Looks good now.</p>
</section>
<section id="the-fiction-variable" class="level3" data-number="2.4.3">
<h3 data-number="2.4.3" class="anchored" data-anchor-id="the-fiction-variable"><span class="header-section-number">2.4.3</span> The <code>fiction</code> variable</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(fiction)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      fiction  n    percent
                    A. Comedy 18 0.33962264
                     B. Drama 15 0.28301887
                    C. Action  5 0.09433962
         D. Horror / Thriller  1 0.01886792
 E. Fantasy / Science Fiction 14 0.26415094</code></pre>
</div>
</div>
<ul>
<li>No signs of missing values, so that’s good.</li>
<li>With only one value in category D and only 5 in category C, we will need to do some collapsing to use this variable later.</li>
</ul>
</section>
<section id="collapsing-and-recoding-levels-of-fiction" class="level3" data-number="2.4.4">
<h3 data-number="2.4.4" class="anchored" data-anchor-id="collapsing-and-recoding-levels-of-fiction"><span class="header-section-number">2.4.4</span> Collapsing and recoding levels of <code>fiction</code></h3>
<p>For the <code>fiction</code> variable, we want to form a four category variable (with levels Comedy, Drama, Fantasy/SF, Other) called <code>fiction_r</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">fiction_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(fiction), </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Comedy"</span> <span class="ot">=</span> <span class="st">"A. Comedy"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Drama"</span> <span class="ot">=</span> <span class="st">"B. Drama"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Fantasy/SF"</span> <span class="ot">=</span> <span class="st">"E. Fantasy / Science Fiction"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"C. Action"</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"D. Horror / Thriller"</span>))</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">count</span>(fiction, fiction_r) <span class="co"># sanity check</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  fiction                      fiction_r      n
  &lt;chr&gt;                        &lt;fct&gt;      &lt;int&gt;
1 A. Comedy                    Comedy        18
2 B. Drama                     Drama         15
3 C. Action                    Other          5
4 D. Horror / Thriller         Other          1
5 E. Fantasy / Science Fiction Fantasy/SF    14</code></pre>
</div>
</div>
<p>Actually, I’d like to reorder <code>fiction_r</code> to put Other last.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">fiction_r =</span> <span class="fu">fct_relevel</span>(fiction_r, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Comedy"</span>, <span class="st">"Drama"</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Fantasy/SF"</span>, <span class="st">"Other"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>OK. Let’s see what we have now…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(medium_r, fiction_r) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="vbfooaucaj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vbfooaucaj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vbfooaucaj thead, #vbfooaucaj tbody, #vbfooaucaj tfoot, #vbfooaucaj tr, #vbfooaucaj td, #vbfooaucaj th {
  border-style: none;
}

#vbfooaucaj p {
  margin: 0;
  padding: 0;
}

#vbfooaucaj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vbfooaucaj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vbfooaucaj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vbfooaucaj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vbfooaucaj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vbfooaucaj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vbfooaucaj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vbfooaucaj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vbfooaucaj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vbfooaucaj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vbfooaucaj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vbfooaucaj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vbfooaucaj .gt_spanner_row {
  border-bottom-style: hidden;
}

#vbfooaucaj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vbfooaucaj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vbfooaucaj .gt_from_md > :first-child {
  margin-top: 0;
}

#vbfooaucaj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vbfooaucaj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vbfooaucaj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vbfooaucaj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vbfooaucaj .gt_row_group_first td {
  border-top-width: 2px;
}

#vbfooaucaj .gt_row_group_first th {
  border-top-width: 2px;
}

#vbfooaucaj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vbfooaucaj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vbfooaucaj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vbfooaucaj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vbfooaucaj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vbfooaucaj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vbfooaucaj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vbfooaucaj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vbfooaucaj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vbfooaucaj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vbfooaucaj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vbfooaucaj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vbfooaucaj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vbfooaucaj .gt_left {
  text-align: left;
}

#vbfooaucaj .gt_center {
  text-align: center;
}

#vbfooaucaj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vbfooaucaj .gt_font_normal {
  font-weight: normal;
}

#vbfooaucaj .gt_font_bold {
  font-weight: bold;
}

#vbfooaucaj .gt_font_italic {
  font-style: italic;
}

#vbfooaucaj .gt_super {
  font-size: 65%;
}

#vbfooaucaj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vbfooaucaj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vbfooaucaj .gt_indent_1 {
  text-indent: 5px;
}

#vbfooaucaj .gt_indent_2 {
  text-indent: 10px;
}

#vbfooaucaj .gt_indent_3 {
  text-indent: 15px;
}

#vbfooaucaj .gt_indent_4 {
  text-indent: 20px;
}

#vbfooaucaj .gt_indent_5 {
  text-indent: 25px;
}

#vbfooaucaj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#vbfooaucaj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="medium_r" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">medium_r</th>
<th id="Comedy" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Comedy</th>
<th id="Drama" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Drama</th>
<th id="Fantasy/SF" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Fantasy/SF</th>
<th id="Other" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Other</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="medium_r">Movies</td>
<td class="gt_row gt_right" headers="Comedy">4</td>
<td class="gt_row gt_right" headers="Drama">5</td>
<td class="gt_row gt_right" headers="Fantasy/SF">6</td>
<td class="gt_row gt_right" headers="Other">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="medium_r">TV</td>
<td class="gt_row gt_right" headers="Comedy">11</td>
<td class="gt_row gt_right" headers="Drama">5</td>
<td class="gt_row gt_right" headers="Fantasy/SF">2</td>
<td class="gt_row gt_right" headers="Other">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="medium_r">Other</td>
<td class="gt_row gt_right" headers="Comedy">3</td>
<td class="gt_row gt_right" headers="Drama">5</td>
<td class="gt_row gt_right" headers="Fantasy/SF">6</td>
<td class="gt_row gt_right" headers="Other">0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>OK. I wish we didn’t have that zero cell in the cross-tabulation, but we’ll leave it alone, rather than collapsing further, given our small number of observations in this demonstration.</p>
</section>
</section>
<section id="creating-our-analytic-tibble" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="creating-our-analytic-tibble"><span class="header-section-number">2.5</span> Creating our Analytic Tibble</h2>
<p>So our analytic tibble, which I’ll call <code>sur15</code> should contains only the twelve variables that appear in our code book.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>sur15 <span class="ot">&lt;-</span> sur15_m <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(s_id, r_pre, r_now, comfort_431, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>           height_r, weight_r, bmi, </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>           r_before, english,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>           grades_r, medium_r, fiction_r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="list-of-missing-values" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="list-of-missing-values"><span class="header-section-number">2.6</span> List of Missing Values</h2>
<p>We can count the number of missing observations in each variable, with …</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_var_summary</span>(sur15)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   variable    n_miss pct_miss
   &lt;chr&gt;        &lt;int&gt;    &lt;num&gt;
 1 bmi              3     5.66
 2 height_r         2     3.77
 3 weight_r         1     1.89
 4 grades_r         1     1.89
 5 s_id             0     0   
 6 r_pre            0     0   
 7 r_now            0     0   
 8 comfort_431      0     0   
 9 r_before         0     0   
10 english          0     0   
11 medium_r         0     0   
12 fiction_r        0     0   </code></pre>
</div>
</div>
<p>We can see the subjects who have missing values in several ways, including…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_case_summary</span>(sur15)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53 × 3
    case n_miss pct_miss
   &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt;
 1     4      2    16.7 
 2    29      2    16.7 
 3    50      2    16.7 
 4    16      1     8.33
 5     1      0     0   
 6     2      0     0   
 7     3      0     0   
 8     5      0     0   
 9     6      0     0   
10     7      0     0   
# ℹ 43 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>sur15[<span class="fu">which</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(sur15)),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 12
  s_id  r_pre r_now comfort_431 height_r weight_r   bmi r_before english
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;  
1 504      20    80          50     NA        140  NA   Yes      No     
2 516       0    50          70     71        200  27.9 No       Yes    
3 529      25    75          85     NA        165  NA   No       Yes    
4 550       0     0          15     66.5       NA  NA   No       No     
# ℹ 3 more variables: grades_r &lt;fct&gt;, medium_r &lt;fct&gt;, fiction_r &lt;fct&gt;</code></pre>
</div>
</div>
<p>In our sample of respondents, we have:</p>
<ul>
<li>49 subjects with no missing values,</li>
<li>1 subject (<code>s_id</code> = 516) who is missing <code>grades_r</code>,</li>
<li>2 subjects (<code>s_id</code> = 504 and 529) who are missing <code>height_r</code> and <code>bmi</code>, and</li>
<li>1 subject (<code>s_id</code> = 550) who is missing <code>weight_r</code> and <code>bmi</code>.</li>
</ul>
</section>
<section id="filtering-to-complete-cases" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="filtering-to-complete-cases"><span class="header-section-number">2.7</span> Filtering to Complete Cases</h2>
<p>Now, in Study 1, I’ve asked you to filter your data to complete cases throughout. So I’ll do that now, and wind up with just 49 subjects in the data. I’ll include an explicit statement here (and you should, too) that I’m assuming Missing Completely at Random for the missing values in these data.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>According to the <code>mcar_test()</code> function (part of the <strong>naniar</strong> package) which runs Little’s missing completely at random test<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, this is a debatable assumption (we’d like to see a high <span class="math inline">\(p\)</span> value here) but we’ll make it anyway for Study 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>sur15 <span class="sc">|&gt;</span> <span class="fu">mcar_test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  statistic    df p.value missing.patterns
      &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;            &lt;int&gt;
1      42.9    31  0.0763                4</code></pre>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="ot">&lt;-</span> sur15 <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(sur_15)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 49</code></pre>
</div>
</div>
</section>
</section>
<section id="codebook-and-data-description" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Codebook and Data Description</h1>
<section id="variable-descriptions" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="variable-descriptions"><span class="header-section-number">3.1</span> Variable Descriptions</h2>
<p>The 12 variables in our tidy data set <code>sur_15</code> for this demonstration are as follows. The Type column indicates the number of levels in each categorical (factor) variable. Recall that we had missing data in <code>height_r</code>, <code>weight_r</code>, <code>bmi</code> and <code>grades_r</code> but I’ve filtered that away, so we have no missingness left now. As for the Type information, I’m using Quant to indicate quantitative variables, and Cat-x indicates a categorical variable (factor) with x levels.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th style="text-align: center;">Type</th>
<th>Description / Levels</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>s_id</code></td>
<td style="text-align: center;">ID</td>
<td>subject code</td>
</tr>
<tr class="even">
<td><code>r_pre</code></td>
<td style="text-align: center;">Quant</td>
<td>0 (SD) - 100 (SA) with Prior to taking 431, I was totally confident and comfortable with using R.</td>
</tr>
<tr class="odd">
<td><code>r_now</code></td>
<td style="text-align: center;">Quant</td>
<td>0 (SD) - 100 (SA) with Right now, I am totally confident and comfortable with using R.</td>
</tr>
<tr class="even">
<td><code>comfort_431</code></td>
<td style="text-align: center;">Quant</td>
<td>0 (SD) - 100 (SA) with I am very comfortable with my understanding of the material discussed so far in 431.</td>
</tr>
<tr class="odd">
<td><code>height_r</code></td>
<td style="text-align: center;">Quant</td>
<td>What is your height, in inches</td>
</tr>
<tr class="even">
<td><code>weight_r</code></td>
<td style="text-align: center;">Quant</td>
<td>What is your weight, in pounds</td>
</tr>
<tr class="odd">
<td><code>bmi</code></td>
<td style="text-align: center;">Quant</td>
<td>703 x <code>weight</code>/(<code>height</code> squared)</td>
</tr>
<tr class="even">
<td><code>r_before</code></td>
<td style="text-align: center;">Cat-2</td>
<td>yes, no: Before taking 431, had you ever used R before?</td>
</tr>
<tr class="odd">
<td><code>english</code></td>
<td style="text-align: center;">Cat-2</td>
<td>yes, no: Is English the language you speak better than any other?</td>
</tr>
<tr class="even">
<td><code>grades_r</code></td>
<td style="text-align: center;">Cat-3</td>
<td>Individual, Partner, Group: In your graduate and undergraduate educational experience, which of the following types of assignments have you received the HIGHEST grades for?</td>
</tr>
<tr class="odd">
<td><code>medium_r</code></td>
<td style="text-align: center;">Cat-3</td>
<td>Movies, TV, Other: Which medium do you use most to get your fictional stories (containing plot)?</td>
</tr>
<tr class="even">
<td><code>fiction_r</code></td>
<td style="text-align: center;">Cat-4</td>
<td>Comedy, Drama, Fantasy/SF, Other: Which type of fictional stories do you consume most?</td>
</tr>
</tbody>
</table>
</section>
<section id="analytic-tibble" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="analytic-tibble"><span class="header-section-number">3.2</span> Analytic Tibble</h2>
<p>Now, I’ll prove that <code>sur_15</code> is a tibble by printing it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>sur_15</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 49 × 12
   s_id  r_pre r_now comfort_431 height_r weight_r   bmi r_before english
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;  
 1 501       0    70          90     68.1      162  24.6 Yes      No     
 2 502       0    70          50     67        151  23.6 No       Yes    
 3 503       0    10          70     62.5      127  22.9 No       Yes    
 4 505      80    90          85     70        178  25.5 Yes      Yes    
 5 506       0    50          80     73        145  19.1 No       Yes    
 6 507      50    50          50     74        320  41.1 Yes      Yes    
 7 508      60    75          80     70        165  23.7 Yes      No     
 8 509       0    50          75     64        135  23.2 No       Yes    
 9 510      30    30          50     69        155  22.9 No       Yes    
10 511       0    50          88     65        202  33.6 No       Yes    
# ℹ 39 more rows
# ℹ 3 more variables: grades_r &lt;fct&gt;, medium_r &lt;fct&gt;, fiction_r &lt;fct&gt;</code></pre>
</div>
</div>
</section>
<section id="data-summary" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="data-summary"><span class="header-section-number">3.3</span> Data Summary</h2>
<section id="data_description" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="data_description"><span class="header-section-number">3.3.1</span> <code>data_description()</code></h3>
<p>Here’s a <code>data_description()</code> result to show some information about the distribution of each quantitative variables in the <code>sur_15</code> tibble.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">describe_distribution</span>(sur_15 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>s_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Variable    |   Mean |    SD |   IQR |            Range | Skewness | Kurtosis |  n | n_Missing
----------------------------------------------------------------------------------------------
r_pre       |  21.94 | 31.31 | 50.00 |    [0.00, 90.00] |     1.03 |    -0.52 | 49 |         0
r_now       |  57.02 | 26.34 | 38.00 |    [0.00, 95.00] |    -0.62 |    -0.54 | 49 |         0
comfort_431 |  77.65 | 16.39 | 20.00 |  [30.00, 100.00] |    -1.15 |     0.94 | 49 |         0
height_r    |  67.42 |  3.49 |  5.50 |   [61.00, 74.00] |    -0.02 |    -0.87 | 49 |         0
weight_r    | 154.97 | 34.31 | 37.50 | [107.00, 320.00] |     2.46 |    10.33 | 49 |         0
bmi         |  23.86 |  4.11 |  4.22 |   [18.64, 41.08] |     1.94 |     5.61 | 49 |         0</code></pre>
</div>
</div>
</section>
<section id="data_codebook" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="data_codebook"><span class="header-section-number">3.3.2</span> <code>data_codebook()</code></h3>
<p>And here’s the <code>data_codebook()</code> result, which adds in tabulations of the categorical variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data_codebook</span>(sur_15 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>s_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>select(sur_15, -s_id) (49 rows and 11 variables, 11 shown)

ID | Name        | Type        | Missings |         Values |          N
---+-------------+-------------+----------+----------------+-----------
1  | r_pre       | numeric     | 0 (0.0%) |        [0, 90] |         49
---+-------------+-------------+----------+----------------+-----------
2  | r_now       | numeric     | 0 (0.0%) |        [0, 95] |         49
---+-------------+-------------+----------+----------------+-----------
3  | comfort_431 | numeric     | 0 (0.0%) |      [30, 100] |         49
---+-------------+-------------+----------+----------------+-----------
4  | height_r    | numeric     | 0 (0.0%) |       [61, 74] |         49
---+-------------+-------------+----------+----------------+-----------
5  | weight_r    | numeric     | 0 (0.0%) |     [107, 320] |         49
---+-------------+-------------+----------+----------------+-----------
6  | bmi         | numeric     | 0 (0.0%) | [18.64, 41.08] |         49
---+-------------+-------------+----------+----------------+-----------
7  | r_before    | categorical | 0 (0.0%) |             No | 25 (51.0%)
   |             |             |          |            Yes | 24 (49.0%)
---+-------------+-------------+----------+----------------+-----------
8  | english     | categorical | 0 (0.0%) |             No | 16 (32.7%)
   |             |             |          |            Yes | 33 (67.3%)
---+-------------+-------------+----------+----------------+-----------
9  | grades_r    | categorical | 0 (0.0%) |     Individual | 40 (81.6%)
   |             |             |          |        Partner |  4 ( 8.2%)
   |             |             |          |          Group |  5 (10.2%)
---+-------------+-------------+----------+----------------+-----------
10 | medium_r    | categorical | 0 (0.0%) |         Movies | 15 (30.6%)
   |             |             |          |             TV | 21 (42.9%)
   |             |             |          |          Other | 13 (26.5%)
---+-------------+-------------+----------+----------------+-----------
11 | fiction_r   | categorical | 0 (0.0%) |         Comedy | 17 (34.7%)
   |             |             |          |          Drama | 14 (28.6%)
   |             |             |          |     Fantasy/SF | 12 (24.5%)
   |             |             |          |          Other |  6 (12.2%)
-----------------------------------------------------------------------</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="analysis-a-compare-2-population-means-using-paired-samples" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Analysis A: Compare 2 Population Means using Paired Samples</h1>
<section id="the-question" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="the-question"><span class="header-section-number">4.1</span> The Question</h2>
<p>We’ll compare the <code>r_now</code> scores to <code>r_pre</code> scores. The scores are paired by subject, as each subject gives us both a <code>r_pre</code> and <code>r_now</code> score, and computing and assessing within-subject differences in comfort with R makes sense, because we are interested in the change in each person’s comfort level. We’ll generally use <code>r_now - r_pre</code> in our calculations, so that positive numbers indicate improvements in confidence. <strong>Note that we’ll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project B Study 1 work, as well.</strong></p>
<p>So, our research question might be something like:</p>
<p>What is a typical change in comfort with R experienced by students in 431 through the first couple of months in the course?</p>
</section>
<section id="describing-the-data" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="describing-the-data"><span class="header-section-number">4.2</span> Describing the Data</h2>
<section id="compute-and-summarize-the-paired-differences" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="compute-and-summarize-the-paired-differences"><span class="header-section-number">4.2.1</span> Compute and summarize the paired differences</h3>
<p>The natural first step is to compute paired differences between the <code>r_now</code> and <code>r_pre</code> samples, and then use graphical and numerical summaries to assess whether the sample (of differences) can be assumed to follow a Normal distribution. First, we’ll calculate the paired differences.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">r_diff =</span> r_now <span class="sc">-</span> r_pre)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(r_diff)) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="sndjevhswz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#sndjevhswz table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#sndjevhswz thead, #sndjevhswz tbody, #sndjevhswz tfoot, #sndjevhswz tr, #sndjevhswz td, #sndjevhswz th {
  border-style: none;
}

#sndjevhswz p {
  margin: 0;
  padding: 0;
}

#sndjevhswz .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#sndjevhswz .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sndjevhswz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sndjevhswz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sndjevhswz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sndjevhswz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sndjevhswz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sndjevhswz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sndjevhswz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sndjevhswz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sndjevhswz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sndjevhswz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sndjevhswz .gt_spanner_row {
  border-bottom-style: hidden;
}

#sndjevhswz .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#sndjevhswz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#sndjevhswz .gt_from_md > :first-child {
  margin-top: 0;
}

#sndjevhswz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sndjevhswz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#sndjevhswz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#sndjevhswz .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sndjevhswz .gt_row_group_first td {
  border-top-width: 2px;
}

#sndjevhswz .gt_row_group_first th {
  border-top-width: 2px;
}

#sndjevhswz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sndjevhswz .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sndjevhswz .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sndjevhswz .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sndjevhswz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sndjevhswz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sndjevhswz .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#sndjevhswz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#sndjevhswz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sndjevhswz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sndjevhswz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sndjevhswz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sndjevhswz .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sndjevhswz .gt_left {
  text-align: left;
}

#sndjevhswz .gt_center {
  text-align: center;
}

#sndjevhswz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sndjevhswz .gt_font_normal {
  font-weight: normal;
}

#sndjevhswz .gt_font_bold {
  font-weight: bold;
}

#sndjevhswz .gt_font_italic {
  font-style: italic;
}

#sndjevhswz .gt_super {
  font-size: 65%;
}

#sndjevhswz .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#sndjevhswz .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sndjevhswz .gt_indent_1 {
  text-indent: 5px;
}

#sndjevhswz .gt_indent_2 {
  text-indent: 10px;
}

#sndjevhswz .gt_indent_3 {
  text-indent: 15px;
}

#sndjevhswz .gt_indent_4 {
  text-indent: 20px;
}

#sndjevhswz .gt_indent_5 {
  text-indent: 25px;
}

#sndjevhswz .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#sndjevhswz div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="miss" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">miss</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="med" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">med</th>
<th id="mad" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mad</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="q25" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q25</th>
<th id="q75" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q75</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="n">49</td>
<td class="gt_row gt_right" headers="miss">0</td>
<td class="gt_row gt_right" headers="mean">35.08163</td>
<td class="gt_row gt_right" headers="sd">29.06017</td>
<td class="gt_row gt_right" headers="med">25</td>
<td class="gt_row gt_right" headers="mad">37.065</td>
<td class="gt_row gt_right" headers="min">0</td>
<td class="gt_row gt_right" headers="q25">10</td>
<td class="gt_row gt_right" headers="q75">60</td>
<td class="gt_row gt_right" headers="max">95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>OK. It appears that we have successfully subtracted the PRE data from the NOW data, and everyone has a difference of at least zero. Now, we’ll assess whether or not a Normal distribution might be a reasonable model for the data.</p>
</section>
<section id="graphical-summaries-to-assess-normality" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="graphical-summaries-to-assess-normality"><span class="header-section-number">4.2.2</span> Graphical Summaries to Assess Normality</h3>
<p>We should start by looking at the distribution of these 49 values of <code>r_diff</code>. As we’ve seen, there’s a floor effect at zero.</p>
<p>A histogram with 49 values won’t give us a lot of information. Perhaps we should focus instead on a Normal Q-Q plot and boxplot with violin? We’ll draw all three here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">=</span> <span class="dv">5</span> <span class="co"># specify width of bins in histogram</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> r_diff)) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> bw, </span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"slateblue"</span>, <span class="at">col =</span> <span class="st">"springgreen"</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x)</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dnorm</span>(x, <span class="at">mean =</span> <span class="fu">mean</span>(sur_15<span class="sc">$</span>r_diff), <span class="at">sd =</span> <span class="fu">sd</span>(sur_15<span class="sc">$</span>r_diff)) <span class="sc">*</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">length</span>(sur_15<span class="sc">$</span>r_diff) <span class="sc">*</span> bw,  </span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"area"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">col =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"R Comfort Rating Difference"</span>, </span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Histogram &amp; Normal Curve"</span>) </span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">sample =</span> r_diff)) <span class="sc">+</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>(<span class="at">col =</span> <span class="st">"slateblue"</span>) <span class="sc">+</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Rating Difference"</span>,</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Standard Normal Distribution"</span>,</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Normal Q-Q plot"</span>) </span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> r_diff, <span class="at">y =</span> <span class="st">""</span>)) <span class="sc">+</span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"mintcream"</span>) <span class="sc">+</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="st">"slateblue"</span>) <span class="sc">+</span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>, <span class="at">x =</span> <span class="st">"Current - Pre-class Rating Difference"</span>, </span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Boxplot with Violin"</span>)</span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> (p2 <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Most Students Improved R Comfort Ratings during 431"</span>,</span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="fu">glue</span>(<span class="st">"Sample Size = "</span>, <span class="fu">nrow</span>(sur_15)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>With just 49 observations, it will be a little difficult to get a clear picture of whether a Normal approximation is reasonable or not. I would conclude that a bootstrap approach would be a better choice here than a Normal model for the paired differences, owing to the floor effect (many zeros) in the paired differences.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(r_diff)) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="jvsubcvblm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jvsubcvblm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jvsubcvblm thead, #jvsubcvblm tbody, #jvsubcvblm tfoot, #jvsubcvblm tr, #jvsubcvblm td, #jvsubcvblm th {
  border-style: none;
}

#jvsubcvblm p {
  margin: 0;
  padding: 0;
}

#jvsubcvblm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jvsubcvblm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jvsubcvblm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jvsubcvblm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jvsubcvblm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvsubcvblm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvsubcvblm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jvsubcvblm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jvsubcvblm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jvsubcvblm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jvsubcvblm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jvsubcvblm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jvsubcvblm .gt_spanner_row {
  border-bottom-style: hidden;
}

#jvsubcvblm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jvsubcvblm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jvsubcvblm .gt_from_md > :first-child {
  margin-top: 0;
}

#jvsubcvblm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jvsubcvblm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jvsubcvblm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jvsubcvblm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jvsubcvblm .gt_row_group_first td {
  border-top-width: 2px;
}

#jvsubcvblm .gt_row_group_first th {
  border-top-width: 2px;
}

#jvsubcvblm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvsubcvblm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jvsubcvblm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jvsubcvblm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvsubcvblm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvsubcvblm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jvsubcvblm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jvsubcvblm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jvsubcvblm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jvsubcvblm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvsubcvblm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvsubcvblm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jvsubcvblm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jvsubcvblm .gt_left {
  text-align: left;
}

#jvsubcvblm .gt_center {
  text-align: center;
}

#jvsubcvblm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jvsubcvblm .gt_font_normal {
  font-weight: normal;
}

#jvsubcvblm .gt_font_bold {
  font-weight: bold;
}

#jvsubcvblm .gt_font_italic {
  font-style: italic;
}

#jvsubcvblm .gt_super {
  font-size: 65%;
}

#jvsubcvblm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jvsubcvblm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jvsubcvblm .gt_indent_1 {
  text-indent: 5px;
}

#jvsubcvblm .gt_indent_2 {
  text-indent: 10px;
}

#jvsubcvblm .gt_indent_3 {
  text-indent: 15px;
}

#jvsubcvblm .gt_indent_4 {
  text-indent: 20px;
}

#jvsubcvblm .gt_indent_5 {
  text-indent: 25px;
}

#jvsubcvblm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jvsubcvblm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="miss" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">miss</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="med" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">med</th>
<th id="mad" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mad</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="q25" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q25</th>
<th id="q75" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q75</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="n">49</td>
<td class="gt_row gt_right" headers="miss">0</td>
<td class="gt_row gt_right" headers="mean">35.08163</td>
<td class="gt_row gt_right" headers="sd">29.06017</td>
<td class="gt_row gt_right" headers="med">25</td>
<td class="gt_row gt_right" headers="mad">37.065</td>
<td class="gt_row gt_right" headers="min">0</td>
<td class="gt_row gt_right" headers="q25">10</td>
<td class="gt_row gt_right" headers="q75">60</td>
<td class="gt_row gt_right" headers="max">95</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The data seem a bit right skewed, as well. The sample mean is 34.7% of a standard deviation larger than the sample median<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
</section>
<section id="did-pairing-help-reduce-nuisance-variation" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="did-pairing-help-reduce-nuisance-variation"><span class="header-section-number">4.2.3</span> Did Pairing Help Reduce Nuisance Variation?</h3>
<p>We would expect a strong correlation between the <code>r_pre</code> and <code>r_now</code> scores in this repeated measures analysis where each subject is assessing both their confidence before the class and then again during the class. To assess whether pairing helped reduce nuisance variation, I’ll build a scatterplot of the <code>r_pre</code> and <code>r_now</code> scores, supplemented by a Pearson correlation coefficient. Since we have so many ties in the data, with two or more points in the same place, I’ll use <code>geom_jitter</code> rather than <code>geom_point</code> to plot the points. The larger the correlation, the more that pairing will help reduce the impact of differences between subjects on the <code>r_pre</code> score on the comparison we’re trying to make.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> r_pre, <span class="at">y =</span> r_now)) <span class="sc">+</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_jitter</span>(<span class="at">col =</span> <span class="st">"slateblue"</span>) <span class="sc">+</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Jittered Scatterplot shows moderately strong relationship"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="st">"especially for those starting above 0"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/scatterplot_for_paired_diffs-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For people with a <code>r_pre</code> score greater than zero, we see a pretty strong linear relationship between <code>r_pre</code> and <code>r_now</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">select</span>(r_pre, r_now) <span class="sc">|&gt;</span> <span class="fu">correlation</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Correlation Matrix (pearson-method)

Parameter1 | Parameter2 |    r |       95% CI | t(47) |         p
-----------------------------------------------------------------
r_pre      |      r_now | 0.50 | [0.26, 0.69] |  3.99 | &lt; .001***

p-value adjustment method: Holm (1979)
Observations: 49</code></pre>
</div>
</div>
<p>The Pearson correlation is quite strong at 0.5 so that a linear model using the <code>r_pre</code> score accounts for a reasonably large fraction (25.3%) of the variation in <code>r_now</code> scores.</p>
<ul>
<li>If the Pearson correlation had been small but still positive (perhaps less than 0.2), we might conclude that pairing wouldn’t be exceptionally helpful, but if the samples are meant to be paired, we should still do a paired samples analysis, but such a small correlation would imply that an independent samples comparison would come to about the same conclusion.</li>
</ul>
</section>
</section>
<section id="main-analysis" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="main-analysis"><span class="header-section-number">4.3</span> Main Analysis</h2>
<p>As you’ll recall, we have two main methods for building confidence intervals in a paired samples analysis:</p>
<ul>
<li>The Paired t test</li>
<li>The Bootstrap</li>
</ul>
<p>Let’s run each in this demonstration just so you have the code, even though, as mentioned, I’d be most interested in what the bootstrap approach suggests, owing to the modest non-Normality we see in the sample of differences. I’ll even throw in a Wilcoxon signed rank test approach here, even though I wouldn’t recommend you include that in Project B. In each case, we’ll build a 90% confidence interval for the population mean (or pseudo-median, in the case of the signed rank test) of the <code>r_now - r_pre</code> differences.</p>
<section id="the-paired-t-test-approach" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="the-paired-t-test-approach"><span class="header-section-number">4.3.1</span> The Paired t test approach</h3>
<p>Here is a 90% confidence interval for the population mean of the paired <code>r_now - r_pre</code> differences.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(r_diff <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> sur_15) <span class="sc">|&gt;</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model_parameters</span>(<span class="at">ci =</span> <span class="fl">0.90</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Parameter   | Coefficient |   SE |         90% CI | t(48) |      p
------------------------------------------------------------------
(Intercept) |       35.08 | 4.15 | [28.12, 42.04] |  8.45 | &lt; .001</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Uncertainty intervals (equal-tailed) and p-values (two-tailed) computed
  using a Wald t-distribution approximation.</code></pre>
</div>
</div>
<ul>
<li>The point estimate for the population mean of the differences is 35.08, indicating that the average subject rated agreement with the statement about confidence in R 35 points higher now than when they started the class.</li>
<li>Our 90% confidence interval for the population mean of the differences is (28.12, 42.04).
<ul>
<li>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</li>
<li>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with population mean differences between 28.12 and 42.04, depending on the assumptions of our linear model (here, our paired t test) being correct.</li>
</ul></li>
<li>The assumptions of the paired t procedure are
<ul>
<li>that the matched differences are independent of each other,</li>
<li>that the matched differences represent a random sample of the population of possible matched differences,</li>
<li>and that the matched differences are drawn from a Normally distributed population.</li>
</ul></li>
<li>The last of these assumptions is hard to justify given these data, which is why I’d prefer the bootstrap approach in this case.</li>
<li>Here, I’ve assumed a two-sided confidence interval procedure Use a two-sided confidence interval for everything you do in 431.</li>
</ul>
</section>
<section id="the-bootstrap-approach-for-the-mean-from-paired-samples" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="the-bootstrap-approach-for-the-mean-from-paired-samples"><span class="header-section-number">4.3.2</span> The Bootstrap approach for the mean from paired samples</h3>
<p>Here is a 90% confidence interval for the population mean of the paired <code>r_now - r_pre</code> differences, as estimated by a bootstrap approach using a random seed of <code>431</code>. (<em>Note</em>: when you set a seed for this or other analyses in the project, pick something other than <code>431</code>.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">431</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>x_bar <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span> <span class="fu">observe</span>(<span class="at">response =</span> r_diff, <span class="at">stat =</span> <span class="st">"mean"</span>)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(<span class="at">response =</span> r_diff) <span class="sc">|&gt;</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"mean"</span>) <span class="sc">|&gt;</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> <span class="fl">0.90</span>, <span class="at">type =</span> <span class="st">"percentile"</span>)</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span> res1 <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">pt_est =</span> x_bar<span class="sc">$</span>stat) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(pt_est)</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>res1 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ekcselcvmf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ekcselcvmf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ekcselcvmf thead, #ekcselcvmf tbody, #ekcselcvmf tfoot, #ekcselcvmf tr, #ekcselcvmf td, #ekcselcvmf th {
  border-style: none;
}

#ekcselcvmf p {
  margin: 0;
  padding: 0;
}

#ekcselcvmf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ekcselcvmf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ekcselcvmf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ekcselcvmf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ekcselcvmf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ekcselcvmf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ekcselcvmf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ekcselcvmf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ekcselcvmf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ekcselcvmf .gt_spanner_row {
  border-bottom-style: hidden;
}

#ekcselcvmf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ekcselcvmf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ekcselcvmf .gt_from_md > :first-child {
  margin-top: 0;
}

#ekcselcvmf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ekcselcvmf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ekcselcvmf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ekcselcvmf .gt_row_group_first td {
  border-top-width: 2px;
}

#ekcselcvmf .gt_row_group_first th {
  border-top-width: 2px;
}

#ekcselcvmf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ekcselcvmf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ekcselcvmf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ekcselcvmf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ekcselcvmf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_left {
  text-align: left;
}

#ekcselcvmf .gt_center {
  text-align: center;
}

#ekcselcvmf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ekcselcvmf .gt_font_normal {
  font-weight: normal;
}

#ekcselcvmf .gt_font_bold {
  font-weight: bold;
}

#ekcselcvmf .gt_font_italic {
  font-style: italic;
}

#ekcselcvmf .gt_super {
  font-size: 65%;
}

#ekcselcvmf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ekcselcvmf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ekcselcvmf .gt_indent_1 {
  text-indent: 5px;
}

#ekcselcvmf .gt_indent_2 {
  text-indent: 10px;
}

#ekcselcvmf .gt_indent_3 {
  text-indent: 15px;
}

#ekcselcvmf .gt_indent_4 {
  text-indent: 20px;
}

#ekcselcvmf .gt_indent_5 {
  text-indent: 25px;
}

#ekcselcvmf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ekcselcvmf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="pt_est" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">pt_est</th>
<th id="lower_ci" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lower_ci</th>
<th id="upper_ci" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">upper_ci</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="pt_est">35.08163</td>
<td class="gt_row gt_right" headers="lower_ci">28.38673</td>
<td class="gt_row gt_right" headers="upper_ci">41.79898</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>The point estimate for the population mean of the differences is 35.08, indicating that the average subject rated agreement with the statement about confidence in R 35 points higher now than when they started the class.</li>
<li>Our 90% confidence interval for the population mean of the differences is fairly close to what we got from the paired t test, as it turns out.
<ul>
<li>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</li>
<li>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with population mean differences between 28.39 and 41.80, depending on the assumptions of bootstrap estimation procedure being correct.</li>
</ul></li>
<li>Again, I’ve assumed a two-sided confidence interval procedure, and so we can discuss a range of reasonable estimates for the true difference in <code>r_pre</code> and <code>r_now</code> scores.</li>
<li>The assumptions of this bootstrap procedure are
<ul>
<li>that the matched differences are independent of each other, and</li>
<li>that the matched differences represent a random sample of the population of possible matched differences.</li>
</ul></li>
</ul>
<p>These assumptions seem more reasonable.</p>
</section>
</section>
<section id="conclusions" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="conclusions"><span class="header-section-number">4.4</span> Conclusions</h2>
<p>Subjects appear to improve in their comfort with R an average of 35.1 points on the 0-100 scale, with a 90% confidence interval for that average improvement of (28.4, 41.8) points. This conclusion is motivated by a bootstrap estimate to compare paired responses from students before and after the first couple of months of the course, and I feel this is the most justified approach based on my assessment of Normality in the data from these 49 students.</p>
<p>A natural next step would be to look at values of something like this over multiple years, or perhaps comparing students at more than just two stages. It would also be appealing to measure comfort with R at the earlier time, and then return to the students later, rather than asking them to remember where they were at the start a couple of months later. There are several other possible next steps here, too, depending on what population you might decide to target.</p>
</section>
</section>
<section id="analysis-b-compare-2-population-means-using-independent-samples" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Analysis B: Compare 2 Population Means using Independent Samples</h1>
<section id="the-question-1" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="the-question-1"><span class="header-section-number">5.1</span> The Question</h2>
<p>We’ll compare <code>bmi</code> by <code>english</code> in this analysis using independent samples. We’re comparing the mean <code>bmi</code> of the population represented by respondents who speak English best to the mean <code>bmi</code> of the population represented by the respondents who speak some other language better. There is nothing to suggest that the two samples (English <code>bmi</code> and non-English <code>bmi</code> values) are paired or matched in any way. Plus, as we’ll see, there are different numbers of English and non-English preferring subjects, so there’s no way their <code>bmi</code> values could be paired. As a result, we’re going to be interested in looking at the two samples separately to help us understand issues related to hypothesis testing assumptions. <strong>Note that we’ll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project Study B work, as well.</strong></p>
<p>Our research question is:</p>
<p>Did students who speak English best have meaningfully different average body mass index values than students who speak some other language better than they speak English?</p>
</section>
<section id="describing-the-data-1" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="describing-the-data-1"><span class="header-section-number">5.2</span> Describing the Data</h2>
<p>Can the samples (of Yes and No respondents, separately) <em>each</em> be modeled appropriately by a Normal distribution?</p>
<section id="graphical-summaries" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="graphical-summaries"><span class="header-section-number">5.2.1</span> Graphical Summaries</h3>
<p>Let’s build a comparison boxplot (with violins and means) to start.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> english, <span class="at">y =</span> bmi, <span class="at">fill =</span> english)) <span class="sc">+</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_social</span>() <span class="sc">+</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"BMI data somewhat right skewed in each group"</span>,</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"n = 49 Students in 431: Fall 2015"</span>,</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Speaks English better than all other languages?"</span>, <span class="at">y =</span> <span class="st">"Body Mass Index"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/boxplot_for_b-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There are at least a couple of candidate outliers in each group on the high end, which suggest some potential for meaningful skew.</p>
<p>We could also build a pair of Normal Q-Q plots.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">sample =</span> bmi, <span class="at">col =</span> english)) <span class="sc">+</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> english, <span class="at">labeller =</span> <span class="st">"label_both"</span>) <span class="sc">+</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_social</span>() <span class="sc">+</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">col =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Observed BMI values"</span>,</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"BMI isn't well fit by a Normal model in either group"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/qqplots_for_b-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>It looks like the right skew is large enough, at least in the Yes (speaks English best) group to warrant avoiding tests that require Normality. So again it looks like it’s not reasonable to assume Normality here, or even symmetry.</p>
</section>
<section id="numerical-summaries" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="numerical-summaries"><span class="header-section-number">5.2.2</span> Numerical Summaries</h3>
<p>We have 16 No and 33 Yes respondents to the English language question who have known BMI values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(english) <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(bmi)) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ecsjyclbzs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ecsjyclbzs table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ecsjyclbzs thead, #ecsjyclbzs tbody, #ecsjyclbzs tfoot, #ecsjyclbzs tr, #ecsjyclbzs td, #ecsjyclbzs th {
  border-style: none;
}

#ecsjyclbzs p {
  margin: 0;
  padding: 0;
}

#ecsjyclbzs .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ecsjyclbzs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ecsjyclbzs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ecsjyclbzs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ecsjyclbzs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ecsjyclbzs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ecsjyclbzs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ecsjyclbzs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ecsjyclbzs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ecsjyclbzs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ecsjyclbzs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ecsjyclbzs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ecsjyclbzs .gt_spanner_row {
  border-bottom-style: hidden;
}

#ecsjyclbzs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ecsjyclbzs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ecsjyclbzs .gt_from_md > :first-child {
  margin-top: 0;
}

#ecsjyclbzs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ecsjyclbzs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ecsjyclbzs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ecsjyclbzs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ecsjyclbzs .gt_row_group_first td {
  border-top-width: 2px;
}

#ecsjyclbzs .gt_row_group_first th {
  border-top-width: 2px;
}

#ecsjyclbzs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ecsjyclbzs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ecsjyclbzs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ecsjyclbzs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ecsjyclbzs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ecsjyclbzs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ecsjyclbzs .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ecsjyclbzs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ecsjyclbzs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ecsjyclbzs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ecsjyclbzs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ecsjyclbzs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ecsjyclbzs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ecsjyclbzs .gt_left {
  text-align: left;
}

#ecsjyclbzs .gt_center {
  text-align: center;
}

#ecsjyclbzs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ecsjyclbzs .gt_font_normal {
  font-weight: normal;
}

#ecsjyclbzs .gt_font_bold {
  font-weight: bold;
}

#ecsjyclbzs .gt_font_italic {
  font-style: italic;
}

#ecsjyclbzs .gt_super {
  font-size: 65%;
}

#ecsjyclbzs .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ecsjyclbzs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ecsjyclbzs .gt_indent_1 {
  text-indent: 5px;
}

#ecsjyclbzs .gt_indent_2 {
  text-indent: 10px;
}

#ecsjyclbzs .gt_indent_3 {
  text-indent: 15px;
}

#ecsjyclbzs .gt_indent_4 {
  text-indent: 20px;
}

#ecsjyclbzs .gt_indent_5 {
  text-indent: 25px;
}

#ecsjyclbzs .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ecsjyclbzs div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="english" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">english</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="miss" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">miss</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="med" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">med</th>
<th id="mad" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mad</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="q25" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q25</th>
<th id="q75" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">q75</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="english">No</td>
<td class="gt_row gt_right" headers="n">16</td>
<td class="gt_row gt_right" headers="miss">0</td>
<td class="gt_row gt_right" headers="mean">23.52387</td>
<td class="gt_row gt_right" headers="sd">2.971336</td>
<td class="gt_row gt_right" headers="med">23.26601</td>
<td class="gt_row gt_right" headers="mad">2.409531</td>
<td class="gt_row gt_right" headers="min">19.96686</td>
<td class="gt_row gt_right" headers="q25">21.25653</td>
<td class="gt_row gt_right" headers="q75">24.43161</td>
<td class="gt_row gt_right" headers="max">30.27053</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="english">Yes</td>
<td class="gt_row gt_right" headers="n">33</td>
<td class="gt_row gt_right" headers="miss">0</td>
<td class="gt_row gt_right" headers="mean">24.02736</td>
<td class="gt_row gt_right" headers="sd">4.601075</td>
<td class="gt_row gt_right" headers="med">23.17017</td>
<td class="gt_row gt_right" headers="mad">3.246759</td>
<td class="gt_row gt_right" headers="min">18.63574</td>
<td class="gt_row gt_right" headers="q25">21.15509</td>
<td class="gt_row gt_right" headers="q75">25.60354</td>
<td class="gt_row gt_right" headers="max">41.08108</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>In the “Yes” group, the sample mean BMI is 24.03 and sample median BMI is 23.17, while the sample standard deviation of BMI is 4.60. So the mean is 18.7% of a standard deviation above the median<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</li>
<li>In the “No” group, the sample mean BMI is 23.52 and sample median BMI is 23.27, while the sample standard deviation of BMI is 2.97. So the mean is 8.4% of a standard deviation above the median.</li>
</ul>
<p>There’s room for concern about whether a test that requires Normal distributions in the populations is a good choice here. With these small sample sizes, we’d probably be better off not making too many strong assumptions.</p>
</section>
</section>
<section id="main-analysis-1" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="main-analysis-1"><span class="header-section-number">5.3</span> Main Analysis</h2>
<p>As you’ll recall, we have three main methods for building confidence intervals in an independent samples analysis:</p>
<ul>
<li>Welch’s t test (t test without assuming equal variances)</li>
<li>The Pooled t test (t test with equal variances assumed)</li>
<li>The Bootstrap</li>
</ul>
<p>Let’s run each here just so you have the code, even though, as mentioned, I’d be most interested in what the bootstrap approach suggests, owing to the fact that the samples aren’t well described by Normal models or even symmetric ones. In each case, we’ll build a 90% confidence interval for the population mean comparing <code>bmi</code> for people who answered Yes and No to the question about English being the language they speak best.</p>
<section id="the-welchs-t-test-approach" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="the-welchs-t-test-approach"><span class="header-section-number">5.3.1</span> The Welch’s t test approach</h3>
<p>With a somewhat unbalanced design (16 No and 33 Yes), the assumption of equal population variances will probably require us to look at the sample variances.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(english) <span class="sc">|&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">mean =</span> <span class="fu">mean</span>(bmi), <span class="at">variance =</span> <span class="fu">var</span>(bmi)) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="qfimbkketd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qfimbkketd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qfimbkketd thead, #qfimbkketd tbody, #qfimbkketd tfoot, #qfimbkketd tr, #qfimbkketd td, #qfimbkketd th {
  border-style: none;
}

#qfimbkketd p {
  margin: 0;
  padding: 0;
}

#qfimbkketd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qfimbkketd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qfimbkketd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qfimbkketd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qfimbkketd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qfimbkketd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qfimbkketd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qfimbkketd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qfimbkketd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qfimbkketd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qfimbkketd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qfimbkketd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qfimbkketd .gt_spanner_row {
  border-bottom-style: hidden;
}

#qfimbkketd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qfimbkketd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qfimbkketd .gt_from_md > :first-child {
  margin-top: 0;
}

#qfimbkketd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qfimbkketd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qfimbkketd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qfimbkketd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qfimbkketd .gt_row_group_first td {
  border-top-width: 2px;
}

#qfimbkketd .gt_row_group_first th {
  border-top-width: 2px;
}

#qfimbkketd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qfimbkketd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qfimbkketd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qfimbkketd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qfimbkketd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qfimbkketd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qfimbkketd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qfimbkketd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qfimbkketd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qfimbkketd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qfimbkketd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qfimbkketd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qfimbkketd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qfimbkketd .gt_left {
  text-align: left;
}

#qfimbkketd .gt_center {
  text-align: center;
}

#qfimbkketd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qfimbkketd .gt_font_normal {
  font-weight: normal;
}

#qfimbkketd .gt_font_bold {
  font-weight: bold;
}

#qfimbkketd .gt_font_italic {
  font-style: italic;
}

#qfimbkketd .gt_super {
  font-size: 65%;
}

#qfimbkketd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qfimbkketd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qfimbkketd .gt_indent_1 {
  text-indent: 5px;
}

#qfimbkketd .gt_indent_2 {
  text-indent: 10px;
}

#qfimbkketd .gt_indent_3 {
  text-indent: 15px;
}

#qfimbkketd .gt_indent_4 {
  text-indent: 20px;
}

#qfimbkketd .gt_indent_5 {
  text-indent: 25px;
}

#qfimbkketd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#qfimbkketd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="english" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">english</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="variance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">variance</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="english">No</td>
<td class="gt_row gt_right" headers="n">16</td>
<td class="gt_row gt_right" headers="mean">23.52387</td>
<td class="gt_row gt_right" headers="variance">8.828839</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="english">Yes</td>
<td class="gt_row gt_right" headers="n">33</td>
<td class="gt_row gt_right" headers="mean">24.02736</td>
<td class="gt_row gt_right" headers="variance">21.169895</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>That’s a pretty substantial difference in variance with the Yes group a good deal more than 50% larger than the No group, so we might expect the Welch t test and pooled t test to look fairly different, and that would motivate me to focus on the Welch approach over the pooled t test. Of course, neither is a great choice here, due to the samples showing some non-Normality. Regardless, here is a 90% confidence interval for the difference between the “No” group and the “Yes” group population mean <code>bmi</code> based on Welch’s test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(bmi <span class="sc">~</span> english, <span class="at">data =</span> sur_15, <span class="at">conf.level =</span> <span class="fl">0.90</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  bmi by english
t = -0.4609, df = 42.944, p-value = 0.6472
alternative hypothesis: true difference in means between group No and group Yes is not equal to 0
90 percent confidence interval:
 -2.339923  1.332950
sample estimates:
 mean in group No mean in group Yes 
         23.52387          24.02736 </code></pre>
</div>
</div>
<ul>
<li>The point estimates for the two population <code>bmi</code> means are 23.523 for No and 24.027 for Yes, so the average student who speaks English best has a BMI estimated to be about 0.504 points higher points higher than the average for a student who speaks another language better than English, based on our samples.</li>
<li>Our 90% confidence interval for the difference (English - non-English) of the population means is (-1.33, 2.34).
<ul>
<li>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</li>
<li>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.33 and 2.34, depending on the assumptions of our Welch t test being correct.</li>
</ul></li>
<li>The assumptions of the Welch’s t test are
<ul>
<li>that the samples in each group are drawn independently of each other,</li>
<li>that the samples in each group represent a random sample of the population of interest,</li>
<li>and that the samples in each group are drawn from a Normally distributed population.</li>
</ul></li>
<li>The last of these assumptions is especially hard to justify given these data.</li>
<li>Here, I’ve also used a two-sided confidence interval procedure, which is what we’ll do in all work for 431, not just Project B.</li>
</ul>
</section>
<section id="the-pooled-t-test-t-test-with-equal-variances" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="the-pooled-t-test-t-test-with-equal-variances"><span class="header-section-number">5.3.2</span> The Pooled t test (t test with equal variances)</h3>
<p>The pooled t test, of course, actually adds an assumption (that either the sample sizes or the population variances are equal) to the assumptions of the Welch test. As mentioned above, the large difference in the sample variances and sample sizes makes this test unattractive, in addition to the problems with assuming Normality. Regardless, here is a 90% confidence interval for the difference between the non-English and English population mean <code>bmi</code> based on the pooled t test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>fitB <span class="ot">&lt;-</span> <span class="fu">lm</span>(bmi <span class="sc">~</span> english, <span class="at">data =</span> sur_15) </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">model_parameters</span>(fitB, <span class="at">ci =</span> <span class="fl">0.90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Parameter     | Coefficient |   SE |         90% CI | t(47) |      p
--------------------------------------------------------------------
(Intercept)   |       23.52 | 1.04 | [21.78, 25.27] | 22.67 | &lt; .001
english [Yes] |        0.50 | 1.26 | [-1.62,  2.63] |  0.40 | 0.692 </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Uncertainty intervals (equal-tailed) and p-values (two-tailed) computed
  using a Wald t-distribution approximation.</code></pre>
</div>
</div>
<ul>
<li>The point BMI estimates are 23.523 for No and 24.027 for Yes, so the average student who speaks English best has a BMI estimated to be about 0.504 points higher than the average for a student who speaks another language better than English, based on our samples.</li>
<li>Our 90% confidence interval for the difference (English - non-English) of the population means is now (-1.62, 2.63) based on the pooled t procedure.
<ul>
<li>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</li>
<li>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.62 and 2.63, depending on the assumptions of our linear model being correct.</li>
</ul></li>
<li>The assumptions of the pooled t test are
<ul>
<li>that the samples in each group are drawn independently of each other,</li>
<li>that the samples in each group represent a random sample of the population of interest,</li>
<li>the samples in each group are drawn from a Normally distributed population,</li>
<li><em>and</em> that either the sample sizes or the population variances are equal.</li>
</ul></li>
<li>The Normality assumption remains hard to justify given these data, so we should look at alternatives.</li>
<li>Here, I’ve again used a two-sided confidence interval procedure, as we’ll do in all 431 work.</li>
</ul>
</section>
<section id="the-bootstrap-for-comparing-means-from-two-independent-samples" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="the-bootstrap-for-comparing-means-from-two-independent-samples"><span class="header-section-number">5.3.3</span> The Bootstrap for comparing means from two independent samples</h3>
<p>An independent samples comparison that doesn’t require Normality is the bootstrap. Here is a 90% confidence interval for the difference between the English and non-English population <code>bmi</code> distributions based on the bootstrap using a seed of <code>431</code>. (<em>Note</em>: when you set a seed for this or other analyses in the project, pick something other than <code>431</code>.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">431</span>)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">specify</span>(bmi <span class="sc">~</span> english) <span class="sc">|&gt;</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generate</span>(<span class="at">reps =</span> <span class="dv">1000</span>, <span class="at">type =</span> <span class="st">"bootstrap"</span>) <span class="sc">|&gt;</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculate</span>(<span class="at">stat =</span> <span class="st">"diff in means"</span>,</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>) ) <span class="sc">|&gt;</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">get_confidence_interval</span>(<span class="at">level =</span> <span class="fl">0.90</span>, <span class="at">type =</span> <span class="st">"percentile"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  lower_ci upper_ci
     &lt;dbl&gt;    &lt;dbl&gt;
1    -1.19     2.28</code></pre>
</div>
</div>
<ul>
<li>The population mean BMI in those who said Yes is estimated to be about 0.504 points higher than the population mean BMI for those who said No, based on our samples. So the mean differences’ point estimate is 0.504</li>
<li>Our 90% bootstrapped confidence interval for the difference (Yes - No) of the population means is (-1.19, 2.28).
<ul>
<li>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.19 and 2.28, depending on the assumptions of our bootstrap estimation procedure being correct.</li>
</ul></li>
<li>The assumptions of this bootstrap procedure are:
<ul>
<li>that the samples in each group are drawn independently of each other,</li>
<li><em>and</em> that the samples in each group represent a random sample of the population of interest.</li>
</ul></li>
<li>Again, I’ve used a two-sided confidence interval procedure.</li>
</ul>
<p>So, I think the bootstrap procedure would be most appropriate here, due to the non-Normality (and in particular the asymmetry) in the samples.</p>
</section>
</section>
<section id="conclusions-1" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="conclusions-1"><span class="header-section-number">5.4</span> Conclusions</h2>
<p>We find a point estimate of 0.51 and a 90% confidence interval of (-1.19, 2.28) for the difference between the population mean BMI for those who speak English best minus the population mean BMI for those who speak another language best, based on our sample. This conclusion is motivated by a bootstrap estimate to compare the two groups (English and non-English) across 49 subjects. I feel this is the most justified approach based on the apparent skew in the data (particularly among those who speak English best) in these students.</p>
<p>If this were an actual Project B Study 1, I’d discuss the other issues that go into a conclusion, including limitations of this study and suggestions about logical next steps. But I’ll leave that to you.</p>
</section>
</section>
<section id="analysis-c-comparing-3-population-means-via-anova" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Analysis C: Comparing 3 Population Means via ANOVA</h1>
<section id="the-question-2" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="the-question-2"><span class="header-section-number">6.1</span> The Question</h2>
<p>We’ll compare <code>comfort_431</code> by <code>grades_r</code> in this analysis, using the analysis of variance, and related tools. We’re comparing the mean <code>comfort_431</code> scores of the population represented by the respondents who got their best grades_r on individual work, to the population represented by the respondents who got their best grades_r with a partner, to the population represented by the respondents who got their best grades_r on group work. There is no link between subjects across the three <code>grades_r</code> groups, so the samples are independent. Plus, as we’ll see, there are different numbers of subjects in the three <code>grades_r</code> groups, so there’s no way their <code>comfort_431</code> values could be matched. As a result, we’re going to be interested in looking at the three samples separately to help us understand issues related to hypothesis testing assumptions. <strong>Note that we’ll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project B Study 1 work, as well.</strong></p>
<p>If this were an actual Study 1, rather than a demonstration, I’d build a research question here, but that will be your job.</p>
</section>
<section id="describing-the-data-2" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="describing-the-data-2"><span class="header-section-number">6.2</span> Describing the Data</h2>
<p>I’ll start by looking at the range of the <code>comfort_431</code> data within each <code>grades_r</code> group.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(grades_r) <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(comfort_431))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 11
  grades_r       n  miss  mean    sd   med   mad   min   q25   q75   max
  &lt;fct&gt;      &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Individual    40     0  79.0  15.3    80  14.8    35  73.8  90     100
2 Partner        4     0  63.8  23.6    70  11.1    30  60    73.8    85
3 Group          5     0  78.4  17.8    85  14.8    50  73    89      95</code></pre>
</div>
</div>
<p>We have only 4 and 5 respondents in the Partner and Group <code>grades_r</code> categories, respectively, so that will make it difficult to say much about the distributions of <code>comfort_431</code> in those populations.</p>
<section id="graphical-summaries-1" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="graphical-summaries-1"><span class="header-section-number">6.2.1</span> Graphical Summaries</h3>
<p>Since we are exploring the distributions of three independent samples, I’ll plot each of the groups in a comparison boxplot, as a start.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> grades_r, <span class="at">y =</span> comfort_431, <span class="at">fill =</span> grades_r)) <span class="sc">+</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> <span class="st">"mean"</span>, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">col =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_social</span>() <span class="sc">+</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Comfort with 431 by Type of Assignment that produces best grades_r"</span>,</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Comfort with 431 Materials (0-100)"</span>,</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/comparison_boxplot_analysis_2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The sample sizes are so small that histograms for those two levels of the <code>grades_r</code> factor (Partner and Group) tell us nothing of substantial value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> comfort_431)) <span class="sc">+</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">fill =</span> grades_r), <span class="at">bins =</span> <span class="dv">10</span>, <span class="at">col =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> grades_r, <span class="at">labeller =</span> <span class="st">"label_both"</span>) <span class="sc">+</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_social</span>() <span class="sc">+</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Comfort with 431 by Type of Assignment that produces best grades_r"</span>,</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Comfort with 431 Materials (0-100)"</span>,</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/comparison_histograms_analysis_2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>In addition, the Individual data look as though they may be either skewed to the left a bit or at least have one potential outlier.</li>
<li>With these tiny sample sizes (less than 10 observations) these plots don’t really help. All of the values in each group are within the stated response levels (0-100) but otherwise, there’s not a lot to go on. ANOVA is quite robust, so we’ll run it, but I expect that a Kruskal-Wallis approach may also be useful here.</li>
</ul>
</section>
<section id="numerical-summaries-1" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="numerical-summaries-1"><span class="header-section-number">6.2.2</span> Numerical Summaries</h3>
<p>With so few observations in the Partner and Group <code>grades_r</code> levels, there’s not much to see in numerical summaries, either.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">group_by</span>(grades_r) <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(comfort_431))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 11
  grades_r       n  miss  mean    sd   med   mad   min   q25   q75   max
  &lt;fct&gt;      &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Individual    40     0  79.0  15.3    80  14.8    35  73.8  90     100
2 Partner        4     0  63.8  23.6    70  11.1    30  60    73.8    85
3 Group          5     0  78.4  17.8    85  14.8    50  73    89      95</code></pre>
</div>
</div>
<p>We have 40 Individual, 4 Partner and 5 Group subjects with known comfort levels.</p>
<p>The conclusion I draw from all of this is that we need to run but that we probably can’t trust an ANOVA here, with such small sample sizes in the non-Individual <code>grades_r</code> levels. Anything below 10 subjects is just too small, and, practically, I’d consider collapsing the groups to <code>Individual</code> vs.&nbsp;<code>All Other</code>. But for this demonstration, I’ll press on.</p>
</section>
</section>
<section id="analysis-of-variance" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="analysis-of-variance"><span class="header-section-number">6.3</span> Analysis of Variance</h2>
<p>Let’s run the ANOVA here just so you have the code, even though we don’t have large enough data samples in the <code>Partner</code> and <code>Group</code> levels to justify statistical inference at all.</p>
<p>The Analysis of Variance compares the means of <code>comfort_431</code> in the three <code>grades_r</code> populations. We can run the analysis using either of two approaches, each of which we’ll show in what follows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>fitC <span class="ot">&lt;-</span> <span class="fu">lm</span>(comfort_431 <span class="sc">~</span> grades_r, <span class="at">data =</span> sur_15) </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>fitC <span class="sc">|&gt;</span> <span class="fu">anova</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: comfort_431
          Df  Sum Sq Mean Sq F value Pr(&gt;F)
grades_r   2   843.3  421.63   1.609 0.2111
Residuals 46 12053.8  262.04               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>fitC <span class="sc">|&gt;</span> <span class="fu">eta_squared</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>For one-way between subjects designs, partial eta squared is equivalent
  to eta squared. Returning eta squared.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># Effect Size for ANOVA

Parameter | Eta2 |       95% CI
-------------------------------
grades_r  | 0.07 | [0.00, 1.00]

- One-sided CIs: upper bound fixed at [1.00].</code></pre>
</div>
</div>
<ul>
<li>Here, we’d conclude only that the results we have are not particularly consistent with an assumption that there are no differences between the population mean <code>comfort_431</code> scores for the three <code>grades_r</code> categories.</li>
<li>The <code>grades_r</code> account for <span class="math inline">\(\eta^2 = \frac{843.3}{843.3 + 12053.8} = 0.07\)</span> or 7% of the variation in <code>comfort_431</code> scores in our sample.</li>
<li>The natural next question is to try to identify which pairs of <code>grades_r</code> categories show larger estimated differences, and we’ll tackle that in a moment with a Bonferroni/Holm approach (although you are welcome to use Tukey HSD instead.)</li>
<li>ANOVA is the natural extension of the pooled t test for two independent samples, and so it has the same set of assumptions when we compare population means across multiple categories (here, the three <code>grades_r</code> categories)…
<ul>
<li>that the samples in each category are drawn independently of each other,</li>
<li>that the samples in each category represent a random sample of the population of interest,</li>
<li>the samples in each category are drawn from a Normally distributed population,</li>
<li><em>and</em> that either the sample sizes or the population variances are equal across the categories.</li>
</ul></li>
</ul>
<p>The main problem here is that the sample size is so small that we can’t tell whether this result is truly reasonable or not. We really need a minimum of 15 observations (and ideally more like 30) in each group to let our histograms and boxplots have any chance to be informative on these points. We’ll move on to looking at the pairwise comparisons, though, in this demonstration.</p>
<section id="holm-approach-to-pairwise-comparisons-of-means" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="holm-approach-to-pairwise-comparisons-of-means"><span class="header-section-number">6.3.1</span> Holm approach to Pairwise Comparisons of Means</h3>
<p>We have two approaches available for dealing with multiple comparisons. If we had not pre-planned the full set of pairwise comparisons of <code>comfort_431</code> across the <code>grades_r</code> categories, or if we wanted to use a fairly conservative approach, we could apply a Holm correction to our comparisons. This works reasonably well even with an unbalanced design, such as we have here, and I recommend you use this approach in Project B Study 1 Analysis C<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>conC1 <span class="ot">&lt;-</span> <span class="fu">estimate_contrasts</span>(fitC, <span class="at">contrast =</span> <span class="st">"grades_r"</span>, </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ci =</span> <span class="fl">0.90</span>, <span class="at">p.adjust =</span> <span class="st">"holm"</span>)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>conC1 <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ekcselcvmf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ekcselcvmf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ekcselcvmf thead, #ekcselcvmf tbody, #ekcselcvmf tfoot, #ekcselcvmf tr, #ekcselcvmf td, #ekcselcvmf th {
  border-style: none;
}

#ekcselcvmf p {
  margin: 0;
  padding: 0;
}

#ekcselcvmf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ekcselcvmf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ekcselcvmf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ekcselcvmf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ekcselcvmf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ekcselcvmf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ekcselcvmf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ekcselcvmf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ekcselcvmf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ekcselcvmf .gt_spanner_row {
  border-bottom-style: hidden;
}

#ekcselcvmf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ekcselcvmf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ekcselcvmf .gt_from_md > :first-child {
  margin-top: 0;
}

#ekcselcvmf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ekcselcvmf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ekcselcvmf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ekcselcvmf .gt_row_group_first td {
  border-top-width: 2px;
}

#ekcselcvmf .gt_row_group_first th {
  border-top-width: 2px;
}

#ekcselcvmf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ekcselcvmf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ekcselcvmf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ekcselcvmf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ekcselcvmf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ekcselcvmf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ekcselcvmf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ekcselcvmf .gt_left {
  text-align: left;
}

#ekcselcvmf .gt_center {
  text-align: center;
}

#ekcselcvmf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ekcselcvmf .gt_font_normal {
  font-weight: normal;
}

#ekcselcvmf .gt_font_bold {
  font-weight: bold;
}

#ekcselcvmf .gt_font_italic {
  font-style: italic;
}

#ekcselcvmf .gt_super {
  font-size: 65%;
}

#ekcselcvmf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ekcselcvmf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ekcselcvmf .gt_indent_1 {
  text-indent: 5px;
}

#ekcselcvmf .gt_indent_2 {
  text-indent: 10px;
}

#ekcselcvmf .gt_indent_3 {
  text-indent: 15px;
}

#ekcselcvmf .gt_indent_4 {
  text-indent: 20px;
}

#ekcselcvmf .gt_indent_5 {
  text-indent: 25px;
}

#ekcselcvmf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ekcselcvmf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="Level1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Level1</th>
<th id="Level2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Level2</th>
<th id="Difference" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Difference</th>
<th id="CI_low" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">CI_low</th>
<th id="CI_high" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">CI_high</th>
<th id="SE" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">SE</th>
<th id="df" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">df</th>
<th id="t" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">t</th>
<th id="p" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">p</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Level1">Individual</td>
<td class="gt_row gt_left" headers="Level2">Group</td>
<td class="gt_row gt_right" headers="Difference">0.55</td>
<td class="gt_row gt_right" headers="CI_low">-16.295760</td>
<td class="gt_row gt_right" headers="CI_high">17.395760</td>
<td class="gt_row gt_right" headers="SE">7.678480</td>
<td class="gt_row gt_right" headers="df">46</td>
<td class="gt_row gt_right" headers="t">0.07162876</td>
<td class="gt_row gt_right" headers="p">0.9432079</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Level1">Individual</td>
<td class="gt_row gt_left" headers="Level2">Partner</td>
<td class="gt_row gt_right" headers="Difference">15.20</td>
<td class="gt_row gt_right" headers="CI_low">-3.423689</td>
<td class="gt_row gt_right" headers="CI_high">33.823689</td>
<td class="gt_row gt_right" headers="SE">8.488879</td>
<td class="gt_row gt_right" headers="df">46</td>
<td class="gt_row gt_right" headers="t">1.79057809</td>
<td class="gt_row gt_right" headers="p">0.2398296</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Level1">Partner</td>
<td class="gt_row gt_left" headers="Level2">Group</td>
<td class="gt_row gt_right" headers="Difference">-14.65</td>
<td class="gt_row gt_right" headers="CI_low">-38.473503</td>
<td class="gt_row gt_right" headers="CI_high">9.173503</td>
<td class="gt_row gt_right" headers="SE">10.859010</td>
<td class="gt_row gt_right" headers="df">46</td>
<td class="gt_row gt_right" headers="t">-1.34911010</td>
<td class="gt_row gt_right" headers="p">0.3678106</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li>Our process detects positive differences between the mean of the Partner category and the means of the other two categories, but suggests that the difference between Individual and Group means covers both positive and negative values.
<ul>
<li>Note that a more comprehensive discussion of the confidence intervals here might be helpful, but I’ll leave that to you.</li>
</ul></li>
<li>The assumptions here include the ANOVA assumptions, which are no more or less justified than they were before. We do not, however, require that our pairwise comparisons be pre-planned.</li>
</ul>
<p>Here is the plot of the results.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>conC1_tib <span class="ot">&lt;-</span> <span class="fu">tibble</span>(conC1) <span class="sc">|&gt;</span>  </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">contr =</span> <span class="fu">str_c</span>(Level1, <span class="st">" - "</span>, Level2))</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(conC1_tib, <span class="fu">aes</span>(<span class="at">y =</span> contr, <span class="at">x =</span> Difference)) <span class="sc">+</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> CI_low, <span class="at">xmax =</span> CI_high)) <span class="sc">+</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Holm 90% HSD Intervals for Comfort with 431"</span>,</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Contrast"</span>, </span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Difference in Comfort with 431"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusions-2" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="conclusions-2"><span class="header-section-number">6.4</span> Conclusions</h2>
<p>Our conclusions are:</p>
<ul>
<li>that the sample size is just too small in the non-Individual <code>grades_r</code> categories to draw very firm conclusions, and</li>
<li>the ANOVA results don’t appear to have the power to detect meaningful differences between the means based on this small sample.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I’ve made no special effort here to write these conclusions in the format we’re looking for in your Study 1 work, because you’ll have larger sample sizes, and (I hope) more faith as a result in the comparisons you build.</p>
</div>
</div>
</section>
</section>
<section id="analysis-d-two-way-2-x-2-contingency-table" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Analysis D: Two-Way (2 x 2) Contingency Table</h1>
<section id="the-question-3" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="the-question-3"><span class="header-section-number">7.1</span> The Question</h2>
<p>We’ll look at the association of <code>r_before</code> with <code>english</code> in this analysis. The <code>r_before</code> variable and the <code>english</code> variable each have two levels, and suppose we are interested in whether <code>english</code> has an impact on <code>r_before</code>, so we’ll build a contingency table with <code>english</code> in the rows and <code>r_before</code> in the columns. <strong>Note that we’ll use a 90% confidence level and the add 2 successes and 2 failures Bayesian augmentation, and I encourage you to do this in your actual Project B Study 1 work, as well.</strong> I’ll remind you that in your Project B, we’re requiring you to have a minimum number of observations within each cell of the table that I cannot meet here with this tiny sample size.</p>
<p>If this were an actual Study 1, rather than a demonstration, I’d build a research question here, but I have decided to leave that work to you.</p>
</section>
<section id="describing-the-data-3" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="describing-the-data-3"><span class="header-section-number">7.2</span> Describing the Data</h2>
<p>Here is the data for our 2x2 table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(english, r_before) <span class="sc">|&gt;</span> <span class="fu">adorn_title</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         r_before    
 english       No Yes
      No        9   7
     Yes       16  17</code></pre>
</div>
</div>
<p>Those names could use some work, I think.</p>
<ul>
<li>The row names, in order, should be something like “English” (where “Yes” is now) and “Not English” with “English” first</li>
<li>The column names, respectively, should be “Prior R user” and “No Prior R”, with “Prior R User” first.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>sur_15_D <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(s_id, english, r_before) <span class="sc">|&gt;</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">english_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(english),</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Not English"</span> <span class="ot">=</span> <span class="st">"No"</span>,</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"English"</span> <span class="ot">=</span> <span class="st">"Yes"</span>),</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">english_r =</span> <span class="fu">fct_relevel</span>(english_r, <span class="st">"English"</span>),</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">r_before_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(r_before),</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"No Prior R"</span> <span class="ot">=</span> <span class="st">"No"</span>,</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Prior R user"</span> <span class="ot">=</span> <span class="st">"Yes"</span>),</span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">r_before_r =</span> <span class="fu">fct_relevel</span>(r_before_r, <span class="st">"Prior R user"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>sur_15_D <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(english_r, r_before_r) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   english_r Prior R user No Prior R
     English           17         16
 Not English            7          9</code></pre>
</div>
</div>
</section>
<section id="main-analysis-2" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="main-analysis-2"><span class="header-section-number">7.3</span> Main Analysis</h2>
<p>I <strong>strongly encourage</strong> you to use the Bayesian augmentation where we add two successes and add two failures, as recommended in Agresti and Coull<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, and to use 90% confidence levels. To accomplish this I’ll use the <code>twoby2</code> function in the <code>Epi</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> <span class="fu">table</span>(sur_15_D<span class="sc">$</span>english_r, sur_15_D<span class="sc">$</span>r_before_r)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">twoby2</span>(t1 <span class="sc">+</span> <span class="dv">2</span>, <span class="at">conf.level =</span> <span class="fl">0.90</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2 by 2 table analysis: 
------------------------------------------------------ 
Outcome   : Prior R user 
Comparing : English vs. Not English 

            Prior R user No Prior R    P(Prior R user) 90% conf. interval
English               19         18             0.5135    0.3806   0.6445
Not English            9         11             0.4500    0.2809   0.6315

                                   90% conf. interval
             Relative Risk: 1.1411    0.7030   1.8522
         Sample Odds Ratio: 1.2901    0.5161   3.2248
Conditional MLE Odds Ratio: 1.2844    0.4506   3.7146
    Probability difference: 0.0635   -0.1576   0.2740

             Exact P-value: 0.7828 
        Asymptotic P-value: 0.6474 
------------------------------------------------------</code></pre>
</div>
</div>
<p>Note what I did to add two observations to each cell of the table.</p>
<div class="calllout-note">
<p>In your Project B write-up, be sure to interpret the point estimates of the relative risk <strong>and</strong> the odds ratio (the sample one, not the conditional MLE one) <strong>and</strong> the probability difference. For the confidence intervals, though, just write out your interpretation of the confidence interval explanation for the probability difference.</p>
</div>
<p>We can draw conclusions now about:</p>
<ul>
<li>The individual probabilities of being a prior R user in the English and non-English groups, and 90% confidence intervals for each at the top of the output, so that, for instance, we estimate the probability of prior R usage among subjects for whom English is not their best language at 0.45, with 90% confidence interval (0.29, 0.63).</li>
<li>The relative risk of Prior R use given English vs.&nbsp;Prior R use given non-English, which is estimated to be 1.14, with 90% CI (0.70, 1.85). (In your project, you’ll explain what your relative risk point estimate means in detail, but don’t worry about interpreting the CI - just specify the lower and upper bounds.)</li>
<li>The odds ratio describing the odds of Prior R use given English vs.&nbsp;Non-English, which is estimated to be 1.29 with 90% CI (0.52, 3.22). (In your project B, you’ll explain what your odds ratio point estimate means in detail, but don’t worry about interpreting the CI - just specify the lower and upper bounds.)</li>
<li>The difference in probability of Prior R use for English vs.&nbsp;non-English subjects, which is estimated to be 0.0635, with a 90% confidence interval of (-0.1576, 0.2740). (In your project, you’ll explain what your point estimate for the probability difference means in detail and also state and interpret the CI for the probability difference.)</li>
<li>The chi-square test of independence, which assesses the null hypothesis of no association between language preference and prior R usage, using either Fisher’s exact test or the Pearson chi-square test (labeled asymptotic here.) The p value here is quite large.</li>
</ul>
<section id="checking-assumptions" class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="checking-assumptions"><span class="header-section-number">7.3.1</span> Checking Assumptions</h3>
<p>Since each cell in our (non-augmented) 2x2 table is at least 5, R throws no warning messages. We should be reasonably comfortable with the chi-square test of independence here. If every cell was 10 or more, we’d be even more comfortable.</p>
</section>
<section id="what-if-we-wanted-to-type-in-the-table-ourselves" class="level3" data-number="7.3.2">
<h3 data-number="7.3.2" class="anchored" data-anchor-id="what-if-we-wanted-to-type-in-the-table-ourselves"><span class="header-section-number">7.3.2</span> What If We Wanted to Type in the Table Ourselves?</h3>
<p>With the <code>twobytwo</code> function available in the <code>Love-boost.R</code> script, we can directly obtain 90% confidence intervals. For example, suppose we had the following data, pulled from our 2016 survey:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: right;">2016 Survey</th>
<th style="text-align: right;">Drank Tea Recently</th>
<th style="text-align: right;">Didn’t Drink Tea</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Not Born in US</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: right;">US Born</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">18</td>
</tr>
</tbody>
</table>
<p>Suppose we wanted to use <code>twobytwo</code> and the +2/+4 Bayesian augmentation (adding 2 to the count in each cell of our 2x2 table) and a 90% confidence interval for this comparison, to see whether the population proportions who drank tea recently differ between those born in and out of the US.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">twobytwo</span>(<span class="dv">21</span><span class="sc">+</span><span class="dv">2</span>, <span class="dv">10</span><span class="sc">+</span><span class="dv">2</span>, <span class="dv">20</span><span class="sc">+</span><span class="dv">2</span>, <span class="dv">18</span><span class="sc">+</span><span class="dv">2</span>,</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">"Not US Born"</span>, <span class="st">"US Born"</span>, <span class="st">"Drank Tea"</span>, <span class="st">"No Tea"</span>,</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">conf.level =</span> <span class="fl">0.90</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2 by 2 table analysis: 
------------------------------------------------------ 
Outcome   : Drank Tea 
Comparing : Not US Born vs. US Born 

            Drank Tea No Tea    P(Drank Tea) 90% conf. interval
Not US Born        23     12          0.6571    0.5162   0.7749
US Born            22     20          0.5238    0.3982   0.6465

                                   90% conf. interval
             Relative Risk: 1.2545    0.9160   1.7181
         Sample Odds Ratio: 1.7424    0.8024   3.7839
Conditional MLE Odds Ratio: 1.7299    0.7276   4.1948
    Probability difference: 0.1333   -0.0512   0.3036

             Exact P-value: 0.2561 
        Asymptotic P-value: 0.2389 
------------------------------------------------------</code></pre>
</div>
</div>
</section>
</section>
<section id="conclusions-3" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="conclusions-3"><span class="header-section-number">7.4</span> Conclusions</h2>
<p>Our primary conclusions about the study we’ve done here in Analysis D should be motivated by comparing the point estimates of the relative risk and odds ratio to what they would be (i.e., 1) if there was no relationship, and a more thorough description of the estimated difference in probabilities between the two groups (English and not English in our case) including its 90% confidence interval.</p>
<p>Then we’d write more about limitations and opportunities for further work, were this an actual Study 1, instead of just a demonstration.</p>
</section>
</section>
<section id="analysis-e-two-way-3-x-4-contingency-table" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Analysis E: Two-Way (3 x 4) Contingency Table</h1>
<section id="the-question-4" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="the-question-4"><span class="header-section-number">8.1</span> The Question</h2>
<p>We’ll look at the association of two categorical factors we created earlier: <code>medium_r</code> and <code>fiction_r</code> in this analysis. We’re interested in whether there is an association between the ways in which subjects consumed their fiction, and the type of fiction they most enjoy. The <code>medium_r</code> data have three levels, and the <code>fiction_r</code> data have four levels. <strong>Note that we’ll use a 90% confidence level and I encourage you to do this in your actual Project B Study 1 work, as well.</strong></p>
<p>If this were an actual Study 1, rather than a demonstration, I’d build a research question here, but I have decided to leave that work to you.</p>
</section>
<section id="describing-the-data-4" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="describing-the-data-4"><span class="header-section-number">8.2</span> Describing the Data</h2>
<p>Let’s store this initial table of interest as <code>table_E1</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>table_E1 <span class="ot">&lt;-</span> <span class="fu">table</span>(sur_15<span class="sc">$</span>medium_r, sur_15<span class="sc">$</span>fiction_r)</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>table_E1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        
         Comedy Drama Fantasy/SF Other
  Movies      4     4          5     2
  TV         10     5          2     4
  Other       3     5          5     0</code></pre>
</div>
</div>
<p>We could add the marginal totals, I suppose.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(medium_r, fiction_r) <span class="sc">|&gt;</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>(<span class="at">where =</span> <span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> medium_r Comedy Drama Fantasy/SF Other Total
   Movies      4     4          5     2    15
       TV     10     5          2     4    21
    Other      3     5          5     0    13
    Total     17    14         12     6    49</code></pre>
</div>
</div>
<p>Note that we don’t meet the Cochran conditions here. In particular, we still have a 0 cell, and that might motivate us to consider collapsing or removing the “Other” category from the <code>fiction_r</code> variable.</p>
<p><strong>NOTE</strong>: In doing your project B, I would only proceed once I’d identified variables (after whatever collapsing you decide to do) that meet the Cochran conditions (described below.)</p>
<p>I’ll leave it alone for now, and see what happens, returning to this later. The research question, if I’d written would need to address whether which medium (Movies, TV or other) you like is associated with which genre (Comedy, Drama, Fantasy/SF) you prefer.</p>
</section>
<section id="main-analysis-3" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="main-analysis-3"><span class="header-section-number">8.3</span> Main Analysis</h2>
<section id="running-the-pearson-chi2-test" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="running-the-pearson-chi2-test"><span class="header-section-number">8.3.1</span> Running the Pearson <span class="math inline">\(\chi^2\)</span> Test</h3>
<p>We’ll run the Pearson <span class="math inline">\(\chi^2\)</span> test using:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(table_E1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in stats::chisq.test(x, y, ...): Chi-squared approximation may be
incorrect</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  table_E1
X-squared = 8.2621, df = 6, p-value = 0.2195</code></pre>
</div>
</div>
<p>Note the warning, because our table does not meet the Cochran conditions.</p>
</section>
<section id="running-fishers-exact-test" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="running-fishers-exact-test"><span class="header-section-number">8.3.2</span> Running Fisher’s Exact Test</h3>
<p><strong>NOTE</strong>: In doing your project B, I would only proceed once I’d identified variables (after whatever collapsing you decide to do) that meet the Cochran conditions (described below.) I would not run Fisher’s test.</p>
<p>Given a small overall sample size, the <code>fisher.test</code> command will also produce a Fisher’s exact test, which may be a little more appropriate here, given the presence of cells with small counts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fisher.test</span>(table_E1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Fisher's Exact Test for Count Data

data:  table_E1
p-value = 0.2096
alternative hypothesis: two.sided</code></pre>
</div>
</div>
<p>Based on the Fisher test, we would get only a slightly different conclusion than the Pearson test. However,</p>
<ol type="a">
<li>Our conclusions are quite dependent on the choice of <span class="math inline">\(\alpha\)</span> level.</li>
<li>Neither test is really appropriate, since we have very small cell counts, including a zero.</li>
</ol>
</section>
<section id="checking-assumptions---the-cochran-conditions" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="checking-assumptions---the-cochran-conditions"><span class="header-section-number">8.3.3</span> Checking Assumptions - The Cochran Conditions</h3>
<p>The “Cochran conditions”, which require that we have:</p>
<ul>
<li>no cells with 0 counts</li>
<li>at least 80% of the cells in our table with counts of 5 or higher</li>
<li>expected counts in each cell of the table should be 5 or more</li>
</ul>
<p>We don’t meet those Cochran conditions here. In addition, since each cell in our 3x4 table is NOT at least 5, R throws a warning message when we run the Pearson <span class="math inline">\(\chi^2\)</span> test, and since we don’t meet the Cochran conditions, the <code>fisher.test</code> results are questionable, as well. We should consider whether collapsing or deleting some of the rows or columns might be more reasonable. And we’ll do this next.</p>
</section>
<section id="an-association-plot-for-the-3x4-table" class="level3" data-number="8.3.4">
<h3 data-number="8.3.4" class="anchored" data-anchor-id="an-association-plot-for-the-3x4-table"><span class="header-section-number">8.3.4</span> An Association Plot for the 3x4 Table</h3>
<p>The <code>assocplot</code> function in R produces a plot that indicates deviations from the assumption of independence of rows and columns in a two-way table. For instance, using our original table, we have:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">assocplot</span>(table_E1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/assoc_plot_table_E1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can see that the independence model really doesn’t work well for the cells with larger shapes here, which we note especially in the Fantasy/SF category, and to some extent in the Comedy category.</p>
<p><strong>Hint</strong>: Finding a better scheme for visualizing a contingency table’s relationship to independence (or simply the table itself), especially if it’s using the <code>gt</code> package, would be a good idea to explore further in Analysis E, too, especially if you’re looking to learn to build savvy tables. But this is not necessary, certainly.</p>
</section>
<section id="a-2x3-table-after-collapsing-lumping-some-small-rows-and-columns" class="level3" data-number="8.3.5">
<h3 data-number="8.3.5" class="anchored" data-anchor-id="a-2x3-table-after-collapsing-lumping-some-small-rows-and-columns"><span class="header-section-number">8.3.5</span> A 2x3 Table, After Collapsing (Lumping) Some Small Rows and Columns</h3>
<p>Suppose we instead decided to drop down to a study of TV vs.&nbsp;Other media (combining Movies and Other) and also collapsed the Fantasy/SF and Other columns (so the remaining subjects form a 2x3 table), in an effort to remove zero cells, and reduce the incidence of cells with counts below 5.</p>
<p>First, we’ll combine the Movies and Other groups to create <code>medium_2</code> from <code>medium_r</code> using <code>fct_recode</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">medium_2 =</span> <span class="fu">fct_recode</span>(medium_r, </span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Not TV"</span> <span class="ot">=</span> <span class="st">"Movies"</span>,</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"TV"</span> <span class="ot">=</span> <span class="st">"TV"</span>,</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Not TV"</span> <span class="ot">=</span> <span class="st">"Other"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or, we can use the <code>fct_lump</code> function to lump together the two categories with the smallest overall counts directly, in creating <code>fiction_3</code> from <code>fiction_r</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fiction_3 =</span> <span class="fu">fct_lump</span>(fiction_r, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s call the collapsed table <code>table_E2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>table_E2 <span class="ot">&lt;-</span> </span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>(sur_15<span class="sc">$</span>medium_2, sur_15<span class="sc">$</span>fiction_3)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>table_E2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        
         Comedy Drama Other
  Not TV      7     9    12
  TV         10     5     6</code></pre>
</div>
</div>
<p>This new 2x3 table loses some fidelity, but gains in that each cell now contains at least 5 subjects. I’ll remind you that in your Project B, we’re requiring you to have even more than that in each cell.</p>
</section>
<section id="chi-square-testing-for-the-2x3-table" class="level3" data-number="8.3.6">
<h3 data-number="8.3.6" class="anchored" data-anchor-id="chi-square-testing-for-the-2x3-table"><span class="header-section-number">8.3.6</span> Chi-Square Testing for the 2x3 Table</h3>
<p>And here are the results from chi-square testing…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chisq.test</span>(table_E2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  table_E2
X-squared = 2.7279, df = 2, p-value = 0.2556</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fisher.test</span>(table_E2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Fisher's Exact Test for Count Data

data:  table_E2
p-value = 0.2765
alternative hypothesis: two.sided</code></pre>
</div>
</div>
<p>For the project, once all of the cells have at least 5 observations, I recommend the use of the Pearson approach, unless the table is square (# of rows = # of columns), in which case the Fisher test is also a reasonable choice. Generally, the Fisher test is more appropriate when the sample sizes are small. In this case, of course, it doesn’t matter much after collapsing cells and forming this 2x3 table. We’ll close with the association plot for this smaller table, which suggests that the independence model inverts its errors for Comedy as compared to the other two categories.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">assocplot</span>(table_E2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sample-study1_files/figure-html/table_E2_assocplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusions-4" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="conclusions-4"><span class="header-section-number">8.4</span> Conclusions</h2>
<p>Using the collapsed <code>table_E2</code> to meet the Cochran conditions, and either the Pearson or Fisher test we detect no strong association between the favorite consumption method and favorite genre. I’d also spend a bit of time talking about the results of the <code>assocplot</code>, I think, or at least make some effort to indicate where the independence assumption holds less well, even though it doesn’t reach the point where we can reject it with 90% confidence.</p>
<p>Again, it’s your job to identify and discuss your conclusions, as expected in the instructions for Project B Study 1. This is just a demonstration.</p>
</section>
</section>
<section id="session-information" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> Session Information</h1>
<p>End your report with the session information, in its own section. This will be Section 8 for you, but it’s Section 9 for me because I did all five analyses, whereas you will only do four.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">session_info</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64
Running under: Windows 11 x64 (build 22631)

Locale:
  LC_COLLATE=English_United States.utf8 
  LC_CTYPE=English_United States.utf8   
  LC_MONETARY=English_United States.utf8
  LC_NUMERIC=C                          
  LC_TIME=English_United States.utf8    

Package version:
  askpass_1.2.1          backports_1.5.0        base64enc_0.1.3       
  bayestestR_0.15.0      bigD_0.3.0             bit_4.5.0             
  bit64_4.5.2            bitops_1.0.9           blob_1.2.4            
  broom_1.0.7            bslib_0.8.0            cachem_1.1.0          
  callr_3.7.6            cellranger_1.1.0       cli_3.6.3             
  clipr_0.8.0            cmprsk_2.2-12          coda_0.19-4.1         
  codetools_0.2-20       colorspace_2.1-1       commonmark_1.9.2      
  compiler_4.4.2         conflicted_1.2.0       correlation_0.8.6     
  cpp11_0.5.0            crayon_1.5.3           curl_6.0.1            
  data.table_1.16.2      datasets_4.4.2         datawizard_0.13.0     
  DBI_1.2.3              dbplyr_2.5.0           digest_0.6.37         
  dplyr_1.1.4            dtplyr_1.3.1           easystats_0.7.3       
  effectsize_0.8.9       emmeans_1.10.5         Epi_2.56              
  estimability_1.5.1     etm_1.1.1              evaluate_1.0.1        
  fansi_1.0.6            farver_2.1.2           fastmap_1.2.0         
  fontawesome_0.5.3      forcats_1.0.0          fs_1.6.5              
  gargle_1.5.2           generics_0.1.3         ggplot2_3.5.1         
  glue_1.8.0             googledrive_2.1.1      googlesheets4_1.1.1   
  graphics_4.4.2         grDevices_4.4.2        grid_4.4.2            
  gridExtra_2.3          gt_0.11.1              gtable_0.3.6          
  haven_2.5.4            highr_0.11             hms_1.1.3             
  htmltools_0.5.8.1      htmlwidgets_1.6.4      httr_1.4.7            
  ids_1.0.1              infer_1.0.7            insight_0.20.5        
  isoband_0.2.7          janitor_2.2.0          jquerylib_0.1.4       
  jsonlite_1.8.9         juicyjuice_0.1.0       knitr_1.49            
  labeling_0.4.3         lattice_0.22-6         lifecycle_1.0.4       
  lubridate_1.9.3        magrittr_2.0.3         markdown_1.13         
  MASS_7.3-61            Matrix_1.7-1           memoise_2.0.1         
  methods_4.4.2          mgcv_1.9-1             mime_0.12             
  modelbased_0.8.9       modelr_0.1.11          multcomp_1.4-26       
  munsell_0.5.1          mvtnorm_1.3-2          naniar_1.1.0          
  nlme_3.1-166           norm_1.0-11.1          numDeriv_2016.8-1.1   
  openssl_2.2.2          parallel_4.4.2         parameters_0.23.0     
  patchwork_1.3.0        performance_0.12.4     pillar_1.9.0          
  pkgconfig_2.0.3        plyr_1.8.9             prettyunits_1.2.0     
  processx_3.8.4         progress_1.2.3         ps_1.8.1              
  purrr_1.0.2            R6_2.5.1               ragg_1.3.3            
  rappdirs_0.3.3         RColorBrewer_1.1.3     Rcpp_1.0.13-1         
  RcppArmadillo_14.0.2.1 reactable_0.4.4        reactR_0.6.1          
  readr_2.1.5            readxl_1.4.3           rematch_2.0.0         
  rematch2_2.1.2         report_0.5.9           reprex_2.1.1          
  rlang_1.1.4            rmarkdown_2.29         rstudioapi_0.17.1     
  rvest_1.0.4            sandwich_3.1-1         sass_0.4.9            
  scales_1.3.0           see_0.9.0              selectr_0.4.2         
  snakecase_0.11.1       splines_4.4.2          stats_4.4.2           
  stringi_1.8.4          stringr_1.5.1          survival_3.7-0        
  sys_3.4.3              systemfonts_1.1.0      textshaping_0.4.0     
  TH.data_1.1-2          tibble_3.2.1           tidyr_1.3.1           
  tidyselect_1.2.1       tidyverse_2.0.0        timechange_0.3.0      
  tinytex_0.54           tools_4.4.2            tzdb_0.4.0            
  UpSetR_1.4.0           utf8_1.2.4             utils_4.4.2           
  uuid_1.2.1             V8_6.0.0               vctrs_0.6.5           
  viridis_0.6.5          viridisLite_0.4.2      visdat_0.6.0          
  vroom_1.6.5            withr_3.0.2            xfun_0.49             
  xml2_1.3.6             xtable_1.8-4           yaml_2.3.10           
  zoo_1.8-12            </code></pre>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Little, Roderick J. A. 1988. “A Test of Missing Completely at Random for Multivariate Data with Missing Values.” <em>Journal of the American Statistical Association</em> 83 (404): 1198–1202. <a href="https://www.tandfonline.com/doi/abs/10.1080/01621459.1988.10478722">doi:10.1080/01621459.1988.10478722</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Note the use of inline code here to specify this result. The usual cutoff for meaningful right skew by this measure is around 20% of a standard deviation.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>The usual cutoff for meaningful right skew by this measure is around 20% of a standard deviation.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>There is no need in Project B for you to use both a Holm and a Tukey HSD approach to your ANOVA. Either one is OK.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Agresti A Coull BA 1988 Approximate is Better than “Exact” for Interval Estimation of Binomial Proportions. The American Statistician 52(2), 119-126. http://www.jstor.org/stable/2685469<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb131" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "431 Project B Sample Study 1 Report"</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Thomas E. Love"</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> last-modified</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="co">    theme: simplex</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="co">    date-format: iso</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a>:::{.callout-important}</span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## Reminders from Dr. Love </span></span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-18"><a href="#cb131-18" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Remember that each subsection should include at least one complete sentence explaining what you are doing, specifying the variables you are using and how you are using them, and then conclude with at least one complete sentence of discussion of the key conclusions you draw from the current step, and a discussion of any limitations you can describe that apply to the results.</span>
<span id="cb131-19"><a href="#cb131-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-20"><a href="#cb131-20" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>If you want to download the Quarto code I used to create this document **to use as a template for your own work**, click on the Code button near the title of this Sample Study.</span>
<span id="cb131-21"><a href="#cb131-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-22"><a href="#cb131-22" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>In general, DO NOT use my exact words (other than the section and subsection headings) included in this sample report in your project. Rewrite everything to make it relevant to your situation. Do not repeat my instructions back to me. </span>
<span id="cb131-23"><a href="#cb131-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-24"><a href="#cb131-24" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>One partial exception is that I have demonstrated the interpretation of point estimates (and in some cases, like the paired tests in Analysis A, and the independent sample tests in Analysis B, the confidence intervals, too) using language that I would be happy to see you use.</span>
<span id="cb131-25"><a href="#cb131-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-26"><a href="#cb131-26" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-27"><a href="#cb131-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-28"><a href="#cb131-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-29"><a href="#cb131-29" aria-hidden="true" tabindex="-1"></a><span class="fu"># Setup and Data Ingest</span></span>
<span id="cb131-30"><a href="#cb131-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-31"><a href="#cb131-31" aria-hidden="true" tabindex="-1"></a><span class="fu">## Initial Setup and Package Loads </span></span>
<span id="cb131-32"><a href="#cb131-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-35"><a href="#cb131-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-36"><a href="#cb131-36" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb131-37"><a href="#cb131-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-38"><a href="#cb131-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb131-39"><a href="#cb131-39" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb131-40"><a href="#cb131-40" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb131-41"><a href="#cb131-41" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb131-42"><a href="#cb131-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Epi)</span>
<span id="cb131-43"><a href="#cb131-43" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)</span>
<span id="cb131-44"><a href="#cb131-44" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb131-45"><a href="#cb131-45" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb131-46"><a href="#cb131-46" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb131-47"><a href="#cb131-47" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xfun)</span>
<span id="cb131-48"><a href="#cb131-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(easystats)</span>
<span id="cb131-49"><a href="#cb131-49" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb131-50"><a href="#cb131-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-51"><a href="#cb131-51" aria-hidden="true" tabindex="-1"></a><span class="do">## Load Love-431 script </span></span>
<span id="cb131-52"><a href="#cb131-52" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"data/Love-431.R"</span>)</span>
<span id="cb131-53"><a href="#cb131-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-54"><a href="#cb131-54" aria-hidden="true" tabindex="-1"></a><span class="do">## Global options</span></span>
<span id="cb131-55"><a href="#cb131-55" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">comment=</span><span class="cn">NA</span>)</span>
<span id="cb131-56"><a href="#cb131-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-57"><a href="#cb131-57" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())</span>
<span id="cb131-58"><a href="#cb131-58" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-59"><a href="#cb131-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-60"><a href="#cb131-60" aria-hidden="true" tabindex="-1"></a><span class="fu">## Loading the Raw Data into R </span></span>
<span id="cb131-61"><a href="#cb131-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-62"><a href="#cb131-62" aria-hidden="true" tabindex="-1"></a>This document demonstrates a variety of things required in your Project B Study 1. We will demonstrate ideas using data from a 2015 class survey, gathered in three data files available on the <span class="co">[</span><span class="ot">431-data website</span><span class="co">](https://github.com/THOMASELOVE/431-data/tree/main/data-and-code)</span>. The files are called:</span>
<span id="cb131-63"><a href="#cb131-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-64"><a href="#cb131-64" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`projectB-study1-demo-survey-2015a.xlsx`</span></span>
<span id="cb131-65"><a href="#cb131-65" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`projectB-study1-demo-survey-2015b.csv`</span></span>
<span id="cb131-66"><a href="#cb131-66" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`projectB-study1-demo-survey-2015c.csv`</span></span>
<span id="cb131-67"><a href="#cb131-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-68"><a href="#cb131-68" aria-hidden="true" tabindex="-1"></a>After merging, the complete data set should include data on 21 variables for 53 subjects. </span>
<span id="cb131-69"><a href="#cb131-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-70"><a href="#cb131-70" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>I'm going to use <span class="in">`clean_names()`</span> from the <span class="in">`janitor`</span> package before I do the merging. It would also be OK to do this after the merge is complete.</span>
<span id="cb131-71"><a href="#cb131-71" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>I'm also going to tell R to interpret both a blank "" and an "NA" in a cell of the Excel sheet as indicating a missing value, since that's what I need, and since that's what <span class="in">`read_csv`</span> already does, by default.</span>
<span id="cb131-72"><a href="#cb131-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-75"><a href="#cb131-75" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-76"><a href="#cb131-76" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb131-77"><a href="#cb131-77" aria-hidden="true" tabindex="-1"></a>sur15_raw_a <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/projectB-study1-demo-survey-2015a.xlsx"</span>, </span>
<span id="cb131-78"><a href="#cb131-78" aria-hidden="true" tabindex="-1"></a>                      <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb131-79"><a href="#cb131-79" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb131-80"><a href="#cb131-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-81"><a href="#cb131-81" aria-hidden="true" tabindex="-1"></a>sur15_raw_b <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/projectB-study1-demo-survey-2015b.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb131-82"><a href="#cb131-82" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb131-83"><a href="#cb131-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-84"><a href="#cb131-84" aria-hidden="true" tabindex="-1"></a>sur15_raw_c <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/projectB-study1-demo-survey-2015c.csv"</span>) <span class="sc">|&gt;</span></span>
<span id="cb131-85"><a href="#cb131-85" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>()</span>
<span id="cb131-86"><a href="#cb131-86" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-87"><a href="#cb131-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-88"><a href="#cb131-88" aria-hidden="true" tabindex="-1"></a><span class="fu">## Contents of the Raw Tibbles</span></span>
<span id="cb131-89"><a href="#cb131-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-90"><a href="#cb131-90" aria-hidden="true" tabindex="-1"></a>We have three tibbles now, which (once we have merged them together) will contain complete data on all 53 subjects for all 21 variables.</span>
<span id="cb131-91"><a href="#cb131-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-92"><a href="#cb131-92" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`sur15_raw_a`</span> contains data on all 21 variables for the first 20 subjects.</span>
<span id="cb131-93"><a href="#cb131-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-96"><a href="#cb131-96" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-97"><a href="#cb131-97" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_a)</span>
<span id="cb131-98"><a href="#cb131-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-99"><a href="#cb131-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-100"><a href="#cb131-100" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`sur15_raw_b`</span> contains data on 9 of the variables (including the subject ID code: <span class="in">`s.id`</span>) for the other 33 subjects.</span>
<span id="cb131-101"><a href="#cb131-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-104"><a href="#cb131-104" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-105"><a href="#cb131-105" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_b)</span>
<span id="cb131-106"><a href="#cb131-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-107"><a href="#cb131-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-108"><a href="#cb131-108" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span><span class="in">`sur15_raw_c`</span> contains data on 13 of the variables (also including the subject ID code: <span class="in">`s.id`</span>) for the same 33 subjects that are in <span class="in">`sur15_raw_b`</span>.</span>
<span id="cb131-109"><a href="#cb131-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-112"><a href="#cb131-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-113"><a href="#cb131-113" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sur15_raw_c)</span>
<span id="cb131-114"><a href="#cb131-114" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-115"><a href="#cb131-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-116"><a href="#cb131-116" aria-hidden="true" tabindex="-1"></a><span class="fu">## Two Merging Steps</span></span>
<span id="cb131-117"><a href="#cb131-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-118"><a href="#cb131-118" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Join the columns in <span class="in">`sur15_raw_b`</span> and in <span class="in">`sur15_raw_c`</span> to obtain a new tibble, which I'll call <span class="in">`sur15_last33`</span>, holding information on all 21 variables for the last 33 subjects.</span>
<span id="cb131-119"><a href="#cb131-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-120"><a href="#cb131-120" aria-hidden="true" tabindex="-1"></a><span class="in">```{r merge_step1}</span></span>
<span id="cb131-121"><a href="#cb131-121" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_last33 &lt;- inner_join(sur15_raw_b, sur15_raw_c, by = "s_id")</span></span>
<span id="cb131-122"><a href="#cb131-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-123"><a href="#cb131-123" aria-hidden="true" tabindex="-1"></a><span class="in">dim(sur15_last33)</span></span>
<span id="cb131-124"><a href="#cb131-124" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-125"><a href="#cb131-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-126"><a href="#cb131-126" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Combine the rows together from <span class="in">`sur15_raw_a`</span> (which has the first 20 subjects) and <span class="in">`sur15_last33`</span> (which has the other 33 subjects) to create a tibble called <span class="in">`sur15_merged`</span> which has all 21 variables for all 53 subjects.</span>
<span id="cb131-127"><a href="#cb131-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-128"><a href="#cb131-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r merge_step2}</span></span>
<span id="cb131-129"><a href="#cb131-129" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_merge &lt;- bind_rows(sur15_raw_a, sur15_last33)</span></span>
<span id="cb131-130"><a href="#cb131-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-131"><a href="#cb131-131" aria-hidden="true" tabindex="-1"></a><span class="in">dim(sur15_merge)</span></span>
<span id="cb131-132"><a href="#cb131-132" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-133"><a href="#cb131-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-134"><a href="#cb131-134" aria-hidden="true" tabindex="-1"></a>OK. We have 53 subjects and 21 variables, as expected. </span>
<span id="cb131-135"><a href="#cb131-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-136"><a href="#cb131-136" aria-hidden="true" tabindex="-1"></a><span class="fu">## Checking the Merge</span></span>
<span id="cb131-137"><a href="#cb131-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-138"><a href="#cb131-138" aria-hidden="true" tabindex="-1"></a>We need to perform two checks here.</span>
<span id="cb131-139"><a href="#cb131-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-140"><a href="#cb131-140" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>First, we should check to ensure that the number of distinct (unique) subject identification codes (shown below) matches the number of rows. Those two values should be identical. Are they?</span>
<span id="cb131-141"><a href="#cb131-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-144"><a href="#cb131-144" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-145"><a href="#cb131-145" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">n_distinct</span>(sur15_merge<span class="sc">$</span>s_id), </span>
<span id="cb131-146"><a href="#cb131-146" aria-hidden="true" tabindex="-1"></a>          sur15_merge <span class="sc">|&gt;</span> <span class="fu">nrow</span>())</span>
<span id="cb131-147"><a href="#cb131-147" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-148"><a href="#cb131-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-149"><a href="#cb131-149" aria-hidden="true" tabindex="-1"></a>Excellent.</span>
<span id="cb131-150"><a href="#cb131-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-151"><a href="#cb131-151" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Second, we should also check that we haven't added any new variables. The <span class="in">`sur15_raw_a`</span> tibble included all of the variable names we should have in the final result. Do the names in <span class="in">`sur15_raw_a`</span> match the names in our merged tibble exactly?</span>
<span id="cb131-152"><a href="#cb131-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-155"><a href="#cb131-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-156"><a href="#cb131-156" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(<span class="fu">names</span>(sur15_merge), </span>
<span id="cb131-157"><a href="#cb131-157" aria-hidden="true" tabindex="-1"></a>          <span class="fu">names</span>(sur15_raw_a))</span>
<span id="cb131-158"><a href="#cb131-158" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-159"><a href="#cb131-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-160"><a href="#cb131-160" aria-hidden="true" tabindex="-1"></a>All right. Our merge was successful.</span>
<span id="cb131-161"><a href="#cb131-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-162"><a href="#cb131-162" aria-hidden="true" tabindex="-1"></a><span class="fu">## Selecting only the variables we'll use</span></span>
<span id="cb131-163"><a href="#cb131-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-164"><a href="#cb131-164" aria-hidden="true" tabindex="-1"></a>The <span class="in">`sur15_merge`</span> data includes some variables we don't need, so we'll prune down to the 11 variables we'll actually use in the analyses we'll do. This should certainly include the subject identification code, so we'll include that, and also switch it to a character representation instead of numeric.</span>
<span id="cb131-165"><a href="#cb131-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-166"><a href="#cb131-166" aria-hidden="true" tabindex="-1"></a><span class="in">```{r variable_selection}</span></span>
<span id="cb131-167"><a href="#cb131-167" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_merge |&gt;</span></span>
<span id="cb131-168"><a href="#cb131-168" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(s_id = as.character(s_id)) |&gt;</span></span>
<span id="cb131-169"><a href="#cb131-169" aria-hidden="true" tabindex="-1"></a><span class="in">  select(s_id, r_pre, r_now, height, weight, </span></span>
<span id="cb131-170"><a href="#cb131-170" aria-hidden="true" tabindex="-1"></a><span class="in">         comfort_431, grades, r_before, english, </span></span>
<span id="cb131-171"><a href="#cb131-171" aria-hidden="true" tabindex="-1"></a><span class="in">         medium, fiction)</span></span>
<span id="cb131-172"><a href="#cb131-172" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-173"><a href="#cb131-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-174"><a href="#cb131-174" aria-hidden="true" tabindex="-1"></a><span class="fu"># Cleaning the Data</span></span>
<span id="cb131-175"><a href="#cb131-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-176"><a href="#cb131-176" aria-hidden="true" tabindex="-1"></a><span class="fu">## Our Survey Items</span></span>
<span id="cb131-177"><a href="#cb131-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-178"><a href="#cb131-178" aria-hidden="true" tabindex="-1"></a>The 10 survey items that we will actually use in this demonstration are listed below. </span>
<span id="cb131-179"><a href="#cb131-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-180"><a href="#cb131-180" aria-hidden="true" tabindex="-1"></a><span class="fu">### Rating Variables</span></span>
<span id="cb131-181"><a href="#cb131-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-182"><a href="#cb131-182" aria-hidden="true" tabindex="-1"></a>For each of these, subjects gave a response between 0 and 100 indicating their agreement with the statement as presented. The scale was 0 = Strongly disagree, 100 = Strongly agree.</span>
<span id="cb131-183"><a href="#cb131-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-184"><a href="#cb131-184" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`r_pre`</span>: Prior to taking 431, I was totally confident and comfortable with using R. (0 = Strongly Disagree, 100 = Strongly Agree)</span>
<span id="cb131-185"><a href="#cb131-185" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`r_now`</span>: Right now, I am totally confident and comfortable with using R. (0 = Strongly Disagree, 100 = Strongly Agree)</span>
<span id="cb131-186"><a href="#cb131-186" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span><span class="in">`comfort_431`</span>: I am very comfortable with my understanding of the material discussed so far in 431.</span>
<span id="cb131-187"><a href="#cb131-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-188"><a href="#cb131-188" aria-hidden="true" tabindex="-1"></a><span class="fu">### Other Quantitative Variables</span></span>
<span id="cb131-189"><a href="#cb131-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-190"><a href="#cb131-190" aria-hidden="true" tabindex="-1"></a><span class="ss">4. </span><span class="in">`height`</span>: What is your height, in inches?</span>
<span id="cb131-191"><a href="#cb131-191" aria-hidden="true" tabindex="-1"></a><span class="ss">5. </span><span class="in">`weight`</span>: What is your weight, in pounds?</span>
<span id="cb131-192"><a href="#cb131-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-193"><a href="#cb131-193" aria-hidden="true" tabindex="-1"></a><span class="fu">### Binary Variables</span></span>
<span id="cb131-194"><a href="#cb131-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-195"><a href="#cb131-195" aria-hidden="true" tabindex="-1"></a><span class="ss">6. </span><span class="in">`r_before`</span>: Before taking 431, had you ever used R before? (Yes, No)</span>
<span id="cb131-196"><a href="#cb131-196" aria-hidden="true" tabindex="-1"></a><span class="ss">7. </span><span class="in">`english`</span>: Is English the language you speak better than any other? (Yes, No)</span>
<span id="cb131-197"><a href="#cb131-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-198"><a href="#cb131-198" aria-hidden="true" tabindex="-1"></a><span class="fu">### Multi-Categorical Variables</span></span>
<span id="cb131-199"><a href="#cb131-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-200"><a href="#cb131-200" aria-hidden="true" tabindex="-1"></a><span class="ss">8. </span><span class="in">`grades`</span>: In your graduate and undergraduate educational experience, which of the following types of assignments have you received the HIGHEST grades for?</span>
<span id="cb131-201"><a href="#cb131-201" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Available responses were "A. Individual Assignments", "B. Partner Assignments (you and 1 other student)", and "C. Group Assignments (you and 2 or more others)".</span>
<span id="cb131-202"><a href="#cb131-202" aria-hidden="true" tabindex="-1"></a><span class="ss">9. </span><span class="in">`medium`</span>: Which medium do you use most to get your fictional stories (containing plot)?</span>
<span id="cb131-203"><a href="#cb131-203" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Available Responses: "A. Movies", "B. Television", "C. Print (including books, comics, etc.)", and "D. Other".</span>
<span id="cb131-204"><a href="#cb131-204" aria-hidden="true" tabindex="-1"></a><span class="ss">10. </span><span class="in">`fiction`</span>: Which type of fictional stories do you consume most?</span>
<span id="cb131-205"><a href="#cb131-205" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Available Responses: "A. Comedy", "B. Drama", "C. Action", "D. Horror / Thriller", and "E. Fantasy / Science Fiction".</span>
<span id="cb131-206"><a href="#cb131-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-207"><a href="#cb131-207" aria-hidden="true" tabindex="-1"></a>Our analytic tibble will be called <span class="in">`sur15`</span> for this demonstration. </span>
<span id="cb131-208"><a href="#cb131-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-209"><a href="#cb131-209" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>This tibble will need to contain information developed from the variables listed above, plus the subject identifying code <span class="in">`s_id`</span>.</span>
<span id="cb131-210"><a href="#cb131-210" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>As we add variables to the analytic tibble, we'll also check to see that all of the values fall in a reasonable range (with no results that fall outside of the parameters of how we are measuring the results) and we'll identify whether there are any missing values. </span>
<span id="cb131-211"><a href="#cb131-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-212"><a href="#cb131-212" aria-hidden="true" tabindex="-1"></a>Note that we've already checked our subject identification codes to ensure that we have no missing values there and that we have a unique identifier for each row in the data back when we did the merge.</span>
<span id="cb131-213"><a href="#cb131-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-214"><a href="#cb131-214" aria-hidden="true" tabindex="-1"></a><span class="fu">## Checking our Quantitative Variables</span></span>
<span id="cb131-215"><a href="#cb131-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-216"><a href="#cb131-216" aria-hidden="true" tabindex="-1"></a>We have five quantitative variables. We want to check the range (minimum and maximum) plus  for each, to ensure that we have no impossible or missing values.</span>
<span id="cb131-217"><a href="#cb131-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-220"><a href="#cb131-220" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-221"><a href="#cb131-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb131-222"><a href="#cb131-222" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb131-223"><a href="#cb131-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(r_pre, r_now, comfort_431, height, weight) <span class="sc">|&gt;</span></span>
<span id="cb131-224"><a href="#cb131-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_codebook</span>()</span>
<span id="cb131-225"><a href="#cb131-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-226"><a href="#cb131-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-227"><a href="#cb131-227" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For the three rating variables, all values are in the range <span class="co">[</span><span class="ot">0, 100</span><span class="co">]</span>, as they must be.</span>
<span id="cb131-228"><a href="#cb131-228" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>However, the <span class="in">`height`</span> range doesn't seem reasonable. With <span class="in">`height`</span> measured in inches, do we really think there should be a height as small as 22.83 inches?</span>
<span id="cb131-229"><a href="#cb131-229" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The <span class="in">`weight`</span> minimum is also a problem. Is 1 pound a reasonable value?</span>
<span id="cb131-230"><a href="#cb131-230" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>We also want to create a body mass index from the <span class="in">`height`</span> and <span class="in">`weight`</span> data</span>
<span id="cb131-231"><a href="#cb131-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-232"><a href="#cb131-232" aria-hidden="true" tabindex="-1"></a><span class="fu">### Combining `height` and `weight` into `bmi` and Specifying `NA` for Implausible Values</span></span>
<span id="cb131-233"><a href="#cb131-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-234"><a href="#cb131-234" aria-hidden="true" tabindex="-1"></a>We will calculate <span class="in">`bmi`</span> (body-mass index) from the available <span class="in">`height`</span> (inches) and <span class="in">`weight`</span> (pounds) data. The BMI formula for inches and pounds is available at http://www.bmi-calculator.net/bmi-formula.php. A reasonable range for BMI values is probably about 15 to 50.</span>
<span id="cb131-235"><a href="#cb131-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-236"><a href="#cb131-236" aria-hidden="true" tabindex="-1"></a><span class="in">```{r creating_bmi}</span></span>
<span id="cb131-237"><a href="#cb131-237" aria-hidden="true" tabindex="-1"></a><span class="in">#| warning: false</span></span>
<span id="cb131-238"><a href="#cb131-238" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-239"><a href="#cb131-239" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(bmi = 703 * weight / height^2)</span></span>
<span id="cb131-240"><a href="#cb131-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-241"><a href="#cb131-241" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; reframe(lovedist(bmi))</span></span>
<span id="cb131-242"><a href="#cb131-242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-243"><a href="#cb131-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-244"><a href="#cb131-244" aria-hidden="true" tabindex="-1"></a>The minimum calculated <span class="in">`bmi`</span> value seems impossibly low, and the highest <span class="in">`bmi`</span> seems impossibly high. Let's look at the heights and weights involved. </span>
<span id="cb131-245"><a href="#cb131-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-248"><a href="#cb131-248" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-249"><a href="#cb131-249" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(height) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb131-250"><a href="#cb131-250" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-251"><a href="#cb131-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-254"><a href="#cb131-254" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-255"><a href="#cb131-255" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(height) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span>
<span id="cb131-256"><a href="#cb131-256" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-257"><a href="#cb131-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-260"><a href="#cb131-260" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-261"><a href="#cb131-261" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(weight) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span>
<span id="cb131-262"><a href="#cb131-262" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-263"><a href="#cb131-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-266"><a href="#cb131-266" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-267"><a href="#cb131-267" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(s_id, height, weight) <span class="sc">|&gt;</span> <span class="fu">arrange</span>(weight) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span>
<span id="cb131-268"><a href="#cb131-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-269"><a href="#cb131-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-270"><a href="#cb131-270" aria-hidden="true" tabindex="-1"></a>The subjects with heights of 22.83 inches and 217 inches are implausible, and the subject with weight 1 pound is also not reasonable. We want to focus on actually plausible results.</span>
<span id="cb131-271"><a href="#cb131-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-272"><a href="#cb131-272" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>A reasonable guess is that no one in the class was less than about 122 centimeters, or 4 feet tall (48 inches) nor were they greater than about 213 centimeters, or 7 feet tall (84 inches) so we're going to change any values outside that range to <span class="in">`NA`</span>.</span>
<span id="cb131-273"><a href="#cb131-273" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Similarly, it seems reasonable to assume that no one in the class was below 80 pounds (36.3 kg) or above 400 pounds (181.4 kg) so again, we'll regard any values we see outside that range is implausible and change them to <span class="in">`NA`</span>.</span>
<span id="cb131-274"><a href="#cb131-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-275"><a href="#cb131-275" aria-hidden="true" tabindex="-1"></a>I'll do this by creating new variables <span class="in">`height_r`</span> and <span class="in">`weight_r`</span> where the <span class="in">`_r`</span> (meaning "revised") indicates to me that I've revised the original variable in some way without adding a lot of characters to its name.</span>
<span id="cb131-276"><a href="#cb131-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-277"><a href="#cb131-277" aria-hidden="true" tabindex="-1"></a><span class="in">```{r recode_implausible_height_weight_as_NA1}</span></span>
<span id="cb131-278"><a href="#cb131-278" aria-hidden="true" tabindex="-1"></a><span class="in">#| message: false</span></span>
<span id="cb131-279"><a href="#cb131-279" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-280"><a href="#cb131-280" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(height_r = replace(height, height &lt; 48 | height &gt; 84, NA),</span></span>
<span id="cb131-281"><a href="#cb131-281" aria-hidden="true" tabindex="-1"></a><span class="in">           weight_r = replace(weight, weight &lt; 80 | weight &gt; 400, NA)) |&gt;</span></span>
<span id="cb131-282"><a href="#cb131-282" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(bmi = 703 * weight_r / height_r ^2)</span></span>
<span id="cb131-283"><a href="#cb131-283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-284"><a href="#cb131-284" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; select(height_r, weight_r, bmi) |&gt;</span></span>
<span id="cb131-285"><a href="#cb131-285" aria-hidden="true" tabindex="-1"></a><span class="in">  data_codebook()</span></span>
<span id="cb131-286"><a href="#cb131-286" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-287"><a href="#cb131-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-288"><a href="#cb131-288" aria-hidden="true" tabindex="-1"></a>So now, we have 2 missing values of <span class="in">`height_r`</span>, 1 missing value of <span class="in">`weight_r`</span> and we have calculated BMI results, with 3 missing values, and our ranges (minimum and maximum) for each of these variables now look OK. </span>
<span id="cb131-289"><a href="#cb131-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-290"><a href="#cb131-290" aria-hidden="true" tabindex="-1"></a><span class="fu">## Checking our Binary Variables</span></span>
<span id="cb131-291"><a href="#cb131-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-292"><a href="#cb131-292" aria-hidden="true" tabindex="-1"></a>We have two binary variables.</span>
<span id="cb131-293"><a href="#cb131-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-296"><a href="#cb131-296" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-297"><a href="#cb131-297" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span> <span class="fu">select</span>(english, r_before) <span class="sc">|&gt;</span> <span class="fu">glimpse</span>()</span>
<span id="cb131-298"><a href="#cb131-298" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-299"><a href="#cb131-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-300"><a href="#cb131-300" aria-hidden="true" tabindex="-1"></a>I'd like those to be factors in R, rather than characters. </span>
<span id="cb131-301"><a href="#cb131-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-302"><a href="#cb131-302" aria-hidden="true" tabindex="-1"></a><span class="in">```{r change_order_no-yes_variables}</span></span>
<span id="cb131-303"><a href="#cb131-303" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-304"><a href="#cb131-304" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(r_before = factor(r_before),</span></span>
<span id="cb131-305"><a href="#cb131-305" aria-hidden="true" tabindex="-1"></a><span class="in">           english = factor(english))</span></span>
<span id="cb131-306"><a href="#cb131-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-307"><a href="#cb131-307" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; count(r_before, english)</span></span>
<span id="cb131-308"><a href="#cb131-308" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-309"><a href="#cb131-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-310"><a href="#cb131-310" aria-hidden="true" tabindex="-1"></a>OK. No missingness, and no values out of the range of our expectations. Good.</span>
<span id="cb131-311"><a href="#cb131-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-312"><a href="#cb131-312" aria-hidden="true" tabindex="-1"></a><span class="fu">## Checking our Multi-Category Variables</span></span>
<span id="cb131-313"><a href="#cb131-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-314"><a href="#cb131-314" aria-hidden="true" tabindex="-1"></a>For each of our multi-categorical variables, I'll run a quick <span class="in">`tabyl`</span> to see if we have any surprising results or missing values. Then I'll revise each of them (as needed) to have more suitable (mostly, shorter) level names. In addition to checking for missingness and inappropriate values, we want to collapse some categories, or adjust names or labeling to mirror what we need in our analyses.</span>
<span id="cb131-315"><a href="#cb131-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-316"><a href="#cb131-316" aria-hidden="true" tabindex="-1"></a><span class="fu">### The `grades` variable</span></span>
<span id="cb131-317"><a href="#cb131-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-320"><a href="#cb131-320" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-321"><a href="#cb131-321" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb131-322"><a href="#cb131-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(grades)</span>
<span id="cb131-323"><a href="#cb131-323" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-324"><a href="#cb131-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-325"><a href="#cb131-325" aria-hidden="true" tabindex="-1"></a>For <span class="in">`grades`</span>, we want to create a new factor called <span class="in">`grades_r`</span> which is a factor and which has shorter level names, specifically: Individual, Partner and Group, in that order. We'll use the <span class="in">`fct_recode`</span> function from <span class="in">`forcats`</span>:</span>
<span id="cb131-326"><a href="#cb131-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-327"><a href="#cb131-327" aria-hidden="true" tabindex="-1"></a><span class="in">```{r recode_grades_information}</span></span>
<span id="cb131-328"><a href="#cb131-328" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt; </span></span>
<span id="cb131-329"><a href="#cb131-329" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(grades_r = fct_recode(factor(grades), </span></span>
<span id="cb131-330"><a href="#cb131-330" aria-hidden="true" tabindex="-1"></a><span class="in">        "Individual" = "A. Individual Assignments",</span></span>
<span id="cb131-331"><a href="#cb131-331" aria-hidden="true" tabindex="-1"></a><span class="in">        "Partner" = "B. Partner Assignments (you and 1 other student)",</span></span>
<span id="cb131-332"><a href="#cb131-332" aria-hidden="true" tabindex="-1"></a><span class="in">        "Group" = "C. Group Assignments (you and 2 or more others)"))</span></span>
<span id="cb131-333"><a href="#cb131-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-334"><a href="#cb131-334" aria-hidden="true" tabindex="-1"></a><span class="in"># sanity check to ensure we coded correctly</span></span>
<span id="cb131-335"><a href="#cb131-335" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; count(grades, grades_r)</span></span>
<span id="cb131-336"><a href="#cb131-336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-337"><a href="#cb131-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-338"><a href="#cb131-338" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>That looks like we've correctly renamed the values.</span>
<span id="cb131-339"><a href="#cb131-339" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>For this demonstration, we'll allow counts as low as 5 for individual levels of a categorical variable, because of the small sample size, so I won't collapse the levels at all. </span>
<span id="cb131-340"><a href="#cb131-340" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>We have a missing value here, so we'll need to deal with that later.</span>
<span id="cb131-341"><a href="#cb131-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-342"><a href="#cb131-342" aria-hidden="true" tabindex="-1"></a><span class="fu">### The `medium` variable</span></span>
<span id="cb131-343"><a href="#cb131-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-346"><a href="#cb131-346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-347"><a href="#cb131-347" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb131-348"><a href="#cb131-348" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(medium)</span>
<span id="cb131-349"><a href="#cb131-349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-350"><a href="#cb131-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-351"><a href="#cb131-351" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>We have no missing values, so that's good.</span>
<span id="cb131-352"><a href="#cb131-352" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In this demonstration, we will require that each category have at least 5 responses, so while this just barely meets that standard, I think I will go ahead and collapse the variable down to just three categories.</span>
<span id="cb131-353"><a href="#cb131-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-354"><a href="#cb131-354" aria-hidden="true" tabindex="-1"></a>For the <span class="in">`medium`</span> variable, we want to collapse the Print and Other levels to form a three category variable (with levels Movies, TV and Other) called <span class="in">`medium_r`</span>.</span>
<span id="cb131-355"><a href="#cb131-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-356"><a href="#cb131-356" aria-hidden="true" tabindex="-1"></a><span class="in">```{r collapsing_medium_factor}</span></span>
<span id="cb131-357"><a href="#cb131-357" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-358"><a href="#cb131-358" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(medium_r = fct_recode(factor(medium), </span></span>
<span id="cb131-359"><a href="#cb131-359" aria-hidden="true" tabindex="-1"></a><span class="in">                                 "Movies" = "A. Movies",</span></span>
<span id="cb131-360"><a href="#cb131-360" aria-hidden="true" tabindex="-1"></a><span class="in">                                 "TV" = "B. Television",</span></span>
<span id="cb131-361"><a href="#cb131-361" aria-hidden="true" tabindex="-1"></a><span class="in">                                 "Other" = "C. Print (including books, comics, etc.)",</span></span>
<span id="cb131-362"><a href="#cb131-362" aria-hidden="true" tabindex="-1"></a><span class="in">                                 "Other" = "D. Other"))</span></span>
<span id="cb131-363"><a href="#cb131-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-364"><a href="#cb131-364" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; count(medium, medium_r) # sanity check</span></span>
<span id="cb131-365"><a href="#cb131-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-366"><a href="#cb131-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-367"><a href="#cb131-367" aria-hidden="true" tabindex="-1"></a>OK. Looks good now.</span>
<span id="cb131-368"><a href="#cb131-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-369"><a href="#cb131-369" aria-hidden="true" tabindex="-1"></a><span class="fu">### The `fiction` variable</span></span>
<span id="cb131-370"><a href="#cb131-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-373"><a href="#cb131-373" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-374"><a href="#cb131-374" aria-hidden="true" tabindex="-1"></a>sur15_m <span class="sc">|&gt;</span></span>
<span id="cb131-375"><a href="#cb131-375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(fiction)</span>
<span id="cb131-376"><a href="#cb131-376" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-377"><a href="#cb131-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-378"><a href="#cb131-378" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>No signs of missing values, so that's good.</span>
<span id="cb131-379"><a href="#cb131-379" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>With only one value in category D and only 5 in category C, we will need to do some collapsing to use this variable later.</span>
<span id="cb131-380"><a href="#cb131-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-381"><a href="#cb131-381" aria-hidden="true" tabindex="-1"></a><span class="fu">### Collapsing and recoding levels of `fiction`</span></span>
<span id="cb131-382"><a href="#cb131-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-383"><a href="#cb131-383" aria-hidden="true" tabindex="-1"></a>For the <span class="in">`fiction`</span> variable, we want to form a four category variable (with levels Comedy, Drama, Fantasy/SF, Other) called <span class="in">`fiction_r`</span>.</span>
<span id="cb131-384"><a href="#cb131-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-385"><a href="#cb131-385" aria-hidden="true" tabindex="-1"></a><span class="in">```{r collapsing_fiction_factor}</span></span>
<span id="cb131-386"><a href="#cb131-386" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-387"><a href="#cb131-387" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(fiction_r = fct_recode(factor(fiction), </span></span>
<span id="cb131-388"><a href="#cb131-388" aria-hidden="true" tabindex="-1"></a><span class="in">                                 "Comedy" = "A. Comedy",</span></span>
<span id="cb131-389"><a href="#cb131-389" aria-hidden="true" tabindex="-1"></a><span class="in">                               "Drama" = "B. Drama",</span></span>
<span id="cb131-390"><a href="#cb131-390" aria-hidden="true" tabindex="-1"></a><span class="in">                               "Fantasy/SF" = "E. Fantasy / Science Fiction",</span></span>
<span id="cb131-391"><a href="#cb131-391" aria-hidden="true" tabindex="-1"></a><span class="in">                               "Other" = "C. Action",</span></span>
<span id="cb131-392"><a href="#cb131-392" aria-hidden="true" tabindex="-1"></a><span class="in">                               "Other" = "D. Horror / Thriller"))</span></span>
<span id="cb131-393"><a href="#cb131-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-394"><a href="#cb131-394" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt; count(fiction, fiction_r) # sanity check</span></span>
<span id="cb131-395"><a href="#cb131-395" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-396"><a href="#cb131-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-397"><a href="#cb131-397" aria-hidden="true" tabindex="-1"></a>Actually, I'd like to reorder <span class="in">`fiction_r`</span> to put Other last.</span>
<span id="cb131-398"><a href="#cb131-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-399"><a href="#cb131-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r reorder_fiction4c_Other_last}</span></span>
<span id="cb131-400"><a href="#cb131-400" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m &lt;- sur15_m |&gt;</span></span>
<span id="cb131-401"><a href="#cb131-401" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(fiction_r = fct_relevel(fiction_r, </span></span>
<span id="cb131-402"><a href="#cb131-402" aria-hidden="true" tabindex="-1"></a><span class="in">                                   "Comedy", "Drama",</span></span>
<span id="cb131-403"><a href="#cb131-403" aria-hidden="true" tabindex="-1"></a><span class="in">                                   "Fantasy/SF", "Other"))</span></span>
<span id="cb131-404"><a href="#cb131-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-405"><a href="#cb131-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-406"><a href="#cb131-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-407"><a href="#cb131-407" aria-hidden="true" tabindex="-1"></a>OK. Let's see what we have now...</span>
<span id="cb131-408"><a href="#cb131-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-409"><a href="#cb131-409" aria-hidden="true" tabindex="-1"></a><span class="in">```{r revised_values_medium_fiction}</span></span>
<span id="cb131-410"><a href="#cb131-410" aria-hidden="true" tabindex="-1"></a><span class="in">sur15_m |&gt;</span></span>
<span id="cb131-411"><a href="#cb131-411" aria-hidden="true" tabindex="-1"></a><span class="in">    tabyl(medium_r, fiction_r) |&gt;</span></span>
<span id="cb131-412"><a href="#cb131-412" aria-hidden="true" tabindex="-1"></a><span class="in">    gt()</span></span>
<span id="cb131-413"><a href="#cb131-413" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-414"><a href="#cb131-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-415"><a href="#cb131-415" aria-hidden="true" tabindex="-1"></a>OK. I wish we didn't have that zero cell in the cross-tabulation, but we'll leave it alone, rather than collapsing further, given our small number of observations in this demonstration.</span>
<span id="cb131-416"><a href="#cb131-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-417"><a href="#cb131-417" aria-hidden="true" tabindex="-1"></a><span class="fu">## Creating our Analytic Tibble</span></span>
<span id="cb131-418"><a href="#cb131-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-419"><a href="#cb131-419" aria-hidden="true" tabindex="-1"></a>So our analytic tibble, which I'll call <span class="in">`sur15`</span> should contains only the twelve variables that appear in our code book.</span>
<span id="cb131-420"><a href="#cb131-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-421"><a href="#cb131-421" aria-hidden="true" tabindex="-1"></a><span class="in">```{r create_sur15}</span></span>
<span id="cb131-422"><a href="#cb131-422" aria-hidden="true" tabindex="-1"></a><span class="in">sur15 &lt;- sur15_m |&gt;</span></span>
<span id="cb131-423"><a href="#cb131-423" aria-hidden="true" tabindex="-1"></a><span class="in">    select(s_id, r_pre, r_now, comfort_431, </span></span>
<span id="cb131-424"><a href="#cb131-424" aria-hidden="true" tabindex="-1"></a><span class="in">           height_r, weight_r, bmi, </span></span>
<span id="cb131-425"><a href="#cb131-425" aria-hidden="true" tabindex="-1"></a><span class="in">           r_before, english,</span></span>
<span id="cb131-426"><a href="#cb131-426" aria-hidden="true" tabindex="-1"></a><span class="in">           grades_r, medium_r, fiction_r)</span></span>
<span id="cb131-427"><a href="#cb131-427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-428"><a href="#cb131-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-429"><a href="#cb131-429" aria-hidden="true" tabindex="-1"></a><span class="fu">## List of Missing Values</span></span>
<span id="cb131-430"><a href="#cb131-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-431"><a href="#cb131-431" aria-hidden="true" tabindex="-1"></a>We can count the number of missing observations in each variable, with ...</span>
<span id="cb131-432"><a href="#cb131-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-433"><a href="#cb131-433" aria-hidden="true" tabindex="-1"></a><span class="in">```{r na_pattern_in_sur15}</span></span>
<span id="cb131-434"><a href="#cb131-434" aria-hidden="true" tabindex="-1"></a><span class="in">miss_var_summary(sur15)</span></span>
<span id="cb131-435"><a href="#cb131-435" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-436"><a href="#cb131-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-437"><a href="#cb131-437" aria-hidden="true" tabindex="-1"></a>We can see the subjects who have missing values in several ways, including...</span>
<span id="cb131-438"><a href="#cb131-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-441"><a href="#cb131-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-442"><a href="#cb131-442" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_case_summary</span>(sur15)</span>
<span id="cb131-443"><a href="#cb131-443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-444"><a href="#cb131-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-447"><a href="#cb131-447" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-448"><a href="#cb131-448" aria-hidden="true" tabindex="-1"></a>sur15[<span class="fu">which</span>(<span class="sc">!</span><span class="fu">complete.cases</span>(sur15)),]</span>
<span id="cb131-449"><a href="#cb131-449" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-450"><a href="#cb131-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-451"><a href="#cb131-451" aria-hidden="true" tabindex="-1"></a>In our sample of respondents, we have:</span>
<span id="cb131-452"><a href="#cb131-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-453"><a href="#cb131-453" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>49 subjects with no missing values, </span>
<span id="cb131-454"><a href="#cb131-454" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>1 subject (<span class="in">`s_id`</span> = 516) who is missing <span class="in">`grades_r`</span>, </span>
<span id="cb131-455"><a href="#cb131-455" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>2 subjects (<span class="in">`s_id`</span> = 504 and 529) who are missing <span class="in">`height_r`</span> and <span class="in">`bmi`</span>, and </span>
<span id="cb131-456"><a href="#cb131-456" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>1 subject (<span class="in">`s_id`</span> = 550) who is missing <span class="in">`weight_r`</span> and <span class="in">`bmi`</span>. </span>
<span id="cb131-457"><a href="#cb131-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-458"><a href="#cb131-458" aria-hidden="true" tabindex="-1"></a><span class="fu">## Filtering to Complete Cases</span></span>
<span id="cb131-459"><a href="#cb131-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-460"><a href="#cb131-460" aria-hidden="true" tabindex="-1"></a>Now, in Study 1, I've asked you to filter your data to complete cases throughout. So I'll do that now, and wind up with just 49 subjects in the data. I'll include an explicit statement here (and you should, too) that I'm assuming Missing Completely at Random for the missing values in these data. </span>
<span id="cb131-461"><a href="#cb131-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-462"><a href="#cb131-462" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb131-463"><a href="#cb131-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-464"><a href="#cb131-464" aria-hidden="true" tabindex="-1"></a>According to the <span class="in">`mcar_test()`</span> function (part of the **naniar** package) which runs Little's missing completely at random test^<span class="co">[</span><span class="ot">Little, Roderick J. A. 1988. "A Test of Missing Completely at Random for Multivariate Data with Missing Values." *Journal of the American Statistical Association* 83 (404): 1198–1202. [doi:10.1080/01621459.1988.10478722](https://www.tandfonline.com/doi/abs/10.1080/01621459.1988.10478722).</span><span class="co">]</span>, this is a debatable assumption (we'd like to see a high $p$ value here) but we'll make it anyway for Study 1.</span>
<span id="cb131-465"><a href="#cb131-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-468"><a href="#cb131-468" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-469"><a href="#cb131-469" aria-hidden="true" tabindex="-1"></a>sur15 <span class="sc">|&gt;</span> <span class="fu">mcar_test</span>()</span>
<span id="cb131-470"><a href="#cb131-470" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-471"><a href="#cb131-471" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-472"><a href="#cb131-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-475"><a href="#cb131-475" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-476"><a href="#cb131-476" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="ot">&lt;-</span> sur15 <span class="sc">|&gt;</span> <span class="fu">drop_na</span>()</span>
<span id="cb131-477"><a href="#cb131-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-478"><a href="#cb131-478" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(sur_15)</span>
<span id="cb131-479"><a href="#cb131-479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-480"><a href="#cb131-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-481"><a href="#cb131-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-482"><a href="#cb131-482" aria-hidden="true" tabindex="-1"></a><span class="fu"># Codebook and Data Description</span></span>
<span id="cb131-483"><a href="#cb131-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-484"><a href="#cb131-484" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variable Descriptions</span></span>
<span id="cb131-485"><a href="#cb131-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-486"><a href="#cb131-486" aria-hidden="true" tabindex="-1"></a>The 12 variables in our tidy data set <span class="in">`sur_15`</span> for this demonstration are as follows. The Type column indicates the number of levels in each categorical (factor) variable. Recall that we had missing data in <span class="in">`height_r`</span>, <span class="in">`weight_r`</span>, <span class="in">`bmi`</span> and <span class="in">`grades_r`</span> but I've filtered that away, so we have no missingness left now. As for the Type information, I'm using Quant to indicate quantitative variables, and Cat-x indicates a categorical variable (factor) with x levels.</span>
<span id="cb131-487"><a href="#cb131-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-488"><a href="#cb131-488" aria-hidden="true" tabindex="-1"></a>Variable      | Type  | Description / Levels</span>
<span id="cb131-489"><a href="#cb131-489" aria-hidden="true" tabindex="-1"></a>--------- | :---: | --------------------------------------------</span>
<span id="cb131-490"><a href="#cb131-490" aria-hidden="true" tabindex="-1"></a><span class="in">`s_id`</span>        | ID    | subject code</span>
<span id="cb131-491"><a href="#cb131-491" aria-hidden="true" tabindex="-1"></a><span class="in">`r_pre`</span>       | Quant | 0 (SD) - 100 (SA) with Prior to taking 431, I was totally confident and comfortable with using R.</span>
<span id="cb131-492"><a href="#cb131-492" aria-hidden="true" tabindex="-1"></a><span class="in">`r_now`</span>       | Quant | 0 (SD) - 100 (SA) with Right now, I am totally confident and comfortable with using R.</span>
<span id="cb131-493"><a href="#cb131-493" aria-hidden="true" tabindex="-1"></a><span class="in">`comfort_431`</span> | Quant | 0 (SD) - 100 (SA) with I am very comfortable with my understanding of the material discussed so far in 431.</span>
<span id="cb131-494"><a href="#cb131-494" aria-hidden="true" tabindex="-1"></a><span class="in">`height_r`</span>    | Quant | What is your height, in inches</span>
<span id="cb131-495"><a href="#cb131-495" aria-hidden="true" tabindex="-1"></a><span class="in">`weight_r`</span>    | Quant | What is your weight, in pounds</span>
<span id="cb131-496"><a href="#cb131-496" aria-hidden="true" tabindex="-1"></a><span class="in">`bmi`</span>         | Quant | 703 x <span class="in">`weight`</span>/(<span class="in">`height`</span> squared)</span>
<span id="cb131-497"><a href="#cb131-497" aria-hidden="true" tabindex="-1"></a><span class="in">`r_before`</span>     | Cat-2 | yes, no: Before taking 431, had you ever used R before?</span>
<span id="cb131-498"><a href="#cb131-498" aria-hidden="true" tabindex="-1"></a><span class="in">`english`</span>     | Cat-2 | yes, no: Is English the language you speak better than any other?</span>
<span id="cb131-499"><a href="#cb131-499" aria-hidden="true" tabindex="-1"></a><span class="in">`grades_r`</span>  | Cat-3 | Individual, Partner, Group: In your graduate and undergraduate educational experience, which of the following types of assignments have you received the HIGHEST grades for?</span>
<span id="cb131-500"><a href="#cb131-500" aria-hidden="true" tabindex="-1"></a><span class="in">`medium_r`</span>   | Cat-3 | Movies, TV, Other: Which medium do you use most to get your fictional stories (containing plot)?</span>
<span id="cb131-501"><a href="#cb131-501" aria-hidden="true" tabindex="-1"></a><span class="in">`fiction_r`</span>  | Cat-4 | Comedy, Drama, Fantasy/SF, Other: Which type of fictional stories do you consume most?</span>
<span id="cb131-502"><a href="#cb131-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-503"><a href="#cb131-503" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analytic Tibble</span></span>
<span id="cb131-504"><a href="#cb131-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-505"><a href="#cb131-505" aria-hidden="true" tabindex="-1"></a>Now, I'll prove that <span class="in">`sur_15`</span> is a tibble by printing it.</span>
<span id="cb131-506"><a href="#cb131-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-509"><a href="#cb131-509" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-510"><a href="#cb131-510" aria-hidden="true" tabindex="-1"></a>sur_15</span>
<span id="cb131-511"><a href="#cb131-511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-512"><a href="#cb131-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-513"><a href="#cb131-513" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Summary</span></span>
<span id="cb131-514"><a href="#cb131-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-515"><a href="#cb131-515" aria-hidden="true" tabindex="-1"></a><span class="fu">### `data_description()`</span></span>
<span id="cb131-516"><a href="#cb131-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-517"><a href="#cb131-517" aria-hidden="true" tabindex="-1"></a>Here's a <span class="in">`data_description()`</span> result to show some information about the distribution of each quantitative variables in the <span class="in">`sur_15`</span> tibble.</span>
<span id="cb131-518"><a href="#cb131-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-521"><a href="#cb131-521" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-522"><a href="#cb131-522" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb131-523"><a href="#cb131-523" aria-hidden="true" tabindex="-1"></a><span class="fu">describe_distribution</span>(sur_15 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>s_id))</span>
<span id="cb131-524"><a href="#cb131-524" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-525"><a href="#cb131-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-526"><a href="#cb131-526" aria-hidden="true" tabindex="-1"></a><span class="fu">### `data_codebook()`</span></span>
<span id="cb131-527"><a href="#cb131-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-528"><a href="#cb131-528" aria-hidden="true" tabindex="-1"></a>And here's the <span class="in">`data_codebook()`</span> result, which adds in tabulations of the categorical variables.</span>
<span id="cb131-529"><a href="#cb131-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-532"><a href="#cb131-532" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-533"><a href="#cb131-533" aria-hidden="true" tabindex="-1"></a><span class="fu">data_codebook</span>(sur_15 <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>s_id))</span>
<span id="cb131-534"><a href="#cb131-534" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-535"><a href="#cb131-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-536"><a href="#cb131-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-537"><a href="#cb131-537" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis A: Compare 2 Population Means using Paired Samples</span></span>
<span id="cb131-538"><a href="#cb131-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-539"><a href="#cb131-539" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Question</span></span>
<span id="cb131-540"><a href="#cb131-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-541"><a href="#cb131-541" aria-hidden="true" tabindex="-1"></a>We'll compare the <span class="in">`r_now`</span> scores to <span class="in">`r_pre`</span> scores. The scores are paired by subject, as each subject gives us both a <span class="in">`r_pre`</span> and <span class="in">`r_now`</span> score, and computing and assessing within-subject differences in comfort with R makes sense, because we are interested in the change in each person's comfort level. We'll generally use <span class="in">`r_now - r_pre`</span> in our calculations, so that positive numbers indicate improvements in confidence. **Note that we'll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project B Study 1 work, as well.**</span>
<span id="cb131-542"><a href="#cb131-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-543"><a href="#cb131-543" aria-hidden="true" tabindex="-1"></a>So, our research question might be something like:</span>
<span id="cb131-544"><a href="#cb131-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-545"><a href="#cb131-545" aria-hidden="true" tabindex="-1"></a>What is a typical change in comfort with R experienced by students in 431 through the first couple of months in the course?</span>
<span id="cb131-546"><a href="#cb131-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-547"><a href="#cb131-547" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describing the Data</span></span>
<span id="cb131-548"><a href="#cb131-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-549"><a href="#cb131-549" aria-hidden="true" tabindex="-1"></a><span class="fu">### Compute and summarize the paired differences</span></span>
<span id="cb131-550"><a href="#cb131-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-551"><a href="#cb131-551" aria-hidden="true" tabindex="-1"></a>The natural first step is to compute paired differences between the <span class="in">`r_now`</span> and <span class="in">`r_pre`</span> samples, and then use graphical and numerical summaries to assess whether the sample (of differences) can be assumed to follow a Normal distribution. First, we'll calculate the paired differences.</span>
<span id="cb131-552"><a href="#cb131-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-553"><a href="#cb131-553" aria-hidden="true" tabindex="-1"></a><span class="in">```{r compute_paired_differences}</span></span>
<span id="cb131-554"><a href="#cb131-554" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 &lt;- sur_15 |&gt;</span></span>
<span id="cb131-555"><a href="#cb131-555" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(r_diff = r_now - r_pre)</span></span>
<span id="cb131-556"><a href="#cb131-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-557"><a href="#cb131-557" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; reframe(lovedist(r_diff)) |&gt; gt()</span></span>
<span id="cb131-558"><a href="#cb131-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-559"><a href="#cb131-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-560"><a href="#cb131-560" aria-hidden="true" tabindex="-1"></a>OK. It appears that we have successfully subtracted the PRE data from the NOW data, and everyone has a difference of at least zero. Now, we'll assess whether or not a Normal distribution might be a reasonable model for the data.</span>
<span id="cb131-561"><a href="#cb131-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-562"><a href="#cb131-562" aria-hidden="true" tabindex="-1"></a><span class="fu">### Graphical Summaries to Assess Normality</span></span>
<span id="cb131-563"><a href="#cb131-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-564"><a href="#cb131-564" aria-hidden="true" tabindex="-1"></a>We should start by looking at the distribution of these 49 values of <span class="in">`r_diff`</span>.  As we've seen, there's a floor effect at zero.</span>
<span id="cb131-565"><a href="#cb131-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-566"><a href="#cb131-566" aria-hidden="true" tabindex="-1"></a>A histogram with 49 values won't give us a lot of information. Perhaps we should focus instead on a Normal Q-Q plot and boxplot with violin? We'll draw all three here.</span>
<span id="cb131-567"><a href="#cb131-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-570"><a href="#cb131-570" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-571"><a href="#cb131-571" aria-hidden="true" tabindex="-1"></a>bw <span class="ot">=</span> <span class="dv">5</span> <span class="co"># specify width of bins in histogram</span></span>
<span id="cb131-572"><a href="#cb131-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-573"><a href="#cb131-573" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> r_diff)) <span class="sc">+</span></span>
<span id="cb131-574"><a href="#cb131-574" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> bw, </span>
<span id="cb131-575"><a href="#cb131-575" aria-hidden="true" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="st">"slateblue"</span>, <span class="at">col =</span> <span class="st">"springgreen"</span>) <span class="sc">+</span></span>
<span id="cb131-576"><a href="#cb131-576" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_function</span>(<span class="at">fun =</span> <span class="cf">function</span>(x)</span>
<span id="cb131-577"><a href="#cb131-577" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dnorm</span>(x, <span class="at">mean =</span> <span class="fu">mean</span>(sur_15<span class="sc">$</span>r_diff), <span class="at">sd =</span> <span class="fu">sd</span>(sur_15<span class="sc">$</span>r_diff)) <span class="sc">*</span></span>
<span id="cb131-578"><a href="#cb131-578" aria-hidden="true" tabindex="-1"></a>      <span class="fu">length</span>(sur_15<span class="sc">$</span>r_diff) <span class="sc">*</span> bw,  </span>
<span id="cb131-579"><a href="#cb131-579" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"area"</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">col =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb131-580"><a href="#cb131-580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"R Comfort Rating Difference"</span>, </span>
<span id="cb131-581"><a href="#cb131-581" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Histogram &amp; Normal Curve"</span>) </span>
<span id="cb131-582"><a href="#cb131-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-583"><a href="#cb131-583" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">sample =</span> r_diff)) <span class="sc">+</span></span>
<span id="cb131-584"><a href="#cb131-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>(<span class="at">col =</span> <span class="st">"slateblue"</span>) <span class="sc">+</span></span>
<span id="cb131-585"><a href="#cb131-585" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Rating Difference"</span>,</span>
<span id="cb131-586"><a href="#cb131-586" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Standard Normal Distribution"</span>,</span>
<span id="cb131-587"><a href="#cb131-587" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Normal Q-Q plot"</span>) </span>
<span id="cb131-588"><a href="#cb131-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-589"><a href="#cb131-589" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sur_15, <span class="fu">aes</span>(<span class="at">x =</span> r_diff, <span class="at">y =</span> <span class="st">""</span>)) <span class="sc">+</span></span>
<span id="cb131-590"><a href="#cb131-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">fill =</span> <span class="st">"mintcream"</span>) <span class="sc">+</span></span>
<span id="cb131-591"><a href="#cb131-591" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb131-592"><a href="#cb131-592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">col =</span> <span class="st">"slateblue"</span>) <span class="sc">+</span></span>
<span id="cb131-593"><a href="#cb131-593" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>, <span class="at">x =</span> <span class="st">"Current - Pre-class Rating Difference"</span>, </span>
<span id="cb131-594"><a href="#cb131-594" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Boxplot with Violin"</span>)</span>
<span id="cb131-595"><a href="#cb131-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-596"><a href="#cb131-596" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> (p2 <span class="sc">/</span> p3 <span class="sc">+</span> <span class="fu">plot_layout</span>(<span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb131-597"><a href="#cb131-597" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb131-598"><a href="#cb131-598" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Most Students Improved R Comfort Ratings during 431"</span>,</span>
<span id="cb131-599"><a href="#cb131-599" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="fu">glue</span>(<span class="st">"Sample Size = "</span>, <span class="fu">nrow</span>(sur_15)))</span>
<span id="cb131-600"><a href="#cb131-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-601"><a href="#cb131-601" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-602"><a href="#cb131-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-603"><a href="#cb131-603" aria-hidden="true" tabindex="-1"></a>With just 49 observations, it will be a little difficult to get a clear picture of whether a Normal approximation is reasonable or not. I would conclude that a bootstrap approach would be a better choice here than a Normal model for the paired differences, owing to the floor effect (many zeros) in the paired differences. </span>
<span id="cb131-604"><a href="#cb131-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-607"><a href="#cb131-607" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-608"><a href="#cb131-608" aria-hidden="true" tabindex="-1"></a>sur_15 <span class="sc">|&gt;</span> <span class="fu">reframe</span>(<span class="fu">lovedist</span>(r_diff)) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span>
<span id="cb131-609"><a href="#cb131-609" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-610"><a href="#cb131-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-611"><a href="#cb131-611" aria-hidden="true" tabindex="-1"></a>The data seem a bit right skewed, as well. The sample mean is <span class="in">`r round_half_up(100*(mean(sur_15$r_diff) - median(sur_15$r_diff))/sd(sur_15$r_diff), 1)`</span>% of a standard deviation larger than the sample median^<span class="co">[</span><span class="ot">Note the use of inline code here to specify this result. The usual cutoff for meaningful right skew by this measure is around 20% of a standard deviation.</span><span class="co">]</span>.</span>
<span id="cb131-612"><a href="#cb131-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-613"><a href="#cb131-613" aria-hidden="true" tabindex="-1"></a><span class="fu">### Did Pairing Help Reduce Nuisance Variation?</span></span>
<span id="cb131-614"><a href="#cb131-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-615"><a href="#cb131-615" aria-hidden="true" tabindex="-1"></a>We would expect a strong correlation between the <span class="in">`r_pre`</span> and <span class="in">`r_now`</span> scores in this repeated measures analysis where each subject is assessing both their confidence before the class and then again during the class. To assess whether pairing helped reduce nuisance variation, I'll build a scatterplot of the <span class="in">`r_pre`</span> and <span class="in">`r_now`</span> scores, supplemented by a Pearson correlation coefficient. Since we have so many ties in the data, with two or more points in the same place, I'll use <span class="in">`geom_jitter`</span> rather than <span class="in">`geom_point`</span> to plot the points. The larger the correlation, the more that pairing will help reduce the impact of differences between subjects on the <span class="in">`r_pre`</span> score on the comparison we're trying to make. </span>
<span id="cb131-616"><a href="#cb131-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-617"><a href="#cb131-617" aria-hidden="true" tabindex="-1"></a><span class="in">```{r scatterplot_for_paired_diffs}</span></span>
<span id="cb131-618"><a href="#cb131-618" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(sur_15, aes(x = r_pre, y = r_now)) +</span></span>
<span id="cb131-619"><a href="#cb131-619" aria-hidden="true" tabindex="-1"></a><span class="in">    geom_jitter(col = "slateblue") +</span></span>
<span id="cb131-620"><a href="#cb131-620" aria-hidden="true" tabindex="-1"></a><span class="in">    geom_smooth(formula = y ~ x, method = "lm", col = "red") +</span></span>
<span id="cb131-621"><a href="#cb131-621" aria-hidden="true" tabindex="-1"></a><span class="in">    labs(title = "Jittered Scatterplot shows moderately strong relationship",</span></span>
<span id="cb131-622"><a href="#cb131-622" aria-hidden="true" tabindex="-1"></a><span class="in">         subtitle = "especially for those starting above 0")</span></span>
<span id="cb131-623"><a href="#cb131-623" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-624"><a href="#cb131-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-625"><a href="#cb131-625" aria-hidden="true" tabindex="-1"></a>For people with a <span class="in">`r_pre`</span> score greater than zero, we see a pretty strong linear relationship between <span class="in">`r_pre`</span> and <span class="in">`r_now`</span>.</span>
<span id="cb131-626"><a href="#cb131-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-627"><a href="#cb131-627" aria-hidden="true" tabindex="-1"></a><span class="in">```{r correlation_paired_diffs}</span></span>
<span id="cb131-628"><a href="#cb131-628" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; select(r_pre, r_now) |&gt; correlation()</span></span>
<span id="cb131-629"><a href="#cb131-629" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-630"><a href="#cb131-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-631"><a href="#cb131-631" aria-hidden="true" tabindex="-1"></a>The Pearson correlation is quite strong at <span class="in">`r round_half_up(cor(sur_15$r_pre, sur_15$r_now), 2)`</span> so that a linear model using the <span class="in">`r_pre`</span> score accounts for a reasonably large fraction (<span class="in">`r round_half_up(100*(cor(sur_15$r_pre, sur_15$r_now)^2),1)`</span>%) of the variation in <span class="in">`r_now`</span> scores.</span>
<span id="cb131-632"><a href="#cb131-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-633"><a href="#cb131-633" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If the Pearson correlation had been small but still positive (perhaps less than 0.2), we might conclude that pairing wouldn't be exceptionally helpful, but if the samples are meant to be paired, we should still do a paired samples analysis, but such a small correlation would imply that an independent samples comparison would come to about the same conclusion.</span>
<span id="cb131-634"><a href="#cb131-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-635"><a href="#cb131-635" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main Analysis</span></span>
<span id="cb131-636"><a href="#cb131-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-637"><a href="#cb131-637" aria-hidden="true" tabindex="-1"></a>As you'll recall, we have two main methods for building confidence intervals in a paired samples analysis:</span>
<span id="cb131-638"><a href="#cb131-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-639"><a href="#cb131-639" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Paired t test</span>
<span id="cb131-640"><a href="#cb131-640" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Bootstrap</span>
<span id="cb131-641"><a href="#cb131-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-642"><a href="#cb131-642" aria-hidden="true" tabindex="-1"></a>Let's run each in this demonstration just so you have the code, even though, as mentioned, I'd be most interested in what the bootstrap approach suggests, owing to the modest non-Normality we see in the sample of differences. I'll even throw in a Wilcoxon signed rank test approach here, even though I wouldn't recommend you include that in Project B. In each case, we'll build a 90% confidence interval for the population mean (or pseudo-median, in the case of the signed rank test) of the <span class="in">`r_now - r_pre`</span> differences. </span>
<span id="cb131-643"><a href="#cb131-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-644"><a href="#cb131-644" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Paired t test approach</span></span>
<span id="cb131-645"><a href="#cb131-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-646"><a href="#cb131-646" aria-hidden="true" tabindex="-1"></a>Here is a 90% confidence interval for the population mean of the paired <span class="in">`r_now - r_pre`</span> differences. </span>
<span id="cb131-647"><a href="#cb131-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-648"><a href="#cb131-648" aria-hidden="true" tabindex="-1"></a><span class="in">```{r paired_t_test}</span></span>
<span id="cb131-649"><a href="#cb131-649" aria-hidden="true" tabindex="-1"></a><span class="in">lm(r_diff ~ 1, data = sur_15) |&gt; </span></span>
<span id="cb131-650"><a href="#cb131-650" aria-hidden="true" tabindex="-1"></a><span class="in">  model_parameters(ci = 0.90) </span></span>
<span id="cb131-651"><a href="#cb131-651" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-652"><a href="#cb131-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-653"><a href="#cb131-653" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The point estimate for the population mean of the differences is 35.08, indicating that the average subject rated agreement with the statement about confidence in R 35 points higher now than when they started the class.</span>
<span id="cb131-654"><a href="#cb131-654" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our 90% confidence interval for the population mean of the differences is (28.12, 42.04). </span>
<span id="cb131-655"><a href="#cb131-655" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</span>
<span id="cb131-656"><a href="#cb131-656" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with population mean differences between 28.12 and 42.04, depending on the assumptions of our linear model (here, our paired t test) being correct.</span>
<span id="cb131-657"><a href="#cb131-657" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions of the paired t procedure are </span>
<span id="cb131-658"><a href="#cb131-658" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the matched differences are independent of each other, </span>
<span id="cb131-659"><a href="#cb131-659" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the matched differences represent a random sample of the population of possible matched differences, </span>
<span id="cb131-660"><a href="#cb131-660" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>and that the matched differences are drawn from a Normally distributed population. </span>
<span id="cb131-661"><a href="#cb131-661" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The last of these assumptions is hard to justify given these data, which is why I'd prefer the bootstrap approach in this case.</span>
<span id="cb131-662"><a href="#cb131-662" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Here, I've assumed a two-sided confidence interval procedure\footnote{In this case, a one-sided test might also have been a good choice, since we don't anticipate people will actually admit to being less confident about R after taking the course.} Use a two-sided confidence interval for everything you do in 431.</span>
<span id="cb131-663"><a href="#cb131-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-664"><a href="#cb131-664" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Bootstrap approach for the mean from paired samples</span></span>
<span id="cb131-665"><a href="#cb131-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-666"><a href="#cb131-666" aria-hidden="true" tabindex="-1"></a>Here is a 90% confidence interval for the population mean of the paired <span class="in">`r_now - r_pre`</span> differences, as estimated by a bootstrap approach using a random seed of <span class="in">`431`</span>. (*Note*: when you set a seed for this or other analyses in the project, pick something other than <span class="in">`431`</span>.)</span>
<span id="cb131-667"><a href="#cb131-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-668"><a href="#cb131-668" aria-hidden="true" tabindex="-1"></a><span class="in">```{r bootstrap_for_paired_samples}</span></span>
<span id="cb131-669"><a href="#cb131-669" aria-hidden="true" tabindex="-1"></a><span class="in">set.seed(431)</span></span>
<span id="cb131-670"><a href="#cb131-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-671"><a href="#cb131-671" aria-hidden="true" tabindex="-1"></a><span class="in">x_bar &lt;- sur_15 |&gt; observe(response = r_diff, stat = "mean")</span></span>
<span id="cb131-672"><a href="#cb131-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-673"><a href="#cb131-673" aria-hidden="true" tabindex="-1"></a><span class="in">res1 &lt;- sur_15 |&gt;</span></span>
<span id="cb131-674"><a href="#cb131-674" aria-hidden="true" tabindex="-1"></a><span class="in">  specify(response = r_diff) |&gt;</span></span>
<span id="cb131-675"><a href="#cb131-675" aria-hidden="true" tabindex="-1"></a><span class="in">  generate(reps = 1000, type = "bootstrap") |&gt;</span></span>
<span id="cb131-676"><a href="#cb131-676" aria-hidden="true" tabindex="-1"></a><span class="in">  calculate(stat = "mean") |&gt;</span></span>
<span id="cb131-677"><a href="#cb131-677" aria-hidden="true" tabindex="-1"></a><span class="in">  get_confidence_interval(level = 0.90, type = "percentile")</span></span>
<span id="cb131-678"><a href="#cb131-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-679"><a href="#cb131-679" aria-hidden="true" tabindex="-1"></a><span class="in">res1 &lt;- res1 |&gt; mutate(pt_est = x_bar$stat) |&gt; relocate(pt_est)</span></span>
<span id="cb131-680"><a href="#cb131-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-681"><a href="#cb131-681" aria-hidden="true" tabindex="-1"></a><span class="in">res1 |&gt; gt()</span></span>
<span id="cb131-682"><a href="#cb131-682" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-683"><a href="#cb131-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-684"><a href="#cb131-684" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The point estimate for the population mean of the differences is 35.08, indicating that the average subject rated agreement with the statement about confidence in R 35 points higher now than when they started the class.</span>
<span id="cb131-685"><a href="#cb131-685" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our 90% confidence interval for the population mean of the differences is fairly close to what we got from the paired t test, as it turns out.</span>
<span id="cb131-686"><a href="#cb131-686" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</span>
<span id="cb131-687"><a href="#cb131-687" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with population mean differences between 28.39 and 41.80, depending on the assumptions of bootstrap estimation procedure being correct.</span>
<span id="cb131-688"><a href="#cb131-688" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Again, I've assumed a two-sided confidence interval procedure, and so we can discuss a range of reasonable estimates for the true difference in <span class="in">`r_pre`</span> and <span class="in">`r_now`</span> scores.</span>
<span id="cb131-689"><a href="#cb131-689" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions of this bootstrap procedure are </span>
<span id="cb131-690"><a href="#cb131-690" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the matched differences are independent of each other, and</span>
<span id="cb131-691"><a href="#cb131-691" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the matched differences represent a random sample of the population of possible matched differences.</span>
<span id="cb131-692"><a href="#cb131-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-693"><a href="#cb131-693" aria-hidden="true" tabindex="-1"></a>These assumptions seem more reasonable.</span>
<span id="cb131-694"><a href="#cb131-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-695"><a href="#cb131-695" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions</span></span>
<span id="cb131-696"><a href="#cb131-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-697"><a href="#cb131-697" aria-hidden="true" tabindex="-1"></a>Subjects appear to improve in their comfort with R an average of 35.1 points on the 0-100 scale, with a 90% confidence interval for that average improvement of (28.4, 41.8) points. This conclusion is motivated by a bootstrap estimate to compare paired responses from students before and after the first couple of months of the course, and I feel this is the most justified approach based on my assessment of Normality in the data from these 49 students. </span>
<span id="cb131-698"><a href="#cb131-698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-699"><a href="#cb131-699" aria-hidden="true" tabindex="-1"></a>A natural next step would be to look at values of something like this over multiple years, or perhaps comparing students at more than just two stages. It would also be appealing to measure comfort with R at the earlier time, and then return to the students later, rather than asking them to remember where they were at the start a couple of months later. There are several other possible next steps here, too, depending on what population you might decide to target.</span>
<span id="cb131-700"><a href="#cb131-700" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-701"><a href="#cb131-701" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis B: Compare 2 Population Means using Independent Samples</span></span>
<span id="cb131-702"><a href="#cb131-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-703"><a href="#cb131-703" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Question</span></span>
<span id="cb131-704"><a href="#cb131-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-705"><a href="#cb131-705" aria-hidden="true" tabindex="-1"></a>We'll compare <span class="in">`bmi`</span> by <span class="in">`english`</span> in this analysis using independent samples. We're comparing the mean <span class="in">`bmi`</span> of the population represented by respondents who speak English best to the mean <span class="in">`bmi`</span> of the population represented by the respondents who speak some other language better. There is nothing to suggest that the two samples (English <span class="in">`bmi`</span> and non-English <span class="in">`bmi`</span> values) are paired or matched in any way. Plus, as we'll see, there are different numbers of English and non-English preferring subjects, so there's no way their <span class="in">`bmi`</span> values could be paired. As a result, we're going to be interested in looking at the two samples separately to help us understand issues related to hypothesis testing assumptions. **Note that we'll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project Study B work, as well.**</span>
<span id="cb131-706"><a href="#cb131-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-707"><a href="#cb131-707" aria-hidden="true" tabindex="-1"></a>Our research question is:</span>
<span id="cb131-708"><a href="#cb131-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-709"><a href="#cb131-709" aria-hidden="true" tabindex="-1"></a>Did students who speak English best have meaningfully different average body mass index values than students who speak some other language better than they speak English?</span>
<span id="cb131-710"><a href="#cb131-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-711"><a href="#cb131-711" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describing the Data</span></span>
<span id="cb131-712"><a href="#cb131-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-713"><a href="#cb131-713" aria-hidden="true" tabindex="-1"></a>Can the samples (of Yes and No respondents, separately) *each* be modeled appropriately by a Normal distribution?</span>
<span id="cb131-714"><a href="#cb131-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-715"><a href="#cb131-715" aria-hidden="true" tabindex="-1"></a><span class="fu">### Graphical Summaries</span></span>
<span id="cb131-716"><a href="#cb131-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-717"><a href="#cb131-717" aria-hidden="true" tabindex="-1"></a>Let's build a comparison boxplot (with violins and means) to start.</span>
<span id="cb131-718"><a href="#cb131-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-719"><a href="#cb131-719" aria-hidden="true" tabindex="-1"></a><span class="in">```{r boxplot_for_b}</span></span>
<span id="cb131-720"><a href="#cb131-720" aria-hidden="true" tabindex="-1"></a><span class="in">#| message: false</span></span>
<span id="cb131-721"><a href="#cb131-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-722"><a href="#cb131-722" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(sur_15, aes(x = english, y = bmi, fill = english)) + </span></span>
<span id="cb131-723"><a href="#cb131-723" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_violin(alpha = 0.3) +</span></span>
<span id="cb131-724"><a href="#cb131-724" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot(width = 0.3) +</span></span>
<span id="cb131-725"><a href="#cb131-725" aria-hidden="true" tabindex="-1"></a><span class="in">  stat_summary(fun = mean, geom = "point", size = 3, col = "white") +</span></span>
<span id="cb131-726"><a href="#cb131-726" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_social() +</span></span>
<span id="cb131-727"><a href="#cb131-727" aria-hidden="true" tabindex="-1"></a><span class="in">  guides(fill = "none") +</span></span>
<span id="cb131-728"><a href="#cb131-728" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(title = "BMI data somewhat right skewed in each group",</span></span>
<span id="cb131-729"><a href="#cb131-729" aria-hidden="true" tabindex="-1"></a><span class="in">       subtitle = "n = 49 Students in 431: Fall 2015",</span></span>
<span id="cb131-730"><a href="#cb131-730" aria-hidden="true" tabindex="-1"></a><span class="in">       x = "Speaks English better than all other languages?", y = "Body Mass Index") </span></span>
<span id="cb131-731"><a href="#cb131-731" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-732"><a href="#cb131-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-733"><a href="#cb131-733" aria-hidden="true" tabindex="-1"></a>There are at least a couple of candidate outliers in each group on the high end, which suggest some potential for meaningful skew. </span>
<span id="cb131-734"><a href="#cb131-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-735"><a href="#cb131-735" aria-hidden="true" tabindex="-1"></a>We could also build a pair of Normal Q-Q plots.</span>
<span id="cb131-736"><a href="#cb131-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-737"><a href="#cb131-737" aria-hidden="true" tabindex="-1"></a><span class="in">```{r qqplots_for_b}</span></span>
<span id="cb131-738"><a href="#cb131-738" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(sur_15, aes(sample = bmi, col = english)) +</span></span>
<span id="cb131-739"><a href="#cb131-739" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_qq() + geom_qq_line() +</span></span>
<span id="cb131-740"><a href="#cb131-740" aria-hidden="true" tabindex="-1"></a><span class="in">  facet_wrap(~ english, labeller = "label_both") +</span></span>
<span id="cb131-741"><a href="#cb131-741" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_color_social() +</span></span>
<span id="cb131-742"><a href="#cb131-742" aria-hidden="true" tabindex="-1"></a><span class="in">  guides(col = "none") +</span></span>
<span id="cb131-743"><a href="#cb131-743" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(y = "Observed BMI values",</span></span>
<span id="cb131-744"><a href="#cb131-744" aria-hidden="true" tabindex="-1"></a><span class="in">       title = "BMI isn't well fit by a Normal model in either group")</span></span>
<span id="cb131-745"><a href="#cb131-745" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-746"><a href="#cb131-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-747"><a href="#cb131-747" aria-hidden="true" tabindex="-1"></a>It looks like the right skew is large enough, at least in the Yes (speaks English best) group to warrant avoiding tests that require Normality. So again it looks like it's not reasonable to assume Normality here, or even symmetry.</span>
<span id="cb131-748"><a href="#cb131-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-749"><a href="#cb131-749" aria-hidden="true" tabindex="-1"></a><span class="fu">### Numerical Summaries</span></span>
<span id="cb131-750"><a href="#cb131-750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-751"><a href="#cb131-751" aria-hidden="true" tabindex="-1"></a>We have 16 No and 33 Yes respondents to the English language question who have known BMI values.</span>
<span id="cb131-752"><a href="#cb131-752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-753"><a href="#cb131-753" aria-hidden="true" tabindex="-1"></a><span class="in">```{r numerical_summaries_B}</span></span>
<span id="cb131-754"><a href="#cb131-754" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; group_by(english) |&gt; reframe(lovedist(bmi)) |&gt; gt()</span></span>
<span id="cb131-755"><a href="#cb131-755" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-756"><a href="#cb131-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-757"><a href="#cb131-757" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the "Yes" group, the sample mean BMI is 24.03 and sample median BMI is 23.17, while the sample standard deviation of BMI is 4.60. So the mean is <span class="in">`r round_half_up(100*(24.03 - 23.17)/4.60, 1)`</span>% of a standard deviation above the median^<span class="co">[</span><span class="ot">The usual cutoff for meaningful right skew by this measure is around 20% of a standard deviation.</span><span class="co">]</span>.</span>
<span id="cb131-758"><a href="#cb131-758" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In the "No" group, the sample mean BMI is 23.52 and sample median BMI is 23.27, while the sample standard deviation of BMI is 2.97. So the mean is <span class="in">`r round_half_up(100*(23.52 - 23.27)/2.97, 1)`</span>% of a standard deviation above the median.</span>
<span id="cb131-759"><a href="#cb131-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-760"><a href="#cb131-760" aria-hidden="true" tabindex="-1"></a>There's room for concern about whether a test that requires Normal distributions in the populations is a good choice here. With these small sample sizes, we'd probably be better off not making too many strong assumptions.</span>
<span id="cb131-761"><a href="#cb131-761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-762"><a href="#cb131-762" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main Analysis</span></span>
<span id="cb131-763"><a href="#cb131-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-764"><a href="#cb131-764" aria-hidden="true" tabindex="-1"></a>As you'll recall, we have three main methods for building confidence intervals in an independent samples analysis:</span>
<span id="cb131-765"><a href="#cb131-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-766"><a href="#cb131-766" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Welch's t test (t test without assuming equal variances)</span>
<span id="cb131-767"><a href="#cb131-767" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Pooled t test (t test with equal variances assumed)</span>
<span id="cb131-768"><a href="#cb131-768" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Bootstrap</span>
<span id="cb131-769"><a href="#cb131-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-770"><a href="#cb131-770" aria-hidden="true" tabindex="-1"></a>Let's run each here just so you have the code, even though, as mentioned, I'd be most interested in what the bootstrap approach suggests, owing to the fact that the samples aren't well described by Normal models or even symmetric ones. In each case, we'll build a 90% confidence interval for the population mean comparing <span class="in">`bmi`</span> for people who answered Yes and No to the question about English being the language they speak best.</span>
<span id="cb131-771"><a href="#cb131-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-772"><a href="#cb131-772" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Welch's t test approach</span></span>
<span id="cb131-773"><a href="#cb131-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-774"><a href="#cb131-774" aria-hidden="true" tabindex="-1"></a>With a somewhat unbalanced design (16 No and 33 Yes), the assumption of equal population variances will probably require us to look at the sample variances. </span>
<span id="cb131-775"><a href="#cb131-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-776"><a href="#cb131-776" aria-hidden="true" tabindex="-1"></a><span class="in">```{r variances_for_B}</span></span>
<span id="cb131-777"><a href="#cb131-777" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; group_by(english) |&gt;</span></span>
<span id="cb131-778"><a href="#cb131-778" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(n = n(), mean = mean(bmi), variance = var(bmi)) |&gt; gt()</span></span>
<span id="cb131-779"><a href="#cb131-779" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-780"><a href="#cb131-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-781"><a href="#cb131-781" aria-hidden="true" tabindex="-1"></a>That's a pretty substantial difference in variance with the Yes group a good deal more than 50% larger than the No group, so we might expect the Welch t test and pooled t test to look fairly different, and that would motivate me to focus on the Welch approach over the pooled t test. Of course, neither is a great choice here, due to the samples showing some non-Normality. Regardless, here is a 90% confidence interval for the difference between the "No" group and the "Yes" group population mean <span class="in">`bmi`</span> based on Welch's test.</span>
<span id="cb131-782"><a href="#cb131-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-783"><a href="#cb131-783" aria-hidden="true" tabindex="-1"></a><span class="in">```{r Welch_t_test}</span></span>
<span id="cb131-784"><a href="#cb131-784" aria-hidden="true" tabindex="-1"></a><span class="in">t.test(bmi ~ english, data = sur_15, conf.level = 0.90) </span></span>
<span id="cb131-785"><a href="#cb131-785" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-786"><a href="#cb131-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-787"><a href="#cb131-787" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The point estimates for the two population <span class="in">`bmi`</span> means are 23.523 for No and 24.027 for Yes, so the average student who speaks English best has a BMI estimated to be about 0.504 points higher points higher than the average for a student who speaks another language better than English, based on our samples. </span>
<span id="cb131-788"><a href="#cb131-788" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our 90% confidence interval for the difference (English - non-English) of the population means is (-1.33, 2.34).</span>
<span id="cb131-789"><a href="#cb131-789" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</span>
<span id="cb131-790"><a href="#cb131-790" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.33 and 2.34, depending on the assumptions of our Welch t test being correct.</span>
<span id="cb131-791"><a href="#cb131-791" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions of the Welch's t test are </span>
<span id="cb131-792"><a href="#cb131-792" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each group are drawn independently of each other, </span>
<span id="cb131-793"><a href="#cb131-793" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each group represent a random sample of the population of interest, </span>
<span id="cb131-794"><a href="#cb131-794" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>and that the samples in each group are drawn from a Normally distributed population. </span>
<span id="cb131-795"><a href="#cb131-795" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The last of these assumptions is especially hard to justify given these data.</span>
<span id="cb131-796"><a href="#cb131-796" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Here, I've also used a two-sided confidence interval procedure, which is what we'll do in all work for 431, not just Project B. </span>
<span id="cb131-797"><a href="#cb131-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-798"><a href="#cb131-798" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Pooled t test (t test with equal variances)</span></span>
<span id="cb131-799"><a href="#cb131-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-800"><a href="#cb131-800" aria-hidden="true" tabindex="-1"></a>The pooled t test, of course, actually adds an assumption (that either the sample sizes or the population variances are equal) to the assumptions of the Welch test. As mentioned above, the large difference in the sample variances and sample sizes makes this test unattractive, in addition to the problems with assuming Normality. Regardless, here is a 90% confidence interval for the difference between the non-English and English population mean <span class="in">`bmi`</span> based on the pooled t test.</span>
<span id="cb131-801"><a href="#cb131-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-802"><a href="#cb131-802" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pooled_t_test}</span></span>
<span id="cb131-803"><a href="#cb131-803" aria-hidden="true" tabindex="-1"></a><span class="in">fitB &lt;- lm(bmi ~ english, data = sur_15) </span></span>
<span id="cb131-804"><a href="#cb131-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-805"><a href="#cb131-805" aria-hidden="true" tabindex="-1"></a><span class="in">model_parameters(fitB, ci = 0.90)</span></span>
<span id="cb131-806"><a href="#cb131-806" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-807"><a href="#cb131-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-808"><a href="#cb131-808" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The point BMI estimates are 23.523 for No and 24.027 for Yes, so the average student who speaks English best has a BMI estimated to be about 0.504 points higher than the average for a student who speaks another language better than English, based on our samples.</span>
<span id="cb131-809"><a href="#cb131-809" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our 90% confidence interval for the difference (English - non-English) of the population means is now (-1.62, 2.63) based on the pooled t procedure.</span>
<span id="cb131-810"><a href="#cb131-810" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>The confidence interval reflects imprecision in the population estimate, based only on assuming that the participants are selected at random from the population of interest.</span>
<span id="cb131-811"><a href="#cb131-811" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.62 and 2.63, depending on the assumptions of our linear model being correct.</span>
<span id="cb131-812"><a href="#cb131-812" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions of the pooled t test are </span>
<span id="cb131-813"><a href="#cb131-813" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each group are drawn independently of each other, </span>
<span id="cb131-814"><a href="#cb131-814" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each group represent a random sample of the population of interest, </span>
<span id="cb131-815"><a href="#cb131-815" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>the samples in each group are drawn from a Normally distributed population, </span>
<span id="cb131-816"><a href="#cb131-816" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>*and* that either the sample sizes or the population variances are equal.</span>
<span id="cb131-817"><a href="#cb131-817" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The Normality assumption remains hard to justify given these data, so we should look at alternatives.</span>
<span id="cb131-818"><a href="#cb131-818" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Here, I've again used a two-sided confidence interval procedure, as we'll do in all 431 work.</span>
<span id="cb131-819"><a href="#cb131-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-820"><a href="#cb131-820" aria-hidden="true" tabindex="-1"></a><span class="fu">### The Bootstrap for comparing means from two independent samples</span></span>
<span id="cb131-821"><a href="#cb131-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-822"><a href="#cb131-822" aria-hidden="true" tabindex="-1"></a>An independent samples comparison that doesn't require Normality is the bootstrap. Here is a 90% confidence interval for the difference between the English and non-English population <span class="in">`bmi`</span> distributions based on the bootstrap using a seed of <span class="in">`431`</span>. (*Note*: when you set a seed for this or other analyses in the project, pick something other than <span class="in">`431`</span>.)</span>
<span id="cb131-823"><a href="#cb131-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-824"><a href="#cb131-824" aria-hidden="true" tabindex="-1"></a><span class="in">```{r bootdif_for_B}</span></span>
<span id="cb131-825"><a href="#cb131-825" aria-hidden="true" tabindex="-1"></a><span class="in">set.seed(431)</span></span>
<span id="cb131-826"><a href="#cb131-826" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt;</span></span>
<span id="cb131-827"><a href="#cb131-827" aria-hidden="true" tabindex="-1"></a><span class="in">  specify(bmi ~ english) |&gt;</span></span>
<span id="cb131-828"><a href="#cb131-828" aria-hidden="true" tabindex="-1"></a><span class="in">  generate(reps = 1000, type = "bootstrap") |&gt;</span></span>
<span id="cb131-829"><a href="#cb131-829" aria-hidden="true" tabindex="-1"></a><span class="in">  calculate(stat = "diff in means",</span></span>
<span id="cb131-830"><a href="#cb131-830" aria-hidden="true" tabindex="-1"></a><span class="in">    order = c("Yes", "No") ) |&gt;</span></span>
<span id="cb131-831"><a href="#cb131-831" aria-hidden="true" tabindex="-1"></a><span class="in">  get_confidence_interval(level = 0.90, type = "percentile")</span></span>
<span id="cb131-832"><a href="#cb131-832" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-833"><a href="#cb131-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-834"><a href="#cb131-834" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The population mean BMI in those who said Yes is estimated to be about 0.504 points higher than the population mean BMI for those who said No, based on our samples. So the mean differences' point estimate is 0.504</span>
<span id="cb131-835"><a href="#cb131-835" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our 90% bootstrapped confidence interval for the difference (Yes - No) of the population means is (-1.19, 2.28).</span>
<span id="cb131-836"><a href="#cb131-836" aria-hidden="true" tabindex="-1"></a><span class="ss">  - </span>When we generalize beyond study participants to the population they were selected at random from, then our data are compatible (at the 90% confidence level) with differences between the two population means between -1.19 and 2.28, depending on the assumptions of our bootstrap estimation procedure being correct.</span>
<span id="cb131-837"><a href="#cb131-837" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions of this bootstrap procedure are:</span>
<span id="cb131-838"><a href="#cb131-838" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each group are drawn independently of each other, </span>
<span id="cb131-839"><a href="#cb131-839" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>*and* that the samples in each group represent a random sample of the population of interest. </span>
<span id="cb131-840"><a href="#cb131-840" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Again, I've used a two-sided confidence interval procedure.</span>
<span id="cb131-841"><a href="#cb131-841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-842"><a href="#cb131-842" aria-hidden="true" tabindex="-1"></a>So, I think the bootstrap procedure would be most appropriate here, due to the non-Normality (and in particular the asymmetry) in the samples. </span>
<span id="cb131-843"><a href="#cb131-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-844"><a href="#cb131-844" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions</span></span>
<span id="cb131-845"><a href="#cb131-845" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-846"><a href="#cb131-846" aria-hidden="true" tabindex="-1"></a>We find a point estimate of 0.51 and a 90% confidence interval of  (-1.19, 2.28) for the difference between the population mean BMI for those who speak English best minus the population mean BMI for those who speak another language best, based on our sample. This conclusion is motivated by a bootstrap estimate to compare the two groups (English and non-English) across 49 subjects. I feel this is the most justified approach based on the apparent skew in the data (particularly among those who speak English best) in these students. </span>
<span id="cb131-847"><a href="#cb131-847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-848"><a href="#cb131-848" aria-hidden="true" tabindex="-1"></a>If this were an actual Project B Study 1, I'd discuss the other issues that go into a conclusion, including limitations of this study and suggestions about logical next steps. But I'll leave that to you.</span>
<span id="cb131-849"><a href="#cb131-849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-850"><a href="#cb131-850" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis C: Comparing 3 Population Means via ANOVA</span></span>
<span id="cb131-851"><a href="#cb131-851" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-852"><a href="#cb131-852" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Question</span></span>
<span id="cb131-853"><a href="#cb131-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-854"><a href="#cb131-854" aria-hidden="true" tabindex="-1"></a>We'll compare <span class="in">`comfort_431`</span> by <span class="in">`grades_r`</span> in this analysis, using the analysis of variance, and related tools. We're comparing the mean <span class="in">`comfort_431`</span> scores of the population represented by the respondents who got their best grades_r on individual work, to the population represented by the respondents who got their best grades_r with a partner, to the population represented by the respondents who got their best grades_r on group work. There is no link between subjects across the three <span class="in">`grades_r`</span> groups, so the samples are independent. Plus, as we'll see, there are different numbers of subjects in the three <span class="in">`grades_r`</span> groups, so there's no way their <span class="in">`comfort_431`</span> values could be matched. As a result, we're going to be interested in looking at the three samples separately to help us understand issues related to hypothesis testing assumptions. **Note that we'll use a 90% confidence level throughout this demonstration project for all analyses, and I encourage you to do this in your actual Project B Study 1 work, as well.**</span>
<span id="cb131-855"><a href="#cb131-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-856"><a href="#cb131-856" aria-hidden="true" tabindex="-1"></a>If this were an actual Study 1, rather than a demonstration, I'd build a research question here, but that will be your job.</span>
<span id="cb131-857"><a href="#cb131-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-858"><a href="#cb131-858" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describing the Data</span></span>
<span id="cb131-859"><a href="#cb131-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-860"><a href="#cb131-860" aria-hidden="true" tabindex="-1"></a>I'll start by looking at the range of the <span class="in">`comfort_431`</span> data within each <span class="in">`grades_r`</span> group.</span>
<span id="cb131-861"><a href="#cb131-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-862"><a href="#cb131-862" aria-hidden="true" tabindex="-1"></a><span class="in">```{r describe_comfort431_by_grades_r}</span></span>
<span id="cb131-863"><a href="#cb131-863" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; group_by(grades_r) |&gt; reframe(lovedist(comfort_431))</span></span>
<span id="cb131-864"><a href="#cb131-864" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-865"><a href="#cb131-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-866"><a href="#cb131-866" aria-hidden="true" tabindex="-1"></a>We have only 4 and 5 respondents in the Partner and Group <span class="in">`grades_r`</span> categories, respectively, so that will make it difficult to say much about the distributions of <span class="in">`comfort_431`</span> in those populations.</span>
<span id="cb131-867"><a href="#cb131-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-868"><a href="#cb131-868" aria-hidden="true" tabindex="-1"></a><span class="fu">### Graphical Summaries</span></span>
<span id="cb131-869"><a href="#cb131-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-870"><a href="#cb131-870" aria-hidden="true" tabindex="-1"></a>Since we are exploring the distributions of three independent samples, I'll plot each of the groups in a comparison boxplot, as a start.</span>
<span id="cb131-871"><a href="#cb131-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-872"><a href="#cb131-872" aria-hidden="true" tabindex="-1"></a><span class="in">```{r comparison_boxplot_analysis_2}</span></span>
<span id="cb131-873"><a href="#cb131-873" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(sur_15, aes(x = grades_r, y = comfort_431, fill = grades_r)) +</span></span>
<span id="cb131-874"><a href="#cb131-874" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_violin(alpha = 0.3) +</span></span>
<span id="cb131-875"><a href="#cb131-875" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_boxplot(width = 0.3) +</span></span>
<span id="cb131-876"><a href="#cb131-876" aria-hidden="true" tabindex="-1"></a><span class="in">  stat_summary(fun = "mean", geom = "point", size = 3, col = "white") +</span></span>
<span id="cb131-877"><a href="#cb131-877" aria-hidden="true" tabindex="-1"></a><span class="in">  coord_flip() +</span></span>
<span id="cb131-878"><a href="#cb131-878" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_social() +</span></span>
<span id="cb131-879"><a href="#cb131-879" aria-hidden="true" tabindex="-1"></a><span class="in">  guides(fill = "none") +</span></span>
<span id="cb131-880"><a href="#cb131-880" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(title = "Comfort with 431 by Type of Assignment that produces best grades_r",</span></span>
<span id="cb131-881"><a href="#cb131-881" aria-hidden="true" tabindex="-1"></a><span class="in">       y = "Comfort with 431 Materials (0-100)",</span></span>
<span id="cb131-882"><a href="#cb131-882" aria-hidden="true" tabindex="-1"></a><span class="in">       x = "")</span></span>
<span id="cb131-883"><a href="#cb131-883" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-884"><a href="#cb131-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-885"><a href="#cb131-885" aria-hidden="true" tabindex="-1"></a>The sample sizes are so small that histograms for those two levels of the <span class="in">`grades_r`</span> factor (Partner and Group) tell us nothing of substantial value.</span>
<span id="cb131-886"><a href="#cb131-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-887"><a href="#cb131-887" aria-hidden="true" tabindex="-1"></a><span class="in">```{r comparison_histograms_analysis_2}</span></span>
<span id="cb131-888"><a href="#cb131-888" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(sur_15, aes(x = comfort_431)) +</span></span>
<span id="cb131-889"><a href="#cb131-889" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_histogram(aes(fill = grades_r), bins = 10, col = "white") +</span></span>
<span id="cb131-890"><a href="#cb131-890" aria-hidden="true" tabindex="-1"></a><span class="in">  facet_wrap(~ grades_r, labeller = "label_both") +</span></span>
<span id="cb131-891"><a href="#cb131-891" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_social() +</span></span>
<span id="cb131-892"><a href="#cb131-892" aria-hidden="true" tabindex="-1"></a><span class="in">  guides(fill = "none") +</span></span>
<span id="cb131-893"><a href="#cb131-893" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(title = "Comfort with 431 by Type of Assignment that produces best grades_r",</span></span>
<span id="cb131-894"><a href="#cb131-894" aria-hidden="true" tabindex="-1"></a><span class="in">       y = "Comfort with 431 Materials (0-100)",</span></span>
<span id="cb131-895"><a href="#cb131-895" aria-hidden="true" tabindex="-1"></a><span class="in">       x = "")</span></span>
<span id="cb131-896"><a href="#cb131-896" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-897"><a href="#cb131-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-898"><a href="#cb131-898" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>In addition, the Individual data look as though they may be either skewed to the left a bit or at least have one potential outlier. </span>
<span id="cb131-899"><a href="#cb131-899" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>With these tiny sample sizes (less than 10 observations) these plots don't really help. All of the values in each group are within the stated response levels (0-100) but otherwise, there's not a lot to go on. ANOVA is quite robust, so we'll run it, but I expect that a Kruskal-Wallis approach may also be useful here.</span>
<span id="cb131-900"><a href="#cb131-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-901"><a href="#cb131-901" aria-hidden="true" tabindex="-1"></a><span class="fu">### Numerical Summaries</span></span>
<span id="cb131-902"><a href="#cb131-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-903"><a href="#cb131-903" aria-hidden="true" tabindex="-1"></a>With so few observations in the Partner and Group <span class="in">`grades_r`</span> levels, there's not much to see in numerical summaries, either. </span>
<span id="cb131-904"><a href="#cb131-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-905"><a href="#cb131-905" aria-hidden="true" tabindex="-1"></a><span class="in">```{r num_summaries_analysis2}</span></span>
<span id="cb131-906"><a href="#cb131-906" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; group_by(grades_r) |&gt; reframe(lovedist(comfort_431))</span></span>
<span id="cb131-907"><a href="#cb131-907" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-908"><a href="#cb131-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-909"><a href="#cb131-909" aria-hidden="true" tabindex="-1"></a>We have 40 Individual, 4 Partner and 5 Group subjects with known comfort levels. </span>
<span id="cb131-910"><a href="#cb131-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-911"><a href="#cb131-911" aria-hidden="true" tabindex="-1"></a>The conclusion I draw from all of this is that we need to run but that we probably can't trust an ANOVA here, with such small sample sizes in the non-Individual <span class="in">`grades_r`</span> levels. Anything below 10 subjects is just too small, and, practically, I'd consider collapsing the groups to <span class="in">`Individual`</span> vs. <span class="in">`All Other`</span>. But for this demonstration, I'll press on.</span>
<span id="cb131-912"><a href="#cb131-912" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-913"><a href="#cb131-913" aria-hidden="true" tabindex="-1"></a><span class="fu">## Analysis of Variance</span></span>
<span id="cb131-914"><a href="#cb131-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-915"><a href="#cb131-915" aria-hidden="true" tabindex="-1"></a>Let's run the ANOVA here just so you have the code, even though we don't have large enough data samples in the <span class="in">`Partner`</span> and <span class="in">`Group`</span> levels to justify statistical inference at all. </span>
<span id="cb131-916"><a href="#cb131-916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-917"><a href="#cb131-917" aria-hidden="true" tabindex="-1"></a>The Analysis of Variance compares the means of <span class="in">`comfort_431`</span> in the three <span class="in">`grades_r`</span> populations. We can run the analysis using either of two approaches, each of which we'll show in what follows.</span>
<span id="cb131-918"><a href="#cb131-918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-919"><a href="#cb131-919" aria-hidden="true" tabindex="-1"></a><span class="in">```{r anova_analysis_2_via_lm}</span></span>
<span id="cb131-920"><a href="#cb131-920" aria-hidden="true" tabindex="-1"></a><span class="in">fitC &lt;- lm(comfort_431 ~ grades_r, data = sur_15) </span></span>
<span id="cb131-921"><a href="#cb131-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-922"><a href="#cb131-922" aria-hidden="true" tabindex="-1"></a><span class="in">fitC |&gt; anova()</span></span>
<span id="cb131-923"><a href="#cb131-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-924"><a href="#cb131-924" aria-hidden="true" tabindex="-1"></a><span class="in">fitC |&gt; eta_squared()</span></span>
<span id="cb131-925"><a href="#cb131-925" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-926"><a href="#cb131-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-927"><a href="#cb131-927" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Here, we'd conclude only that the results we have are not particularly consistent with an assumption that there are no differences between the population mean <span class="in">`comfort_431`</span> scores for the three <span class="in">`grades_r`</span> categories. </span>
<span id="cb131-928"><a href="#cb131-928" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The <span class="in">`grades_r`</span> account for $\eta^2 = \frac{843.3}{843.3 + 12053.8} = 0.07$ or 7% of the variation in <span class="in">`comfort_431`</span> scores in our sample.</span>
<span id="cb131-929"><a href="#cb131-929" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The natural next question is to try to identify which pairs of <span class="in">`grades_r`</span> categories show larger estimated differences, and we'll tackle that in a moment with a Bonferroni/Holm approach (although you are welcome to use Tukey HSD instead.)</span>
<span id="cb131-930"><a href="#cb131-930" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>ANOVA is the natural extension of the pooled t test for two independent samples, and so it has the same set of assumptions when we compare population means across multiple categories (here, the three <span class="in">`grades_r`</span> categories)...</span>
<span id="cb131-931"><a href="#cb131-931" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each category are drawn independently of each other, </span>
<span id="cb131-932"><a href="#cb131-932" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>that the samples in each category represent a random sample of the population of interest,</span>
<span id="cb131-933"><a href="#cb131-933" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>the samples in each category are drawn from a Normally distributed population, </span>
<span id="cb131-934"><a href="#cb131-934" aria-hidden="true" tabindex="-1"></a><span class="ss">    + </span>*and* that either the sample sizes or the population variances are equal across the categories.</span>
<span id="cb131-935"><a href="#cb131-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-936"><a href="#cb131-936" aria-hidden="true" tabindex="-1"></a>The main problem here is that the sample size is so small that we can't tell whether this result is truly reasonable or not. We really need a minimum of 15 observations (and ideally more like 30) in each group to let our histograms and boxplots have any chance to be informative on these points. We'll move on to looking at the pairwise comparisons, though, in this demonstration.</span>
<span id="cb131-937"><a href="#cb131-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-938"><a href="#cb131-938" aria-hidden="true" tabindex="-1"></a><span class="fu">### Holm approach to Pairwise Comparisons of Means</span></span>
<span id="cb131-939"><a href="#cb131-939" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-940"><a href="#cb131-940" aria-hidden="true" tabindex="-1"></a>We have two approaches available for dealing with multiple comparisons. If we had not pre-planned the full set of pairwise comparisons of <span class="in">`comfort_431`</span> across the <span class="in">`grades_r`</span> categories, or if we wanted to use a fairly conservative approach, we could apply a Holm correction to our comparisons. This works reasonably well even with an unbalanced design, such as we have here, and I recommend you use this approach in Project B Study 1 Analysis C^<span class="co">[</span><span class="ot">There is no need in Project B for you to use both a Holm and a Tukey HSD approach to your ANOVA. Either one is OK.</span><span class="co">]</span>. </span>
<span id="cb131-941"><a href="#cb131-941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-942"><a href="#cb131-942" aria-hidden="true" tabindex="-1"></a><span class="in">```{r holm_pairwise_comparisons_analysis2}</span></span>
<span id="cb131-943"><a href="#cb131-943" aria-hidden="true" tabindex="-1"></a><span class="in">conC1 &lt;- estimate_contrasts(fitC, contrast = "grades_r", </span></span>
<span id="cb131-944"><a href="#cb131-944" aria-hidden="true" tabindex="-1"></a><span class="in">                           ci = 0.90, p.adjust = "holm")</span></span>
<span id="cb131-945"><a href="#cb131-945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-946"><a href="#cb131-946" aria-hidden="true" tabindex="-1"></a><span class="in">conC1 |&gt; gt()</span></span>
<span id="cb131-947"><a href="#cb131-947" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-948"><a href="#cb131-948" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-949"><a href="#cb131-949" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Our process detects positive differences between the mean of the Partner category and the means of the other two categories, but suggests that the difference between Individual and Group means covers both positive and negative values.</span>
<span id="cb131-950"><a href="#cb131-950" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Note that a more comprehensive discussion of the confidence intervals here might be helpful, but I'll leave that to you.</span>
<span id="cb131-951"><a href="#cb131-951" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The assumptions here include the ANOVA assumptions, which are no more or less justified than they were before. We do not, however, require that our pairwise comparisons be pre-planned.</span>
<span id="cb131-952"><a href="#cb131-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-953"><a href="#cb131-953" aria-hidden="true" tabindex="-1"></a>Here is the plot of the results.</span>
<span id="cb131-954"><a href="#cb131-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-957"><a href="#cb131-957" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-958"><a href="#cb131-958" aria-hidden="true" tabindex="-1"></a>conC1_tib <span class="ot">&lt;-</span> <span class="fu">tibble</span>(conC1) <span class="sc">|&gt;</span>  </span>
<span id="cb131-959"><a href="#cb131-959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">contr =</span> <span class="fu">str_c</span>(Level1, <span class="st">" - "</span>, Level2))</span>
<span id="cb131-960"><a href="#cb131-960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-961"><a href="#cb131-961" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(conC1_tib, <span class="fu">aes</span>(<span class="at">y =</span> contr, <span class="at">x =</span> Difference)) <span class="sc">+</span></span>
<span id="cb131-962"><a href="#cb131-962" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb131-963"><a href="#cb131-963" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> CI_low, <span class="at">xmax =</span> CI_high)) <span class="sc">+</span></span>
<span id="cb131-964"><a href="#cb131-964" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb131-965"><a href="#cb131-965" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Holm 90% HSD Intervals for Comfort with 431"</span>,</span>
<span id="cb131-966"><a href="#cb131-966" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Contrast"</span>, </span>
<span id="cb131-967"><a href="#cb131-967" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Difference in Comfort with 431"</span>)</span>
<span id="cb131-968"><a href="#cb131-968" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-969"><a href="#cb131-969" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-970"><a href="#cb131-970" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions</span></span>
<span id="cb131-971"><a href="#cb131-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-972"><a href="#cb131-972" aria-hidden="true" tabindex="-1"></a>Our conclusions are:</span>
<span id="cb131-973"><a href="#cb131-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-974"><a href="#cb131-974" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>that the sample size is just too small in the non-Individual <span class="in">`grades_r`</span> categories to draw very firm conclusions, and</span>
<span id="cb131-975"><a href="#cb131-975" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>the ANOVA results don't appear to have the power to detect meaningful differences between the means based on this small sample.</span>
<span id="cb131-976"><a href="#cb131-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-977"><a href="#cb131-977" aria-hidden="true" tabindex="-1"></a>:::{.callout-note}</span>
<span id="cb131-978"><a href="#cb131-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-979"><a href="#cb131-979" aria-hidden="true" tabindex="-1"></a>I've made no special effort here to write these conclusions in the format we're looking for in your Study 1 work, because you'll have larger sample sizes, and (I hope) more faith as a result in the comparisons you build.</span>
<span id="cb131-980"><a href="#cb131-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-981"><a href="#cb131-981" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-982"><a href="#cb131-982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-983"><a href="#cb131-983" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis D: Two-Way (2 x 2) Contingency Table</span></span>
<span id="cb131-984"><a href="#cb131-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-985"><a href="#cb131-985" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Question</span></span>
<span id="cb131-986"><a href="#cb131-986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-987"><a href="#cb131-987" aria-hidden="true" tabindex="-1"></a>We'll look at the association of <span class="in">`r_before`</span> with <span class="in">`english`</span> in this analysis. The <span class="in">`r_before`</span> variable and the <span class="in">`english`</span> variable each have two levels, and suppose we are interested in whether <span class="in">`english`</span> has an impact on <span class="in">`r_before`</span>, so we'll build a contingency table with <span class="in">`english`</span> in the rows and <span class="in">`r_before`</span> in the columns. **Note that we'll use a 90% confidence level and the add 2 successes and 2 failures Bayesian augmentation, and I encourage you to do this in your actual Project B Study 1 work, as well.** I'll remind you that in your Project B, we're requiring you to have a minimum number of observations within each cell of the table that I cannot meet here with this tiny sample size.</span>
<span id="cb131-988"><a href="#cb131-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-989"><a href="#cb131-989" aria-hidden="true" tabindex="-1"></a>If this were an actual Study 1, rather than a demonstration, I'd build a research question here, but I have decided to leave that work to you.</span>
<span id="cb131-990"><a href="#cb131-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-991"><a href="#cb131-991" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describing the Data</span></span>
<span id="cb131-992"><a href="#cb131-992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-993"><a href="#cb131-993" aria-hidden="true" tabindex="-1"></a>Here is the data for our 2x2 table.</span>
<span id="cb131-994"><a href="#cb131-994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-995"><a href="#cb131-995" aria-hidden="true" tabindex="-1"></a><span class="in">```{r english_vs_priorr}</span></span>
<span id="cb131-996"><a href="#cb131-996" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt; tabyl(english, r_before) |&gt; adorn_title()</span></span>
<span id="cb131-997"><a href="#cb131-997" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-998"><a href="#cb131-998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-999"><a href="#cb131-999" aria-hidden="true" tabindex="-1"></a>Those names could use some work, I think.</span>
<span id="cb131-1000"><a href="#cb131-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1001"><a href="#cb131-1001" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The row names, in order, should be something like "English" (where "Yes" is now) and "Not English" with "English" first</span>
<span id="cb131-1002"><a href="#cb131-1002" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The column names, respectively, should be "Prior R user" and "No Prior R", with "Prior R User" first.</span>
<span id="cb131-1003"><a href="#cb131-1003" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1006"><a href="#cb131-1006" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1007"><a href="#cb131-1007" aria-hidden="true" tabindex="-1"></a>sur_15_D <span class="ot">&lt;-</span> sur_15 <span class="sc">|&gt;</span></span>
<span id="cb131-1008"><a href="#cb131-1008" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(s_id, english, r_before) <span class="sc">|&gt;</span></span>
<span id="cb131-1009"><a href="#cb131-1009" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">english_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(english),</span>
<span id="cb131-1010"><a href="#cb131-1010" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Not English"</span> <span class="ot">=</span> <span class="st">"No"</span>,</span>
<span id="cb131-1011"><a href="#cb131-1011" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"English"</span> <span class="ot">=</span> <span class="st">"Yes"</span>),</span>
<span id="cb131-1012"><a href="#cb131-1012" aria-hidden="true" tabindex="-1"></a>         <span class="at">english_r =</span> <span class="fu">fct_relevel</span>(english_r, <span class="st">"English"</span>),</span>
<span id="cb131-1013"><a href="#cb131-1013" aria-hidden="true" tabindex="-1"></a>         <span class="at">r_before_r =</span> <span class="fu">fct_recode</span>(<span class="fu">factor</span>(r_before),</span>
<span id="cb131-1014"><a href="#cb131-1014" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"No Prior R"</span> <span class="ot">=</span> <span class="st">"No"</span>,</span>
<span id="cb131-1015"><a href="#cb131-1015" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Prior R user"</span> <span class="ot">=</span> <span class="st">"Yes"</span>),</span>
<span id="cb131-1016"><a href="#cb131-1016" aria-hidden="true" tabindex="-1"></a>         <span class="at">r_before_r =</span> <span class="fu">fct_relevel</span>(r_before_r, <span class="st">"Prior R user"</span>))</span>
<span id="cb131-1017"><a href="#cb131-1017" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1018"><a href="#cb131-1018" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1021"><a href="#cb131-1021" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1022"><a href="#cb131-1022" aria-hidden="true" tabindex="-1"></a>sur_15_D <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(english_r, r_before_r) </span>
<span id="cb131-1023"><a href="#cb131-1023" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1024"><a href="#cb131-1024" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1025"><a href="#cb131-1025" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main Analysis</span></span>
<span id="cb131-1026"><a href="#cb131-1026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1027"><a href="#cb131-1027" aria-hidden="true" tabindex="-1"></a>I **strongly encourage** you to use the Bayesian augmentation where we add two successes and add two failures, as recommended in Agresti and Coull^<span class="co">[</span><span class="ot">Agresti A Coull BA 1988 Approximate is Better than "Exact" for Interval Estimation of Binomial Proportions. The American Statistician 52(2), 119-126. http://www.jstor.org/stable/2685469</span><span class="co">]</span>, and to use 90% confidence levels. To accomplish this I'll use the <span class="in">`twoby2`</span> function in the <span class="in">`Epi`</span> package.</span>
<span id="cb131-1028"><a href="#cb131-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1029"><a href="#cb131-1029" aria-hidden="true" tabindex="-1"></a><span class="in">```{r twoby2_analysis4}</span></span>
<span id="cb131-1030"><a href="#cb131-1030" aria-hidden="true" tabindex="-1"></a><span class="in">t1 &lt;- table(sur_15_D$english_r, sur_15_D$r_before_r)</span></span>
<span id="cb131-1031"><a href="#cb131-1031" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1032"><a href="#cb131-1032" aria-hidden="true" tabindex="-1"></a><span class="in">twoby2(t1 + 2, conf.level = 0.90) </span></span>
<span id="cb131-1033"><a href="#cb131-1033" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1034"><a href="#cb131-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1035"><a href="#cb131-1035" aria-hidden="true" tabindex="-1"></a>Note what I did to add two observations to each cell of the table. </span>
<span id="cb131-1036"><a href="#cb131-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1037"><a href="#cb131-1037" aria-hidden="true" tabindex="-1"></a>:::{.calllout-note}</span>
<span id="cb131-1038"><a href="#cb131-1038" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1039"><a href="#cb131-1039" aria-hidden="true" tabindex="-1"></a>In your Project B write-up, be sure to interpret the point estimates of the relative risk **and** the odds ratio (the sample one, not the conditional MLE one) **and** the probability difference. For the confidence intervals, though, just write out your interpretation of the confidence interval explanation for the probability difference.</span>
<span id="cb131-1040"><a href="#cb131-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1041"><a href="#cb131-1041" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1042"><a href="#cb131-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1043"><a href="#cb131-1043" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1044"><a href="#cb131-1044" aria-hidden="true" tabindex="-1"></a>We can draw conclusions now about:</span>
<span id="cb131-1045"><a href="#cb131-1045" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1046"><a href="#cb131-1046" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The individual probabilities of being a prior R user in the English and non-English groups, and 90% confidence intervals for each at the top of the output, so that, for instance, we estimate the probability of prior R usage among subjects for whom English is not their best language at 0.45, with 90% confidence interval (0.29, 0.63).</span>
<span id="cb131-1047"><a href="#cb131-1047" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The relative risk of Prior R use given English vs. Prior R use given non-English, which is estimated to be 1.14, with 90% CI (0.70, 1.85). (In your project, you'll explain what your relative risk point estimate means in detail, but don't worry about interpreting the CI - just specify the lower and upper bounds.)</span>
<span id="cb131-1048"><a href="#cb131-1048" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The odds ratio describing the odds of Prior R use given English vs. Non-English, which is estimated to be 1.29 with 90% CI (0.52, 3.22). (In your project B, you'll explain what your odds ratio point estimate means in detail, but don't worry about interpreting the CI - just specify the lower and upper bounds.)</span>
<span id="cb131-1049"><a href="#cb131-1049" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The difference in probability of Prior R use for English vs. non-English subjects, which is estimated to be 0.0635, with a 90% confidence interval of (-0.1576, 0.2740). (In your project, you'll explain what your point estimate for the probability difference means in detail and also state and  interpret the CI for the probability difference.)</span>
<span id="cb131-1050"><a href="#cb131-1050" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The chi-square test of independence, which assesses the null hypothesis of no association between language preference and prior R usage, using either Fisher's exact test\footnote{I use Fisher's exact test with small-ish 2x2 tables where R will run it, if you have to choose between the methods.} or the Pearson chi-square test (labeled asymptotic here.) The p value here is quite large.</span>
<span id="cb131-1051"><a href="#cb131-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1052"><a href="#cb131-1052" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checking Assumptions</span></span>
<span id="cb131-1053"><a href="#cb131-1053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1054"><a href="#cb131-1054" aria-hidden="true" tabindex="-1"></a>Since each cell in our (non-augmented) 2x2 table is at least 5, R throws no warning messages. We should be reasonably comfortable with the chi-square test of independence here. If every cell was 10 or more, we'd be even more comfortable.</span>
<span id="cb131-1055"><a href="#cb131-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1056"><a href="#cb131-1056" aria-hidden="true" tabindex="-1"></a><span class="fu">### What If We Wanted to Type in the Table Ourselves?</span></span>
<span id="cb131-1057"><a href="#cb131-1057" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1058"><a href="#cb131-1058" aria-hidden="true" tabindex="-1"></a>With the <span class="in">`twobytwo`</span> function available in the <span class="in">`Love-boost.R`</span> script, we can directly obtain 90% confidence intervals. For example, suppose we had the following data, pulled from our 2016 survey:</span>
<span id="cb131-1059"><a href="#cb131-1059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1060"><a href="#cb131-1060" aria-hidden="true" tabindex="-1"></a>2016 Survey    | Drank Tea Recently | Didn't Drink Tea</span>
<span id="cb131-1061"><a href="#cb131-1061" aria-hidden="true" tabindex="-1"></a>-------------: | -----------------: | ---------------:</span>
<span id="cb131-1062"><a href="#cb131-1062" aria-hidden="true" tabindex="-1"></a>Not Born in US | 21 | 10</span>
<span id="cb131-1063"><a href="#cb131-1063" aria-hidden="true" tabindex="-1"></a>US Born        | 20 | 18</span>
<span id="cb131-1064"><a href="#cb131-1064" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1065"><a href="#cb131-1065" aria-hidden="true" tabindex="-1"></a>Suppose we wanted to use <span class="in">`twobytwo`</span> and the +2/+4 Bayesian augmentation (adding 2 to the count in each cell of our 2x2 table) and a 90% confidence interval for this comparison, to see whether the population proportions who drank tea recently differ between those born in and out of the US.</span>
<span id="cb131-1066"><a href="#cb131-1066" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1067"><a href="#cb131-1067" aria-hidden="true" tabindex="-1"></a><span class="in">```{r twobytwo for new example}</span></span>
<span id="cb131-1068"><a href="#cb131-1068" aria-hidden="true" tabindex="-1"></a><span class="in">twobytwo(21+2, 10+2, 20+2, 18+2,</span></span>
<span id="cb131-1069"><a href="#cb131-1069" aria-hidden="true" tabindex="-1"></a><span class="in">         "Not US Born", "US Born", "Drank Tea", "No Tea",</span></span>
<span id="cb131-1070"><a href="#cb131-1070" aria-hidden="true" tabindex="-1"></a><span class="in">         conf.level = 0.90)</span></span>
<span id="cb131-1071"><a href="#cb131-1071" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1072"><a href="#cb131-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1073"><a href="#cb131-1073" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions</span></span>
<span id="cb131-1074"><a href="#cb131-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1075"><a href="#cb131-1075" aria-hidden="true" tabindex="-1"></a>Our primary conclusions about the study we've done here in Analysis D should be motivated by comparing the point estimates of the relative risk and odds ratio to what they would be (i.e., 1) if there was no relationship, and a more thorough description of the estimated difference in probabilities between the two groups (English and not English in our case) including its 90% confidence interval.</span>
<span id="cb131-1076"><a href="#cb131-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1077"><a href="#cb131-1077" aria-hidden="true" tabindex="-1"></a>Then we'd write more about limitations and opportunities for further work, were this an actual Study 1, instead of just a demonstration. </span>
<span id="cb131-1078"><a href="#cb131-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1079"><a href="#cb131-1079" aria-hidden="true" tabindex="-1"></a><span class="fu"># Analysis E: Two-Way (3 x 4) Contingency Table</span></span>
<span id="cb131-1080"><a href="#cb131-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1081"><a href="#cb131-1081" aria-hidden="true" tabindex="-1"></a><span class="fu">## The Question</span></span>
<span id="cb131-1082"><a href="#cb131-1082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1083"><a href="#cb131-1083" aria-hidden="true" tabindex="-1"></a>We'll look at the association of two categorical factors we created earlier: <span class="in">`medium_r`</span> and <span class="in">`fiction_r`</span> in this analysis. We're interested in whether there is an association between the ways in which subjects consumed their fiction, and the type of fiction they most enjoy. The <span class="in">`medium_r`</span> data have three levels, and the <span class="in">`fiction_r`</span> data have four levels. **Note that we'll use a 90% confidence level and I encourage you to do this in your actual Project B Study 1 work, as well.**</span>
<span id="cb131-1084"><a href="#cb131-1084" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1085"><a href="#cb131-1085" aria-hidden="true" tabindex="-1"></a>If this were an actual Study 1, rather than a demonstration, I'd build a research question here, but I have decided to leave that work to you.</span>
<span id="cb131-1086"><a href="#cb131-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1087"><a href="#cb131-1087" aria-hidden="true" tabindex="-1"></a><span class="fu">## Describing the Data</span></span>
<span id="cb131-1088"><a href="#cb131-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1089"><a href="#cb131-1089" aria-hidden="true" tabindex="-1"></a>Let's store this initial table of interest as <span class="in">`table_E1`</span> </span>
<span id="cb131-1090"><a href="#cb131-1090" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1093"><a href="#cb131-1093" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1094"><a href="#cb131-1094" aria-hidden="true" tabindex="-1"></a>table_E1 <span class="ot">&lt;-</span> <span class="fu">table</span>(sur_15<span class="sc">$</span>medium_r, sur_15<span class="sc">$</span>fiction_r)</span>
<span id="cb131-1095"><a href="#cb131-1095" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1096"><a href="#cb131-1096" aria-hidden="true" tabindex="-1"></a>table_E1</span>
<span id="cb131-1097"><a href="#cb131-1097" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1098"><a href="#cb131-1098" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1099"><a href="#cb131-1099" aria-hidden="true" tabindex="-1"></a>We could add the marginal totals, I suppose.</span>
<span id="cb131-1100"><a href="#cb131-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1101"><a href="#cb131-1101" aria-hidden="true" tabindex="-1"></a><span class="in">```{r medium_fiction_table}</span></span>
<span id="cb131-1102"><a href="#cb131-1102" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 |&gt;</span></span>
<span id="cb131-1103"><a href="#cb131-1103" aria-hidden="true" tabindex="-1"></a><span class="in">  tabyl(medium_r, fiction_r) |&gt;</span></span>
<span id="cb131-1104"><a href="#cb131-1104" aria-hidden="true" tabindex="-1"></a><span class="in">  adorn_totals(where = c("row", "col"))</span></span>
<span id="cb131-1105"><a href="#cb131-1105" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1106"><a href="#cb131-1106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1107"><a href="#cb131-1107" aria-hidden="true" tabindex="-1"></a>Note that we don't meet the Cochran conditions here. In particular, we still have a 0 cell, and that might motivate us to consider collapsing or removing the "Other" category from the <span class="in">`fiction_r`</span> variable. </span>
<span id="cb131-1108"><a href="#cb131-1108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1109"><a href="#cb131-1109" aria-hidden="true" tabindex="-1"></a>**NOTE**: In doing your project B, I would only proceed once I'd identified variables (after whatever collapsing you decide to do) that meet the Cochran conditions (described below.)</span>
<span id="cb131-1110"><a href="#cb131-1110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1111"><a href="#cb131-1111" aria-hidden="true" tabindex="-1"></a>I'll leave it alone for now, and see what happens, returning to this later. The research question, if I'd written would need to address whether which medium (Movies, TV or other) you like is associated with which genre (Comedy, Drama, Fantasy/SF) you prefer.</span>
<span id="cb131-1112"><a href="#cb131-1112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1113"><a href="#cb131-1113" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main Analysis</span></span>
<span id="cb131-1114"><a href="#cb131-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1115"><a href="#cb131-1115" aria-hidden="true" tabindex="-1"></a><span class="fu">### Running the Pearson $\chi^2$ Test</span></span>
<span id="cb131-1116"><a href="#cb131-1116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1117"><a href="#cb131-1117" aria-hidden="true" tabindex="-1"></a>We'll run the Pearson $\chi^2$ test using:</span>
<span id="cb131-1118"><a href="#cb131-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1119"><a href="#cb131-1119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r pearson_chi-square_table_E1}</span></span>
<span id="cb131-1120"><a href="#cb131-1120" aria-hidden="true" tabindex="-1"></a><span class="in">chisq.test(table_E1)</span></span>
<span id="cb131-1121"><a href="#cb131-1121" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1122"><a href="#cb131-1122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1123"><a href="#cb131-1123" aria-hidden="true" tabindex="-1"></a>Note the warning, because our table does not meet the Cochran conditions.</span>
<span id="cb131-1124"><a href="#cb131-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1125"><a href="#cb131-1125" aria-hidden="true" tabindex="-1"></a><span class="fu">### Running Fisher's Exact Test</span></span>
<span id="cb131-1126"><a href="#cb131-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1127"><a href="#cb131-1127" aria-hidden="true" tabindex="-1"></a>**NOTE**: In doing your project B, I would only proceed once I'd identified variables (after whatever collapsing you decide to do) that meet the Cochran conditions (described below.) I would not run Fisher's test.</span>
<span id="cb131-1128"><a href="#cb131-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1129"><a href="#cb131-1129" aria-hidden="true" tabindex="-1"></a>Given a small overall sample size, the <span class="in">`fisher.test`</span> command will also produce a Fisher's exact test, which may be a little more appropriate here, given the presence of cells with small counts.</span>
<span id="cb131-1130"><a href="#cb131-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1131"><a href="#cb131-1131" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fisher_exact_for_table_E1}</span></span>
<span id="cb131-1132"><a href="#cb131-1132" aria-hidden="true" tabindex="-1"></a><span class="in">fisher.test(table_E1)</span></span>
<span id="cb131-1133"><a href="#cb131-1133" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1134"><a href="#cb131-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1135"><a href="#cb131-1135" aria-hidden="true" tabindex="-1"></a>Based on the Fisher test, we would get only a slightly different conclusion than the Pearson test. However, </span>
<span id="cb131-1136"><a href="#cb131-1136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1137"><a href="#cb131-1137" aria-hidden="true" tabindex="-1"></a>a. Our conclusions are quite dependent on the choice of $\alpha$ level.</span>
<span id="cb131-1138"><a href="#cb131-1138" aria-hidden="true" tabindex="-1"></a>b. Neither test is really appropriate, since we have very small cell counts, including a zero.</span>
<span id="cb131-1139"><a href="#cb131-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1140"><a href="#cb131-1140" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checking Assumptions - The Cochran Conditions</span></span>
<span id="cb131-1141"><a href="#cb131-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1142"><a href="#cb131-1142" aria-hidden="true" tabindex="-1"></a>The "Cochran conditions", which require that we have:</span>
<span id="cb131-1143"><a href="#cb131-1143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1144"><a href="#cb131-1144" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>no cells with 0 counts</span>
<span id="cb131-1145"><a href="#cb131-1145" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>at least 80% of the cells in our table with counts of 5 or higher</span>
<span id="cb131-1146"><a href="#cb131-1146" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>expected counts in each cell of the table should be 5 or more</span>
<span id="cb131-1147"><a href="#cb131-1147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1148"><a href="#cb131-1148" aria-hidden="true" tabindex="-1"></a>We don't meet those Cochran conditions here. In addition, since each cell in our 3x4 table is NOT at least 5, R throws a warning message when we run the Pearson $\chi^2$ test, and since we don't meet the Cochran conditions, the <span class="in">`fisher.test`</span> results are questionable, as well. We should consider whether collapsing or deleting some of the rows or columns might be more reasonable. And we'll do this next.</span>
<span id="cb131-1149"><a href="#cb131-1149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1150"><a href="#cb131-1150" aria-hidden="true" tabindex="-1"></a><span class="fu">### An Association Plot for the 3x4 Table</span></span>
<span id="cb131-1151"><a href="#cb131-1151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1152"><a href="#cb131-1152" aria-hidden="true" tabindex="-1"></a>The <span class="in">`assocplot`</span> function in R produces a plot that indicates deviations from the assumption of independence of rows and columns in a two-way table. For instance, using our original table, we have:</span>
<span id="cb131-1153"><a href="#cb131-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1154"><a href="#cb131-1154" aria-hidden="true" tabindex="-1"></a><span class="in">```{r assoc_plot_table_E1, fig.height = 6}</span></span>
<span id="cb131-1155"><a href="#cb131-1155" aria-hidden="true" tabindex="-1"></a><span class="in">assocplot(table_E1)</span></span>
<span id="cb131-1156"><a href="#cb131-1156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1157"><a href="#cb131-1157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1158"><a href="#cb131-1158" aria-hidden="true" tabindex="-1"></a>We can see that the independence model really doesn't work well for the cells with larger shapes here, which we note especially in the Fantasy/SF category, and to some extent in the Comedy category.</span>
<span id="cb131-1159"><a href="#cb131-1159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1160"><a href="#cb131-1160" aria-hidden="true" tabindex="-1"></a>**Hint**: Finding a better scheme for visualizing a contingency table's relationship to independence (or simply the table itself), especially if it's using the <span class="in">`gt`</span> package, would be a good idea to explore further in Analysis E, too, especially if you're looking to learn to build savvy tables. But this is not necessary, certainly.</span>
<span id="cb131-1161"><a href="#cb131-1161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1162"><a href="#cb131-1162" aria-hidden="true" tabindex="-1"></a><span class="fu">### A 2x3 Table, After Collapsing (Lumping) Some Small Rows and Columns</span></span>
<span id="cb131-1163"><a href="#cb131-1163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1164"><a href="#cb131-1164" aria-hidden="true" tabindex="-1"></a>Suppose we instead decided to drop down to a study of TV vs. Other media (combining Movies and Other) and also collapsed the Fantasy/SF and Other columns (so the remaining subjects form a 2x3 table), in an effort to remove zero cells, and reduce the incidence of cells with counts below 5.</span>
<span id="cb131-1165"><a href="#cb131-1165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1166"><a href="#cb131-1166" aria-hidden="true" tabindex="-1"></a>First, we'll combine the Movies and Other groups to create <span class="in">`medium_2`</span> from <span class="in">`medium_r`</span> using <span class="in">`fct_recode`</span>.</span>
<span id="cb131-1167"><a href="#cb131-1167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1168"><a href="#cb131-1168" aria-hidden="true" tabindex="-1"></a><span class="in">```{r create_medium_2}</span></span>
<span id="cb131-1169"><a href="#cb131-1169" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 &lt;- sur_15 |&gt;</span></span>
<span id="cb131-1170"><a href="#cb131-1170" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(medium_2 = fct_recode(medium_r, </span></span>
<span id="cb131-1171"><a href="#cb131-1171" aria-hidden="true" tabindex="-1"></a><span class="in">                                "Not TV" = "Movies",</span></span>
<span id="cb131-1172"><a href="#cb131-1172" aria-hidden="true" tabindex="-1"></a><span class="in">                                "TV" = "TV",</span></span>
<span id="cb131-1173"><a href="#cb131-1173" aria-hidden="true" tabindex="-1"></a><span class="in">                                "Not TV" = "Other"))</span></span>
<span id="cb131-1174"><a href="#cb131-1174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1175"><a href="#cb131-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1176"><a href="#cb131-1176" aria-hidden="true" tabindex="-1"></a>Or, we can use the <span class="in">`fct_lump`</span> function to lump together the two categories with the smallest overall counts directly, in creating <span class="in">`fiction_3`</span> from <span class="in">`fiction_r`</span>.</span>
<span id="cb131-1177"><a href="#cb131-1177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1178"><a href="#cb131-1178" aria-hidden="true" tabindex="-1"></a><span class="in">```{r lump_fiction_r_to_get_fiction_3}</span></span>
<span id="cb131-1179"><a href="#cb131-1179" aria-hidden="true" tabindex="-1"></a><span class="in">sur_15 &lt;- sur_15 |&gt;</span></span>
<span id="cb131-1180"><a href="#cb131-1180" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(fiction_3 = fct_lump(fiction_r, 2))</span></span>
<span id="cb131-1181"><a href="#cb131-1181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1182"><a href="#cb131-1182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1183"><a href="#cb131-1183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1184"><a href="#cb131-1184" aria-hidden="true" tabindex="-1"></a>Let's call the collapsed table <span class="in">`table_E2`</span>. </span>
<span id="cb131-1185"><a href="#cb131-1185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1186"><a href="#cb131-1186" aria-hidden="true" tabindex="-1"></a><span class="in">```{r table_E2}</span></span>
<span id="cb131-1187"><a href="#cb131-1187" aria-hidden="true" tabindex="-1"></a><span class="in">table_E2 &lt;- </span></span>
<span id="cb131-1188"><a href="#cb131-1188" aria-hidden="true" tabindex="-1"></a><span class="in">  table(sur_15$medium_2, sur_15$fiction_3)</span></span>
<span id="cb131-1189"><a href="#cb131-1189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1190"><a href="#cb131-1190" aria-hidden="true" tabindex="-1"></a><span class="in">table_E2</span></span>
<span id="cb131-1191"><a href="#cb131-1191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1192"><a href="#cb131-1192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1193"><a href="#cb131-1193" aria-hidden="true" tabindex="-1"></a>This new 2x3 table loses some fidelity, but gains in that each cell now contains at least 5 subjects. I'll remind you that in your Project B, we're requiring you to have even more than that in each cell.</span>
<span id="cb131-1194"><a href="#cb131-1194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1195"><a href="#cb131-1195" aria-hidden="true" tabindex="-1"></a><span class="fu">### Chi-Square Testing for the 2x3 Table</span></span>
<span id="cb131-1196"><a href="#cb131-1196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1197"><a href="#cb131-1197" aria-hidden="true" tabindex="-1"></a>And here are the results from chi-square testing...</span>
<span id="cb131-1198"><a href="#cb131-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1199"><a href="#cb131-1199" aria-hidden="true" tabindex="-1"></a><span class="in">```{r table_E2_testing}</span></span>
<span id="cb131-1200"><a href="#cb131-1200" aria-hidden="true" tabindex="-1"></a><span class="in">chisq.test(table_E2)</span></span>
<span id="cb131-1201"><a href="#cb131-1201" aria-hidden="true" tabindex="-1"></a><span class="in">fisher.test(table_E2)</span></span>
<span id="cb131-1202"><a href="#cb131-1202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1203"><a href="#cb131-1203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1204"><a href="#cb131-1204" aria-hidden="true" tabindex="-1"></a>For the project, once all of the cells have at least 5 observations, I recommend the use of the Pearson approach, unless the table is square (# of rows = # of columns), in which case the Fisher test is also a reasonable choice. Generally, the Fisher test is more appropriate when the sample sizes are small. In this case, of course, it doesn't matter much after collapsing cells and forming this 2x3 table. We'll close with the association plot for this smaller table, which suggests that the independence model inverts its errors for Comedy as compared to the other two categories. </span>
<span id="cb131-1205"><a href="#cb131-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1206"><a href="#cb131-1206" aria-hidden="true" tabindex="-1"></a><span class="in">```{r table_E2_assocplot, fig.height = 4}</span></span>
<span id="cb131-1207"><a href="#cb131-1207" aria-hidden="true" tabindex="-1"></a><span class="in">assocplot(table_E2)</span></span>
<span id="cb131-1208"><a href="#cb131-1208" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1209"><a href="#cb131-1209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1210"><a href="#cb131-1210" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusions</span></span>
<span id="cb131-1211"><a href="#cb131-1211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1212"><a href="#cb131-1212" aria-hidden="true" tabindex="-1"></a>Using the collapsed <span class="in">`table_E2`</span> to meet the Cochran conditions, and either the Pearson or Fisher test we detect no strong association between the favorite consumption method and favorite genre. I'd also spend a bit of time talking about the results of the <span class="in">`assocplot`</span>, I think, or at least make some effort to indicate where the independence assumption holds less well, even though it doesn't reach the point where we can reject it with 90% confidence.</span>
<span id="cb131-1213"><a href="#cb131-1213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1214"><a href="#cb131-1214" aria-hidden="true" tabindex="-1"></a>Again, it's your job to identify and discuss your conclusions, as expected in the instructions for Project B Study 1. This is just a demonstration.</span>
<span id="cb131-1215"><a href="#cb131-1215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1216"><a href="#cb131-1216" aria-hidden="true" tabindex="-1"></a><span class="fu"># Session Information</span></span>
<span id="cb131-1217"><a href="#cb131-1217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1218"><a href="#cb131-1218" aria-hidden="true" tabindex="-1"></a>End your report with the session information, in its own section. This will be Section 8 for you, but it's Section 9 for me because I did all five analyses, whereas you will only do four.</span>
<span id="cb131-1219"><a href="#cb131-1219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1222"><a href="#cb131-1222" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1223"><a href="#cb131-1223" aria-hidden="true" tabindex="-1"></a><span class="fu">session_info</span>()</span>
<span id="cb131-1224"><a href="#cb131-1224" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>